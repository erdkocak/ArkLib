<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../../.././style.css"></link><link rel="icon" href="../../.././favicon.svg"></link><link rel="mask-icon" href="../../.././favicon.svg" color="#000000"></link><link rel="prefetch" href="../../.././/declarations/declaration-data.bmp" as="image"></link><title>ArkLib.OracleReduction.LiftContext.Reduction</title><script defer="true" src="../../.././mathjax-config.js"></script><script defer="true" src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../../.././";</script><script>const MODULE_NAME="ArkLib.OracleReduction.LiftContext.Reduction";</script><script type="module" src="../../.././jump-src.js"></script><script type="module" src="../../.././search.js"></script><script type="module" src="../../.././expand-nav.js"></script><script type="module" src="../../.././how-about.js"></script><script type="module" src="../../.././instances.js"></script><script type="module" src="../../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">ArkLib</span>.<span class="name">OracleReduction</span>.<span class="name">LiftContext</span>.<span class="name">Reduction</span></h2><form id="search_form"><input type="text" name="q" autocomplete="off"></input>&#32;<button id="search_button" onclick="javascript: form.action='../../.././search.html';">Search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/LiftContext/Reduction.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../../.././Init.html">Init</a></li><li><a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html">ArkLib.OracleReduction.LiftContext.Lens</a></li><li><a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html">ArkLib.OracleReduction.Security.RoundByRound</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-ArkLib.OracleReduction.LiftContext.Reduction" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#Prover.liftContext"><span class="name">Prover</span>.<span class="name">liftContext</span></a></div><div class="nav_link"><a class="break_within" href="#Verifier.liftContext"><span class="name">Verifier</span>.<span class="name">liftContext</span></a></div><div class="nav_link"><a class="break_within" href="#Reduction.liftContext"><span class="name">Reduction</span>.<span class="name">liftContext</span></a></div><div class="nav_link"><a class="break_within" href="#Extractor.Straightline.liftContext"><span class="name">Extractor</span>.<span class="name">Straightline</span>.<span class="name">liftContext</span></a></div><div class="nav_link"><a class="break_within" href="#Extractor.RoundByRound.liftContext"><span class="name">Extractor</span>.<span class="name">RoundByRound</span>.<span class="name">liftContext</span></a></div><div class="nav_link"><a class="break_within" href="#Verifier.compatStatement"><span class="name">Verifier</span>.<span class="name">compatStatement</span></a></div><div class="nav_link"><a class="break_within" href="#Reduction.compatContext"><span class="name">Reduction</span>.<span class="name">compatContext</span></a></div><div class="nav_link"><a class="break_within" href="#Extractor.Straightline.compatWit"><span class="name">Extractor</span>.<span class="name">Straightline</span>.<span class="name">compatWit</span></a></div><div class="nav_link"><a class="break_within" href="#Verifier.StateFunction.liftContext"><span class="name">Verifier</span>.<span class="name">StateFunction</span>.<span class="name">liftContext</span></a></div><div class="nav_link"><a class="break_within" href="#Prover.liftContext_processRound"><span class="name">Prover</span>.<span class="name">liftContext_processRound</span></a></div><div class="nav_link"><a class="break_within" href="#Prover.liftContext_runToRound"><span class="name">Prover</span>.<span class="name">liftContext_runToRound</span></a></div><div class="nav_link"><a class="break_within" href="#Prover.liftContext_runWithLogToRound"><span class="name">Prover</span>.<span class="name">liftContext_runWithLogToRound</span></a></div><div class="nav_link"><a class="break_within" href="#Prover.liftContext_run"><span class="name">Prover</span>.<span class="name">liftContext_run</span></a></div><div class="nav_link"><a class="break_within" href="#Prover.liftContext_runWithLog"><span class="name">Prover</span>.<span class="name">liftContext_runWithLog</span></a></div><div class="nav_link"><a class="break_within" href="#Reduction.liftContext_run"><span class="name">Reduction</span>.<span class="name">liftContext_run</span></a></div><div class="nav_link"><a class="break_within" href="#Reduction.liftContext_runWithLog"><span class="name">Reduction</span>.<span class="name">liftContext_runWithLog</span></a></div><div class="nav_link"><a class="break_within" href="#Reduction.liftContext_completeness"><span class="name">Reduction</span>.<span class="name">liftContext_completeness</span></a></div><div class="nav_link"><a class="break_within" href="#Reduction.liftContext_perfectCompleteness"><span class="name">Reduction</span>.<span class="name">liftContext_perfectCompleteness</span></a></div><div class="nav_link"><a class="break_within" href="#Verifier.liftContext_soundness"><span class="name">Verifier</span>.<span class="name">liftContext_soundness</span></a></div><div class="nav_link"><a class="break_within" href="#Verifier.liftContext_knowledgeSoundness"><span class="name">Verifier</span>.<span class="name">liftContext_knowledgeSoundness</span></a></div><div class="nav_link"><a class="break_within" href="#Verifier.liftContext_rbr_soundness"><span class="name">Verifier</span>.<span class="name">liftContext_rbr_soundness</span></a></div><div class="nav_link"><a class="break_within" href="#Verifier.liftContext_rbr_knowledgeSoundness"><span class="name">Verifier</span>.<span class="name">liftContext_rbr_knowledgeSoundness</span></a></div><div class="nav_link"><a class="break_within" href="#OuterStmtIn_Test"><span class="name">OuterStmtIn_Test</span></a></div><div class="nav_link"><a class="break_within" href="#InnerStmtIn_Test"><span class="name">InnerStmtIn_Test</span></a></div><div class="nav_link"><a class="break_within" href="#outerRelIn_Test"><span class="name">outerRelIn_Test</span></a></div><div class="nav_link"><a class="break_within" href="#innerRelIn_Test"><span class="name">innerRelIn_Test</span></a></div><div class="nav_link"><a class="break_within" href="#OuterStmtOut_Test"><span class="name">OuterStmtOut_Test</span></a></div><div class="nav_link"><a class="break_within" href="#InnerStmtOut_Test"><span class="name">InnerStmtOut_Test</span></a></div><div class="nav_link"><a class="break_within" href="#outerRelOut_Test"><span class="name">outerRelOut_Test</span></a></div><div class="nav_link"><a class="break_within" href="#innerRelOut_Test"><span class="name">innerRelOut_Test</span></a></div><div class="nav_link"><a class="break_within" href="#testStmtLens"><span class="name">testStmtLens</span></a></div><div class="nav_link"><a class="break_within" href="#testLens"><span class="name">testLens</span></a></div><div class="nav_link"><a class="break_within" href="#testLensE"><span class="name">testLensE</span></a></div><div class="nav_link"><a class="break_within" href="#instTestLensComplete"><span class="name">instTestLensComplete</span></a></div><div class="nav_link"><a class="break_within" href="#instTestLensKnowledgeSound"><span class="name">instTestLensKnowledgeSound</span></a></div></nav><main>
<div class="mod_doc"><h2 class="markdown-heading" id="Lifting-Reductions-to-Larger-Contexts">Lifting Reductions to Larger Contexts <a class="hover-link" href="#Lifting-Reductions-to-Larger-Contexts">#</a></h2><p>Sequential composition is usually not enough to represent oracle reductions in a modular way. We
also need to formalize <strong>virtual</strong> oracle reductions, which lift reductions from one (virtual /
inner) context into the another (real / outer) context.</p><p>This is what is meant when we informally say &quot;apply so-and-so protocol to this quantity (derived
from the input statement &amp; witness)&quot;.</p><p>Put in other words, we define a mapping between the input-output interfaces of two (oracle)
reductions, without changing anything about the underlying reductions.</p><p>Recall that the input-output interface of an oracle reduction consists of:</p><ul>
<li>Input: <code>OuterStmtIn : Type</code>, <code>OuterOStmtIn : ιₛᵢ → Type</code>, and <code>OuterWitIn : Type</code></li>
<li>Output: <code>OuterStmtOut : Type</code>, <code>OuterOStmtOut : ιₛₒ → Type</code>, and <code>OuterWitOut : Type</code></li>
</ul><p>The liftContext is defined as the following mappings of projections / lifts:</p><ul>
<li><code>projStmt : OuterStmtIn → InnerStmtIn</code></li>
<li><code>projOStmt : (simulation involving OuterOStmtIn to produce InnerOStmtIn)</code></li>
<li><code>projWit : OuterWitIn → InnerWitIn</code></li>
<li><code>liftStmt : OuterStmtIn × InnerStmtOut → OuterStmtOut</code></li>
<li><code>liftOStmt : (simulation involving InnerOStmtOut to produce OuterOStmtOut)</code></li>
<li><code>liftWit : OuterWitIn × InnerWitOut → OuterWitOut</code></li>
</ul><p>Note that since completeness &amp; soundness for oracle reductions are defined in terms of the same
properties after converting to (non-oracle) reductions, we only need to focus our efforts on the
non-oracle case.</p><p>Note that this <em>exactly</em> corresponds to lenses in programming languages / category theory. Namely,
liftContext on the inputs correspond to a <code>view</code>/<code>get</code> operation (our &quot;proj&quot;), while liftContext
on the output corresponds to a <code><a href="../../.././Init/Prelude.html#modify">modify</a></code>/<code>set</code> operation (our &quot;lift&quot;).</p><p>More precisely, the <code>proj/lift</code> operations correspond to a Lens between two monomial polyonmial
functors: <code>OuterCtxIn y^ OuterCtxOut ⇆ InnerCtxIn y^ InnerCtxOut</code>.</p><p>All the lens definitions are in <code>Lens.lean</code>. This file deals with the lens applied to reductions.
See <code>OracleReduction.lean</code> for the application to oracle reduction.</p></div><div class="decl" id="Prover.liftContext"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/LiftContext/Reduction.lean#L60-L77">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#Prover.liftContext"><span class="name">Prover</span>.<span class="name">liftContext</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">OuterStmtIn </span><span class="fn">OuterWitIn </span><span class="fn">OuterStmtOut </span><span class="fn">OuterWitOut </span><span class="fn">InnerStmtIn </span><span class="fn">InnerWitIn </span><span class="fn">InnerStmtOut </span><span class="fn">InnerWitOut</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">lens</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Context.Lens">Context.Lens</a> <span class="fn">OuterStmtIn</span> <span class="fn">OuterStmtOut</span> <span class="fn">InnerStmtIn</span> <span class="fn">InnerStmtOut</span> <span class="fn">OuterWitIn</span> <span class="fn">OuterWitOut</span> <span class="fn">InnerWitIn</span> <span class="fn">InnerWitOut</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">P</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#Prover">Prover</a> <span class="fn">oSpec</span> <span class="fn">InnerStmtIn</span> <span class="fn">InnerWitIn</span> <span class="fn">InnerStmtOut</span> <span class="fn">InnerWitOut</span> <span class="fn">pSpec</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#Prover">Prover</a> <span class="fn">oSpec</span> <span class="fn">OuterStmtIn</span> <span class="fn">OuterWitIn</span> <span class="fn">OuterStmtOut</span> <span class="fn">OuterWitOut</span> <span class="fn">pSpec</span></span></div></div><p>The outer prover after lifting invokes the inner prover on the projected input, and
lifts the output</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Prover.liftContext" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Verifier.liftContext"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/LiftContext/Reduction.lean#L79-L88">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#Verifier.liftContext"><span class="name">Verifier</span>.<span class="name">liftContext</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">OuterStmtIn </span><span class="fn">OuterStmtOut </span><span class="fn">InnerStmtIn </span><span class="fn">InnerStmtOut</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">lens</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Statement.Lens">Statement.Lens</a> <span class="fn">OuterStmtIn</span> <span class="fn">OuterStmtOut</span> <span class="fn">InnerStmtIn</span> <span class="fn">InnerStmtOut</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">V</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#Verifier">Verifier</a> <span class="fn">oSpec</span> <span class="fn">InnerStmtIn</span> <span class="fn">InnerStmtOut</span> <span class="fn">pSpec</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#Verifier">Verifier</a> <span class="fn">oSpec</span> <span class="fn">OuterStmtIn</span> <span class="fn">OuterStmtOut</span> <span class="fn">pSpec</span></span></div></div><p>The outer verifier after lifting invokes the inner verifier on the projected input, and
lifts the output</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Verifier.liftContext" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Reduction.liftContext"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/LiftContext/Reduction.lean#L90-L98">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#Reduction.liftContext"><span class="name">Reduction</span>.<span class="name">liftContext</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">OuterStmtIn </span><span class="fn">OuterWitIn </span><span class="fn">OuterStmtOut </span><span class="fn">OuterWitOut </span><span class="fn">InnerStmtIn </span><span class="fn">InnerWitIn </span><span class="fn">InnerStmtOut </span><span class="fn">InnerWitOut</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">lens</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Context.Lens">Context.Lens</a> <span class="fn">OuterStmtIn</span> <span class="fn">OuterStmtOut</span> <span class="fn">InnerStmtIn</span> <span class="fn">InnerStmtOut</span> <span class="fn">OuterWitIn</span> <span class="fn">OuterWitOut</span> <span class="fn">InnerWitIn</span> <span class="fn">InnerWitOut</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">R</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#Reduction">Reduction</a> <span class="fn">oSpec</span> <span class="fn">InnerStmtIn</span> <span class="fn">InnerWitIn</span> <span class="fn">InnerStmtOut</span> <span class="fn">InnerWitOut</span> <span class="fn">pSpec</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#Reduction">Reduction</a> <span class="fn">oSpec</span> <span class="fn">OuterStmtIn</span> <span class="fn">OuterWitIn</span> <span class="fn">OuterStmtOut</span> <span class="fn">OuterWitOut</span> <span class="fn">pSpec</span></span></div></div><p>The outer reduction after lifting is the combination of the lifting of the prover and
verifier</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Reduction.liftContext" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Extractor.Straightline.liftContext"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/LiftContext/Reduction.lean#L101-L111">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#Extractor.Straightline.liftContext"><span class="name">Extractor</span>.<span class="name">Straightline</span>.<span class="name">liftContext</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">OuterStmtIn </span><span class="fn">OuterWitIn </span><span class="fn">OuterStmtOut </span><span class="fn">OuterWitOut </span><span class="fn">InnerStmtIn </span><span class="fn">InnerWitIn </span><span class="fn">InnerStmtOut </span><span class="fn">InnerWitOut</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">lens</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Extractor.Lens">Lens</a> <span class="fn">OuterStmtIn</span> <span class="fn">OuterStmtOut</span> <span class="fn">InnerStmtIn</span> <span class="fn">InnerStmtOut</span> <span class="fn">OuterWitIn</span> <span class="fn">OuterWitOut</span> <span class="fn">InnerWitIn</span> <span class="fn">InnerWitOut</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">E</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Security/Basic.html#Extractor.Straightline">Straightline</a> <span class="fn">oSpec</span> <span class="fn">InnerStmtIn</span> <span class="fn">InnerWitIn</span> <span class="fn">InnerWitOut</span> <span class="fn">pSpec</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/OracleReduction/Security/Basic.html#Extractor.Straightline">Straightline</a> <span class="fn">oSpec</span> <span class="fn">OuterStmtIn</span> <span class="fn">OuterWitIn</span> <span class="fn">OuterWitOut</span> <span class="fn">pSpec</span></span></div></div><p>The outer extractor after lifting invokes the inner extractor on the projected input, and
lifts the output</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Extractor.Straightline.liftContext" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Extractor.RoundByRound.liftContext"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/LiftContext/Reduction.lean#L114-L122">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#Extractor.RoundByRound.liftContext"><span class="name">Extractor</span>.<span class="name">RoundByRound</span>.<span class="name">liftContext</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">OuterStmtIn </span><span class="fn">OuterWitIn </span><span class="fn">OuterStmtOut </span><span class="fn">OuterWitOut </span><span class="fn">InnerStmtIn </span><span class="fn">InnerWitIn </span><span class="fn">InnerStmtOut </span><span class="fn">InnerWitOut</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">WitMid</span> : <span class="fn"><span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span> → <a href="../../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">lens</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Extractor.Lens">Lens</a> <span class="fn">OuterStmtIn</span> <span class="fn">OuterStmtOut</span> <span class="fn">InnerStmtIn</span> <span class="fn">InnerStmtOut</span> <span class="fn">OuterWitIn</span> <span class="fn">OuterWitOut</span> <span class="fn">InnerWitIn</span> <span class="fn">InnerWitOut</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">E</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Extractor.RoundByRound">RoundByRound</a> <span class="fn">oSpec</span> <span class="fn">InnerStmtIn</span> <span class="fn">InnerWitIn</span> <span class="fn">InnerWitOut</span> <span class="fn">pSpec</span> <span class="fn">WitMid</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Extractor.RoundByRound">RoundByRound</a> <span class="fn">oSpec</span> <span class="fn">OuterStmtIn</span> <span class="fn">OuterWitIn</span> <span class="fn">OuterWitOut</span> <span class="fn">pSpec</span> <span class="fn">WitMid</span></span></div></div><p>The outer round-by-round extractor after lifting invokes the inner extractor on the projected
input, and lifts the output</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Extractor.RoundByRound.liftContext" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Verifier.compatStatement"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/LiftContext/Reduction.lean#L126-L138">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#Verifier.compatStatement"><span class="name">Verifier</span>.<span class="name">compatStatement</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">OuterStmtIn </span><span class="fn">OuterStmtOut </span><span class="fn">InnerStmtIn </span><span class="fn">InnerStmtOut</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">lens</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Statement.Lens">Statement.Lens</a> <span class="fn">OuterStmtIn</span> <span class="fn">OuterStmtOut</span> <span class="fn">InnerStmtIn</span> <span class="fn">InnerStmtOut</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">V</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#Verifier">Verifier</a> <span class="fn">oSpec</span> <span class="fn">InnerStmtIn</span> <span class="fn">InnerStmtOut</span> <span class="fn">pSpec</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">OuterStmtIn</span> → <span class="fn"><span class="fn">InnerStmtOut</span> → <a href="../../.././foundational_types.html">Prop</a></span></span></div></div><p>Compatibility relation between the outer input statement and the inner output statement,
relative to a verifier.</p><p>We require that the inner output statement is a possible output of the verifier on the outer
input statement, for any given transcript. Note that we have to existentially quantify over
transcripts since we only reference the verifier, and there's no way to get the transcript without
a prover.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Verifier.compatStatement" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Reduction.compatContext"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/LiftContext/Reduction.lean#L140-L153">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#Reduction.compatContext"><span class="name">Reduction</span>.<span class="name">compatContext</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">OuterStmtIn </span><span class="fn">OuterWitIn </span><span class="fn">OuterStmtOut </span><span class="fn">OuterWitOut </span><span class="fn">InnerStmtIn </span><span class="fn">InnerWitIn </span><span class="fn">InnerStmtOut </span><span class="fn">InnerWitOut</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">lens</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Context.Lens">Context.Lens</a> <span class="fn">OuterStmtIn</span> <span class="fn">OuterStmtOut</span> <span class="fn">InnerStmtIn</span> <span class="fn">InnerStmtOut</span> <span class="fn">OuterWitIn</span> <span class="fn">OuterWitOut</span> <span class="fn">InnerWitIn</span> <span class="fn">InnerWitOut</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">R</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#Reduction">Reduction</a> <span class="fn">oSpec</span> <span class="fn">InnerStmtIn</span> <span class="fn">InnerWitIn</span> <span class="fn">InnerStmtOut</span> <span class="fn">InnerWitOut</span> <span class="fn">pSpec</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">OuterStmtIn</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">OuterWitIn</span> → <span class="fn"><span class="fn">InnerStmtOut</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">InnerWitOut</span> → <a href="../../.././foundational_types.html">Prop</a></span></span></div></div><p>Compatibility relation between the outer input context and the inner output context, relative
to a reduction.</p><p>We require that the inner output context (statement + witness) is a possible output of the reduction
on the outer input context (statement + witness).</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Reduction.compatContext" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Extractor.Straightline.compatWit"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/LiftContext/Reduction.lean#L155-L168">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#Extractor.Straightline.compatWit"><span class="name">Extractor</span>.<span class="name">Straightline</span>.<span class="name">compatWit</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">OuterStmtIn </span><span class="fn">OuterWitIn </span><span class="fn">OuterStmtOut </span><span class="fn">OuterWitOut </span><span class="fn">InnerStmtIn </span><span class="fn">InnerWitIn </span><span class="fn">InnerStmtOut </span><span class="fn">InnerWitOut</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">lens</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Extractor.Lens">Lens</a> <span class="fn">OuterStmtIn</span> <span class="fn">OuterStmtOut</span> <span class="fn">InnerStmtIn</span> <span class="fn">InnerStmtOut</span> <span class="fn">OuterWitIn</span> <span class="fn">OuterWitOut</span> <span class="fn">InnerWitIn</span> <span class="fn">InnerWitOut</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">E</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Security/Basic.html#Extractor.Straightline">Straightline</a> <span class="fn">oSpec</span> <span class="fn">InnerStmtIn</span> <span class="fn">InnerWitIn</span> <span class="fn">InnerWitOut</span> <span class="fn">pSpec</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">OuterStmtIn</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">OuterWitOut</span> → <span class="fn"><span class="fn">InnerWitIn</span> → <a href="../../.././foundational_types.html">Prop</a></span></span></div></div><p>Compatibility relation between the outer input witness and the inner output witness, relative to
a straightline extractor.</p><p>We require that the inner output witness is a possible output of the straightline extractor on the
outer input witness, for a given input statement, transcript, and prover and verifier's query logs.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Extractor.Straightline.compatWit" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Verifier.StateFunction.liftContext"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/LiftContext/Reduction.lean#L170-L196">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#Verifier.StateFunction.liftContext"><span class="name">Verifier</span>.<span class="name">StateFunction</span>.<span class="name">liftContext</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">OuterStmtIn </span><span class="fn">OuterStmtOut </span><span class="fn">InnerStmtIn </span><span class="fn">InnerStmtOut </span><span class="fn">σ</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">init</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a> <span class="fn">σ</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">impl</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/SimSemantics/SimulateQ.html#QueryImpl">QueryImpl</a> <span class="fn">oSpec</span> <span class="fn">(<a href="../../.././Init/Control/State.html#StateT">StateT</a> <span class="fn">σ</span> <a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a>)</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">lens</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Statement.Lens">Statement.Lens</a> <span class="fn">OuterStmtIn</span> <span class="fn">OuterStmtOut</span> <span class="fn">InnerStmtIn</span> <span class="fn">InnerStmtOut</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">V</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#Verifier">Verifier</a> <span class="fn">oSpec</span> <span class="fn">InnerStmtIn</span> <span class="fn">InnerStmtOut</span> <span class="fn">pSpec</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">outerLangIn</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <span class="fn">OuterStmtIn</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">outerLangOut</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <span class="fn">OuterStmtOut</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">innerLangIn</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <span class="fn">InnerStmtIn</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">innerLangOut</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <span class="fn">InnerStmtOut</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">lensSound</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Statement.Lens.IsSound">Statement.Lens.IsSound</a> <span class="fn">outerLangIn</span> <span class="fn">outerLangOut</span> <span class="fn">innerLangIn</span> <span class="fn">innerLangOut</span> <span class="fn">(<a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#Verifier.compatStatement">compatStatement</a> <span class="fn">lens</span> <span class="fn">V</span>)</span> <span class="fn">lens</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">stF</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.StateFunction">StateFunction</a> <span class="fn">init</span> <span class="fn">impl</span> <span class="fn">innerLangIn</span> <span class="fn">innerLangOut</span> <span class="fn">V</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.StateFunction">StateFunction</a> <span class="fn">init</span> <span class="fn">impl</span> <span class="fn">outerLangIn</span> <span class="fn">outerLangOut</span> <span class="fn">(<a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#Verifier.liftContext">Verifier.liftContext</a> <span class="fn">lens</span> <span class="fn">V</span>)</span></span></div></div><p>The outer state function after lifting invokes the inner state function on the projected
input, and lifts the output</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Verifier.StateFunction.liftContext" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Prover.liftContext_processRound"><div class="theorem"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/LiftContext/Reduction.lean#L209-L225">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#Prover.liftContext_processRound"><span class="name">Prover</span>.<span class="name">liftContext_processRound</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">OuterStmtIn </span><span class="fn">OuterWitIn </span><span class="fn">OuterStmtOut </span><span class="fn">OuterWitOut </span><span class="fn">InnerStmtIn </span><span class="fn">InnerWitIn </span><span class="fn">InnerStmtOut </span><span class="fn">InnerWitOut</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">lens</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Context.Lens">Context.Lens</a> <span class="fn">OuterStmtIn</span> <span class="fn">OuterStmtOut</span> <span class="fn">InnerStmtIn</span> <span class="fn">InnerStmtOut</span> <span class="fn">OuterWitIn</span> <span class="fn">OuterWitOut</span> <span class="fn">InnerWitIn</span> <span class="fn">InnerWitOut</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">i</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">n</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">P</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#Prover">Prover</a> <span class="fn">oSpec</span> <span class="fn">InnerStmtIn</span> <span class="fn">InnerWitIn</span> <span class="fn">InnerStmtOut</span> <span class="fn">InnerWitOut</span> <span class="fn">pSpec</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">resultRound</span> :
  <span class="fn"><a href="../../.././VCVio/OracleComp/OracleComp.html#OracleComp">OracleComp</a> (<span class="fn">oSpec</span> <a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec.append">++ₒ</a> <a href="../../.././ArkLib/OracleReduction/OracleInterface.html#OracleInterface.toOracleSpec">[</a><span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.Challenge">Challenge</a></span><a href="../../.././ArkLib/OracleReduction/OracleInterface.html#OracleInterface.toOracleSpec">]ₒ</a>)
    (<span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.Transcript">ProtocolSpec.Transcript</a> <span class="fn"><span class="fn">i</span>.<a href="../../.././Init/Data/Fin/Basic.html#Fin.castSucc">castSucc</a></span> <span class="fn">pSpec</span></span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn"><span class="fn"><span class="fn">(<a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#Prover.liftContext">liftContext</a> <span class="fn">lens</span> <span class="fn">P</span>)</span>.<a href="../../.././ArkLib/OracleReduction/Basic.html#ProverState.PrvState">PrvState</a></span> <span class="fn"><span class="fn">i</span>.<a href="../../.././Init/Data/Fin/Basic.html#Fin.castSucc">castSucc</a></span></span>)</span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/OracleReduction/Execution.html#Prover.processRound">processRound</a> <span class="fn">i</span> <span class="fn">(<a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#Prover.liftContext">liftContext</a> <span class="fn">lens</span> <span class="fn">P</span>)</span> <span class="fn">resultRound</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__discr</span> ← <span class="fn">resultRound</span>
  <span class="fn">match <span class="fn">__discr</span> with
    | <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">transcript</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">prvState</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">outerStmtIn</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">outerWitIn</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a> =&gt; <span class="fn">do
      let <span class="fn">__discr</span> ← <span class="fn"><a href="../../.././ArkLib/OracleReduction/Execution.html#Prover.processRound">processRound</a> <span class="fn">i</span> <span class="fn">P</span> <span class="fn">(<a href="../../.././Init/Prelude.html#Pure.pure">pure</a> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">transcript</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">prvState</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a>)</span></span>
      <span class="fn">match <span class="fn">__discr</span> with
        | <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">newTranscript</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">newPrvState</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a> =&gt; <span class="fn"><a href="../../.././Init/Prelude.html#Pure.pure">pure</a> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">newTranscript</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">newPrvState</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">outerStmtIn</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">outerWitIn</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span></span></span></span></span></div></div><p>Lifting the prover intertwines with the process round function</p></div></div><div class="decl" id="Prover.liftContext_runToRound"><div class="theorem"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/LiftContext/Reduction.lean#L227-L244">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#Prover.liftContext_runToRound"><span class="name">Prover</span>.<span class="name">liftContext_runToRound</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">OuterStmtIn </span><span class="fn">OuterWitIn </span><span class="fn">OuterStmtOut </span><span class="fn">OuterWitOut </span><span class="fn">InnerStmtIn </span><span class="fn">InnerWitIn </span><span class="fn">InnerStmtOut </span><span class="fn">InnerWitOut</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">lens</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Context.Lens">Context.Lens</a> <span class="fn">OuterStmtIn</span> <span class="fn">OuterStmtOut</span> <span class="fn">InnerStmtIn</span> <span class="fn">InnerStmtOut</span> <span class="fn">OuterWitIn</span> <span class="fn">OuterWitOut</span> <span class="fn">InnerWitIn</span> <span class="fn">InnerWitOut</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">outerStmtIn</span> : <span class="fn">OuterStmtIn</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">outerWitIn</span> : <span class="fn">OuterWitIn</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">i</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">P</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#Prover">Prover</a> <span class="fn">oSpec</span> <span class="fn">InnerStmtIn</span> <span class="fn">InnerWitIn</span> <span class="fn">InnerStmtOut</span> <span class="fn">InnerWitOut</span> <span class="fn">pSpec</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/OracleReduction/Execution.html#Prover.runToRound">runToRound</a> <span class="fn">i</span> <span class="fn">outerStmtIn</span> <span class="fn">outerWitIn</span> <span class="fn">(<a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#Prover.liftContext">liftContext</a> <span class="fn">lens</span> <span class="fn">P</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__discr</span> ←
    <span class="fn"><a href="../../.././Init/Data/Function.html#Function.uncurry">Function.uncurry</a> <span class="fn">(fun (<span class="fn">stmt</span> : <span class="fn">InnerStmtIn</span>) (<span class="fn">wit</span> : <span class="fn">InnerWitIn</span>) =&gt; <span class="fn"><a href="../../.././ArkLib/OracleReduction/Execution.html#Prover.runToRound">runToRound</a> <span class="fn">i</span> <span class="fn">stmt</span> <span class="fn">wit</span> <span class="fn">P</span></span>)</span>
        <span class="fn">(<span class="fn"><span class="fn">lens</span>.<a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Context.Lens.proj">proj</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">outerStmtIn</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">outerWitIn</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a>)</span></span>
  <span class="fn">match <span class="fn">__discr</span> with
    | <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">transcript</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">prvState</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a> =&gt; <span class="fn"><a href="../../.././Init/Prelude.html#Pure.pure">pure</a> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">transcript</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">prvState</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">outerStmtIn</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">outerWitIn</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span></span></span></div></div></div></div><div class="decl" id="Prover.liftContext_runWithLogToRound"><div class="theorem"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/LiftContext/Reduction.lean#L247-L260">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#Prover.liftContext_runWithLogToRound"><span class="name">Prover</span>.<span class="name">liftContext_runWithLogToRound</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">OuterStmtIn </span><span class="fn">OuterWitIn </span><span class="fn">OuterStmtOut </span><span class="fn">OuterWitOut </span><span class="fn">InnerStmtIn </span><span class="fn">InnerWitIn </span><span class="fn">InnerStmtOut </span><span class="fn">InnerWitOut</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">lens</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Context.Lens">Context.Lens</a> <span class="fn">OuterStmtIn</span> <span class="fn">OuterStmtOut</span> <span class="fn">InnerStmtIn</span> <span class="fn">InnerStmtOut</span> <span class="fn">OuterWitIn</span> <span class="fn">OuterWitOut</span> <span class="fn">InnerWitIn</span> <span class="fn">InnerWitOut</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">outerStmtIn</span> : <span class="fn">OuterStmtIn</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">outerWitIn</span> : <span class="fn">OuterWitIn</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">i</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">P</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#Prover">Prover</a> <span class="fn">oSpec</span> <span class="fn">InnerStmtIn</span> <span class="fn">InnerWitIn</span> <span class="fn">InnerStmtOut</span> <span class="fn">InnerWitOut</span> <span class="fn">pSpec</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/OracleReduction/Execution.html#Prover.runWithLogToRound">runWithLogToRound</a> <span class="fn">i</span> <span class="fn">outerStmtIn</span> <span class="fn">outerWitIn</span> <span class="fn">(<a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#Prover.liftContext">liftContext</a> <span class="fn">lens</span> <span class="fn">P</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__discr</span> ←
    <span class="fn"><a href="../../.././Init/Data/Function.html#Function.uncurry">Function.uncurry</a> <span class="fn">(fun (<span class="fn">stmt</span> : <span class="fn">InnerStmtIn</span>) (<span class="fn">wit</span> : <span class="fn">InnerWitIn</span>) =&gt; <span class="fn"><a href="../../.././ArkLib/OracleReduction/Execution.html#Prover.runWithLogToRound">runWithLogToRound</a> <span class="fn">i</span> <span class="fn">stmt</span> <span class="fn">wit</span> <span class="fn">P</span></span>)</span>
        <span class="fn">(<span class="fn"><span class="fn">lens</span>.<a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Context.Lens.proj">proj</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">outerStmtIn</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">outerWitIn</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a>)</span></span>
  <span class="fn">match <span class="fn">__discr</span> with
    | <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">transcript</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">prvState</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">queryLog</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a> =&gt; <span class="fn"><a href="../../.././Init/Prelude.html#Pure.pure">pure</a> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">transcript</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">prvState</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">outerStmtIn</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">outerWitIn</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">queryLog</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span></span></span></div></div></div></div><div class="decl" id="Prover.liftContext_run"><div class="theorem"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/LiftContext/Reduction.lean#L262-L275">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#Prover.liftContext_run"><span class="name">Prover</span>.<span class="name">liftContext_run</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">OuterStmtIn </span><span class="fn">OuterWitIn </span><span class="fn">OuterStmtOut </span><span class="fn">OuterWitOut </span><span class="fn">InnerStmtIn </span><span class="fn">InnerWitIn </span><span class="fn">InnerStmtOut </span><span class="fn">InnerWitOut</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">lens</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Context.Lens">Context.Lens</a> <span class="fn">OuterStmtIn</span> <span class="fn">OuterStmtOut</span> <span class="fn">InnerStmtIn</span> <span class="fn">InnerStmtOut</span> <span class="fn">OuterWitIn</span> <span class="fn">OuterWitOut</span> <span class="fn">InnerWitIn</span> <span class="fn">InnerWitOut</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">outerStmtIn</span> : <span class="fn">OuterStmtIn</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">outerWitIn</span> : <span class="fn">OuterWitIn</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">P</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#Prover">Prover</a> <span class="fn">oSpec</span> <span class="fn">InnerStmtIn</span> <span class="fn">InnerWitIn</span> <span class="fn">InnerStmtOut</span> <span class="fn">InnerWitOut</span> <span class="fn">pSpec</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/OracleReduction/Execution.html#Prover.run">run</a> <span class="fn">outerStmtIn</span> <span class="fn">outerWitIn</span> <span class="fn">(<a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#Prover.liftContext">liftContext</a> <span class="fn">lens</span> <span class="fn">P</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__discr</span> ←
    <span class="fn"><a href="../../.././Init/Data/Function.html#Function.uncurry">Function.uncurry</a> <span class="fn">(fun (<span class="fn">stmt</span> : <span class="fn">InnerStmtIn</span>) (<span class="fn">wit</span> : <span class="fn">InnerWitIn</span>) =&gt; <span class="fn"><a href="../../.././ArkLib/OracleReduction/Execution.html#Prover.run">run</a> <span class="fn">stmt</span> <span class="fn">wit</span> <span class="fn">P</span></span>)</span>
        <span class="fn">(<span class="fn"><span class="fn">lens</span>.<a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Context.Lens.proj">proj</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">outerStmtIn</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">outerWitIn</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a>)</span></span>
  <span class="fn">match <span class="fn">__discr</span> with
    | <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fullTranscript</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">innerCtxOut</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a> =&gt; <span class="fn"><a href="../../.././Init/Prelude.html#Pure.pure">pure</a> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fullTranscript</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn"><span class="fn"><span class="fn">lens</span>.<a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Context.Lens.lift">lift</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">outerStmtIn</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">outerWitIn</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a> <span class="fn">innerCtxOut</span></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span></span></span></div></div><p>Running the lifted outer prover is equivalent to running the inner prover on the projected
input, and then integrating the output</p></div></div><div class="decl" id="Prover.liftContext_runWithLog"><div class="theorem"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/LiftContext/Reduction.lean#L277-L290">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#Prover.liftContext_runWithLog"><span class="name">Prover</span>.<span class="name">liftContext_runWithLog</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">OuterStmtIn </span><span class="fn">OuterWitIn </span><span class="fn">OuterStmtOut </span><span class="fn">OuterWitOut </span><span class="fn">InnerStmtIn </span><span class="fn">InnerWitIn </span><span class="fn">InnerStmtOut </span><span class="fn">InnerWitOut</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">lens</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Context.Lens">Context.Lens</a> <span class="fn">OuterStmtIn</span> <span class="fn">OuterStmtOut</span> <span class="fn">InnerStmtIn</span> <span class="fn">InnerStmtOut</span> <span class="fn">OuterWitIn</span> <span class="fn">OuterWitOut</span> <span class="fn">InnerWitIn</span> <span class="fn">InnerWitOut</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">outerStmtIn</span> : <span class="fn">OuterStmtIn</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">outerWitIn</span> : <span class="fn">OuterWitIn</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">P</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#Prover">Prover</a> <span class="fn">oSpec</span> <span class="fn">InnerStmtIn</span> <span class="fn">InnerWitIn</span> <span class="fn">InnerStmtOut</span> <span class="fn">InnerWitOut</span> <span class="fn">pSpec</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/OracleReduction/Execution.html#Prover.runWithLog">runWithLog</a> <span class="fn">outerStmtIn</span> <span class="fn">outerWitIn</span> <span class="fn">(<a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#Prover.liftContext">liftContext</a> <span class="fn">lens</span> <span class="fn">P</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__discr</span> ←
    <span class="fn"><a href="../../.././Init/Data/Function.html#Function.uncurry">Function.uncurry</a> <span class="fn">(fun (<span class="fn">stmt</span> : <span class="fn">InnerStmtIn</span>) (<span class="fn">wit</span> : <span class="fn">InnerWitIn</span>) =&gt; <span class="fn"><a href="../../.././ArkLib/OracleReduction/Execution.html#Prover.runWithLog">runWithLog</a> <span class="fn">stmt</span> <span class="fn">wit</span> <span class="fn">P</span></span>)</span>
        <span class="fn">(<span class="fn"><span class="fn">lens</span>.<a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Context.Lens.proj">proj</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">outerStmtIn</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">outerWitIn</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a>)</span></span>
  <span class="fn">match <span class="fn">__discr</span> with
    | <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fullTranscript</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">innerCtxOut</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">queryLog</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a> =&gt;
      <span class="fn"><a href="../../.././Init/Prelude.html#Pure.pure">pure</a> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fullTranscript</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn"><span class="fn"><span class="fn">lens</span>.<a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Context.Lens.lift">lift</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">outerStmtIn</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">outerWitIn</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a> <span class="fn">innerCtxOut</span></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">queryLog</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span></span></span></div></div><p>Lifting the prover intertwines with logging queries of the prover</p></div></div><div class="decl" id="Reduction.liftContext_run"><div class="theorem"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/LiftContext/Reduction.lean#L296-L307">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#Reduction.liftContext_run"><span class="name">Reduction</span>.<span class="name">liftContext_run</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">OuterStmtIn </span><span class="fn">OuterWitIn </span><span class="fn">OuterStmtOut </span><span class="fn">OuterWitOut </span><span class="fn">InnerStmtIn </span><span class="fn">InnerWitIn </span><span class="fn">InnerStmtOut </span><span class="fn">InnerWitOut</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">lens</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Context.Lens">Context.Lens</a> <span class="fn">OuterStmtIn</span> <span class="fn">OuterStmtOut</span> <span class="fn">InnerStmtIn</span> <span class="fn">InnerStmtOut</span> <span class="fn">OuterWitIn</span> <span class="fn">OuterWitOut</span> <span class="fn">InnerWitIn</span> <span class="fn">InnerWitOut</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">outerStmtIn</span> : <span class="fn">OuterStmtIn</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">outerWitIn</span> : <span class="fn">OuterWitIn</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">R</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#Reduction">Reduction</a> <span class="fn">oSpec</span> <span class="fn">InnerStmtIn</span> <span class="fn">InnerWitIn</span> <span class="fn">InnerStmtOut</span> <span class="fn">InnerWitOut</span> <span class="fn">pSpec</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/OracleReduction/Execution.html#Reduction.run">run</a> <span class="fn">outerStmtIn</span> <span class="fn">outerWitIn</span> <span class="fn">(<a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#Reduction.liftContext">liftContext</a> <span class="fn">lens</span> <span class="fn">R</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__discr</span> ←
    <span class="fn"><a href="../../.././Init/Data/Function.html#Function.uncurry">Function.uncurry</a> <span class="fn">(fun (<span class="fn">stmt</span> : <span class="fn">InnerStmtIn</span>) (<span class="fn">wit</span> : <span class="fn">InnerWitIn</span>) =&gt; <span class="fn"><a href="../../.././ArkLib/OracleReduction/Execution.html#Reduction.run">run</a> <span class="fn">stmt</span> <span class="fn">wit</span> <span class="fn">R</span></span>)</span>
        <span class="fn">(<span class="fn"><span class="fn">lens</span>.<a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Context.Lens.proj">proj</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">outerStmtIn</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">outerWitIn</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a>)</span></span>
  <span class="fn">match <span class="fn">__discr</span> with
    | <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fullTranscript</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">innerCtxOut</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">verInnerStmtOut</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a> =&gt;
      <span class="fn"><a href="../../.././Init/Prelude.html#Pure.pure">pure</a>
        <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fullTranscript</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn"><span class="fn"><span class="fn">lens</span>.<a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Context.Lens.lift">lift</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">outerStmtIn</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">outerWitIn</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a> <span class="fn">innerCtxOut</span></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">lens</span>.<a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Context.Lens.stmt">stmt</a></span>.<a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Statement.Lens.lift">lift</a></span> <span class="fn">outerStmtIn</span> <span class="fn">verInnerStmtOut</span></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span></span></span></div></div></div></div><div class="decl" id="Reduction.liftContext_runWithLog"><div class="theorem"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/LiftContext/Reduction.lean#L309-L320">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#Reduction.liftContext_runWithLog"><span class="name">Reduction</span>.<span class="name">liftContext_runWithLog</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">OuterStmtIn </span><span class="fn">OuterWitIn </span><span class="fn">OuterStmtOut </span><span class="fn">OuterWitOut </span><span class="fn">InnerStmtIn </span><span class="fn">InnerWitIn </span><span class="fn">InnerStmtOut </span><span class="fn">InnerWitOut</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">lens</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Context.Lens">Context.Lens</a> <span class="fn">OuterStmtIn</span> <span class="fn">OuterStmtOut</span> <span class="fn">InnerStmtIn</span> <span class="fn">InnerStmtOut</span> <span class="fn">OuterWitIn</span> <span class="fn">OuterWitOut</span> <span class="fn">InnerWitIn</span> <span class="fn">InnerWitOut</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">outerStmtIn</span> : <span class="fn">OuterStmtIn</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">outerWitIn</span> : <span class="fn">OuterWitIn</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">R</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#Reduction">Reduction</a> <span class="fn">oSpec</span> <span class="fn">InnerStmtIn</span> <span class="fn">InnerWitIn</span> <span class="fn">InnerStmtOut</span> <span class="fn">InnerWitOut</span> <span class="fn">pSpec</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/OracleReduction/Execution.html#Reduction.runWithLog">runWithLog</a> <span class="fn">outerStmtIn</span> <span class="fn">outerWitIn</span> <span class="fn">(<a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#Reduction.liftContext">liftContext</a> <span class="fn">lens</span> <span class="fn">R</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__discr</span> ←
    <span class="fn"><a href="../../.././Init/Data/Function.html#Function.uncurry">Function.uncurry</a> <span class="fn">(fun (<span class="fn">stmt</span> : <span class="fn">InnerStmtIn</span>) (<span class="fn">wit</span> : <span class="fn">InnerWitIn</span>) =&gt; <span class="fn"><a href="../../.././ArkLib/OracleReduction/Execution.html#Reduction.runWithLog">runWithLog</a> <span class="fn">stmt</span> <span class="fn">wit</span> <span class="fn">R</span></span>)</span>
        <span class="fn">(<span class="fn"><span class="fn">lens</span>.<a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Context.Lens.proj">proj</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">outerStmtIn</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">outerWitIn</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a>)</span></span>
  <span class="fn">match <span class="fn">__discr</span> with
    | <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fullTranscript</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">innerCtxOut</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">verInnerStmtOut</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">queryLog</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a> =&gt;
      <span class="fn"><a href="../../.././Init/Prelude.html#Pure.pure">pure</a>
        <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fullTranscript</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn"><span class="fn"><span class="fn">lens</span>.<a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Context.Lens.lift">lift</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">outerStmtIn</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">outerWitIn</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a> <span class="fn">innerCtxOut</span></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a>             <span class="fn"><span class="fn"><span class="fn"><span class="fn">lens</span>.<a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Context.Lens.stmt">stmt</a></span>.<a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Statement.Lens.lift">lift</a></span> <span class="fn">outerStmtIn</span> <span class="fn">verInnerStmtOut</span></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a>           <span class="fn">queryLog</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span></span></span></div></div></div></div><div class="decl" id="Reduction.liftContext_completeness"><div class="theorem"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/LiftContext/Reduction.lean#L339-L352">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#Reduction.liftContext_completeness"><span class="name">Reduction</span>.<span class="name">liftContext_completeness</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">OuterStmtIn </span><span class="fn">OuterWitIn </span><span class="fn">OuterStmtOut </span><span class="fn">OuterWitOut </span><span class="fn">InnerStmtIn </span><span class="fn">InnerWitIn </span><span class="fn">InnerStmtOut </span><span class="fn">InnerWitOut</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">(<span class="fn">i</span> : <span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.ChallengeIdx">ChallengeIdx</a></span>) → <span class="fn"><a href="../../.././VCVio/OracleComp/Constructions/UniformSelect.html#OracleComp.SelectableType">OracleComp.SelectableType</a> <span class="fn">(<span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.Challenge">Challenge</a></span> <span class="fn">i</span>)</span></span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">σ</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">init</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a> <span class="fn">σ</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">impl</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/SimSemantics/SimulateQ.html#QueryImpl">QueryImpl</a> <span class="fn">oSpec</span> <span class="fn">(<a href="../../.././Init/Control/State.html#StateT">StateT</a> <span class="fn">σ</span> <a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a>)</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">outerRelIn</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<span class="fn">OuterStmtIn</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">OuterWitIn</span>)</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">outerRelOut</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<span class="fn">OuterStmtOut</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">OuterWitOut</span>)</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">innerRelIn</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<span class="fn">InnerStmtIn</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">InnerWitIn</span>)</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">innerRelOut</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<span class="fn">InnerStmtOut</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">InnerWitOut</span>)</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">R</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#Reduction">Reduction</a> <span class="fn">oSpec</span> <span class="fn">InnerStmtIn</span> <span class="fn">InnerWitIn</span> <span class="fn">InnerStmtOut</span> <span class="fn">InnerWitOut</span> <span class="fn">pSpec</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">completenessError</span> : <a href="../../.././Mathlib/Data/NNReal/Defs.html#NNReal">NNReal</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">lens</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Context.Lens">Context.Lens</a> <span class="fn">OuterStmtIn</span> <span class="fn">OuterStmtOut</span> <span class="fn">InnerStmtIn</span> <span class="fn">InnerStmtOut</span> <span class="fn">OuterWitIn</span> <span class="fn">OuterWitOut</span> <span class="fn">InnerWitIn</span> <span class="fn">InnerWitOut</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">lensComplete</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Context.Lens.IsComplete">Context.Lens.IsComplete</a> <span class="fn">outerRelIn</span> <span class="fn">innerRelIn</span> <span class="fn">outerRelOut</span> <span class="fn">innerRelOut</span> <span class="fn">(<a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#Reduction.compatContext">compatContext</a> <span class="fn">lens</span> <span class="fn">R</span>)</span> <span class="fn">lens</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Security/Basic.html#Reduction.completeness">completeness</a> <span class="fn">init</span> <span class="fn">impl</span> <span class="fn">innerRelIn</span> <span class="fn">innerRelOut</span> <span class="fn">R</span> <span class="fn">completenessError</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/OracleReduction/Security/Basic.html#Reduction.completeness">completeness</a> <span class="fn">init</span> <span class="fn">impl</span> <span class="fn">outerRelIn</span> <span class="fn">outerRelOut</span> <span class="fn">(<a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#Reduction.liftContext">liftContext</a> <span class="fn">lens</span> <span class="fn">R</span>)</span> <span class="fn">completenessError</span></span></div></div><p>Lifting the reduction preserves completeness, assuming the lens satisfies its completeness
conditions</p></div></div><div class="decl" id="Reduction.liftContext_perfectCompleteness"><div class="theorem"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/LiftContext/Reduction.lean#L366-L369">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#Reduction.liftContext_perfectCompleteness"><span class="name">Reduction</span>.<span class="name">liftContext_perfectCompleteness</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">OuterStmtIn </span><span class="fn">OuterWitIn </span><span class="fn">OuterStmtOut </span><span class="fn">OuterWitOut </span><span class="fn">InnerStmtIn </span><span class="fn">InnerWitIn </span><span class="fn">InnerStmtOut </span><span class="fn">InnerWitOut</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">(<span class="fn">i</span> : <span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.ChallengeIdx">ChallengeIdx</a></span>) → <span class="fn"><a href="../../.././VCVio/OracleComp/Constructions/UniformSelect.html#OracleComp.SelectableType">OracleComp.SelectableType</a> <span class="fn">(<span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.Challenge">Challenge</a></span> <span class="fn">i</span>)</span></span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">σ</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">init</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a> <span class="fn">σ</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">impl</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/SimSemantics/SimulateQ.html#QueryImpl">QueryImpl</a> <span class="fn">oSpec</span> <span class="fn">(<a href="../../.././Init/Control/State.html#StateT">StateT</a> <span class="fn">σ</span> <a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a>)</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">outerRelIn</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<span class="fn">OuterStmtIn</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">OuterWitIn</span>)</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">outerRelOut</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<span class="fn">OuterStmtOut</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">OuterWitOut</span>)</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">innerRelIn</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<span class="fn">InnerStmtIn</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">InnerWitIn</span>)</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">innerRelOut</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<span class="fn">InnerStmtOut</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">InnerWitOut</span>)</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">R</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#Reduction">Reduction</a> <span class="fn">oSpec</span> <span class="fn">InnerStmtIn</span> <span class="fn">InnerWitIn</span> <span class="fn">InnerStmtOut</span> <span class="fn">InnerWitOut</span> <span class="fn">pSpec</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">lens</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Context.Lens">Context.Lens</a> <span class="fn">OuterStmtIn</span> <span class="fn">OuterStmtOut</span> <span class="fn">InnerStmtIn</span> <span class="fn">InnerStmtOut</span> <span class="fn">OuterWitIn</span> <span class="fn">OuterWitOut</span> <span class="fn">InnerWitIn</span> <span class="fn">InnerWitOut</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">lensComplete</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Context.Lens.IsComplete">Context.Lens.IsComplete</a> <span class="fn">outerRelIn</span> <span class="fn">innerRelIn</span> <span class="fn">outerRelOut</span> <span class="fn">innerRelOut</span> <span class="fn">(<a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#Reduction.compatContext">compatContext</a> <span class="fn">lens</span> <span class="fn">R</span>)</span> <span class="fn">lens</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Security/Basic.html#Reduction.perfectCompleteness">perfectCompleteness</a> <span class="fn">init</span> <span class="fn">impl</span> <span class="fn">innerRelIn</span> <span class="fn">innerRelOut</span> <span class="fn">R</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/OracleReduction/Security/Basic.html#Reduction.perfectCompleteness">perfectCompleteness</a> <span class="fn">init</span> <span class="fn">impl</span> <span class="fn">outerRelIn</span> <span class="fn">outerRelOut</span> <span class="fn">(<a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#Reduction.liftContext">liftContext</a> <span class="fn">lens</span> <span class="fn">R</span>)</span></span></div></div></div></div><div class="decl" id="Verifier.liftContext_soundness"><div class="theorem"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/LiftContext/Reduction.lean#L386-L420">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#Verifier.liftContext_soundness"><span class="name">Verifier</span>.<span class="name">liftContext_soundness</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">OuterStmtIn </span><span class="fn">OuterStmtOut </span><span class="fn">InnerStmtIn </span><span class="fn">InnerStmtOut</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">(<span class="fn">i</span> : <span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.ChallengeIdx">ChallengeIdx</a></span>) → <span class="fn"><a href="../../.././VCVio/OracleComp/Constructions/UniformSelect.html#OracleComp.SelectableType">OracleComp.SelectableType</a> <span class="fn">(<span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.Challenge">Challenge</a></span> <span class="fn">i</span>)</span></span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">σ</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">init</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a> <span class="fn">σ</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">impl</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/SimSemantics/SimulateQ.html#QueryImpl">QueryImpl</a> <span class="fn">oSpec</span> <span class="fn">(<a href="../../.././Init/Control/State.html#StateT">StateT</a> <span class="fn">σ</span> <a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a>)</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Inhabited">Inhabited</a> <span class="fn">InnerStmtOut</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">outerLangIn</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <span class="fn">OuterStmtIn</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">outerLangOut</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <span class="fn">OuterStmtOut</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">innerLangIn</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <span class="fn">InnerStmtIn</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">innerLangOut</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <span class="fn">InnerStmtOut</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">soundnessError</span> : <a href="../../.././Mathlib/Data/NNReal/Defs.html#NNReal">NNReal</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">lens</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Statement.Lens">Statement.Lens</a> <span class="fn">OuterStmtIn</span> <span class="fn">OuterStmtOut</span> <span class="fn">InnerStmtIn</span> <span class="fn">InnerStmtOut</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">V</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#Verifier">Verifier</a> <span class="fn">oSpec</span> <span class="fn">InnerStmtIn</span> <span class="fn">InnerStmtOut</span> <span class="fn">pSpec</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">lensSound</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Statement.Lens.IsSound">Statement.Lens.IsSound</a> <span class="fn">outerLangIn</span> <span class="fn">outerLangOut</span> <span class="fn">innerLangIn</span> <span class="fn">innerLangOut</span> <span class="fn">(<a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#Verifier.compatStatement">compatStatement</a> <span class="fn">lens</span> <span class="fn">V</span>)</span> <span class="fn">lens</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Security/Basic.html#Verifier.soundness">soundness</a> <span class="fn">init</span> <span class="fn">impl</span> <span class="fn">innerLangIn</span> <span class="fn">innerLangOut</span> <span class="fn">V</span> <span class="fn">soundnessError</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/OracleReduction/Security/Basic.html#Verifier.soundness">soundness</a> <span class="fn">init</span> <span class="fn">impl</span> <span class="fn">outerLangIn</span> <span class="fn">outerLangOut</span> <span class="fn">(<a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#Verifier.liftContext">liftContext</a> <span class="fn">lens</span> <span class="fn">V</span>)</span> <span class="fn">soundnessError</span></span></div></div><p>Lifting the reduction preserves soundness, assuming the lens satisfies its soundness
conditions</p></div></div><div class="decl" id="Verifier.liftContext_knowledgeSoundness"><div class="theorem"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/LiftContext/Reduction.lean#L432-L475">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#Verifier.liftContext_knowledgeSoundness"><span class="name">Verifier</span>.<span class="name">liftContext_knowledgeSoundness</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">OuterStmtIn </span><span class="fn">OuterWitIn </span><span class="fn">OuterStmtOut </span><span class="fn">OuterWitOut </span><span class="fn">InnerStmtIn </span><span class="fn">InnerWitIn </span><span class="fn">InnerStmtOut </span><span class="fn">InnerWitOut</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">(<span class="fn">i</span> : <span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.ChallengeIdx">ChallengeIdx</a></span>) → <span class="fn"><a href="../../.././VCVio/OracleComp/Constructions/UniformSelect.html#OracleComp.SelectableType">OracleComp.SelectableType</a> <span class="fn">(<span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.Challenge">Challenge</a></span> <span class="fn">i</span>)</span></span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">σ</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">init</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a> <span class="fn">σ</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">impl</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/SimSemantics/SimulateQ.html#QueryImpl">QueryImpl</a> <span class="fn">oSpec</span> <span class="fn">(<a href="../../.././Init/Control/State.html#StateT">StateT</a> <span class="fn">σ</span> <a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a>)</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Inhabited">Inhabited</a> <span class="fn">InnerStmtOut</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Inhabited">Inhabited</a> <span class="fn">InnerWitIn</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">outerRelIn</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<span class="fn">OuterStmtIn</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">OuterWitIn</span>)</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">outerRelOut</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<span class="fn">OuterStmtOut</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">OuterWitOut</span>)</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">innerRelIn</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<span class="fn">InnerStmtIn</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">InnerWitIn</span>)</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">innerRelOut</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<span class="fn">InnerStmtOut</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">InnerWitOut</span>)</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">knowledgeError</span> : <a href="../../.././Mathlib/Data/NNReal/Defs.html#NNReal">NNReal</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">stmtLens</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Statement.Lens">Statement.Lens</a> <span class="fn">OuterStmtIn</span> <span class="fn">OuterStmtOut</span> <span class="fn">InnerStmtIn</span> <span class="fn">InnerStmtOut</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">witLens</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Witness.InvLens">Witness.InvLens</a> <span class="fn">OuterStmtIn</span> <span class="fn">OuterWitIn</span> <span class="fn">OuterWitOut</span> <span class="fn">InnerWitIn</span> <span class="fn">InnerWitOut</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">V</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#Verifier">Verifier</a> <span class="fn">oSpec</span> <span class="fn">InnerStmtIn</span> <span class="fn">InnerStmtOut</span> <span class="fn">pSpec</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">lensKS</span> :
  <span class="fn"><a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Extractor.Lens.IsKnowledgeSound">Extractor.Lens.IsKnowledgeSound</a> <span class="fn">outerRelIn</span> <span class="fn">innerRelIn</span> <span class="fn">outerRelOut</span> <span class="fn">innerRelOut</span> <span class="fn">(<a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#Verifier.compatStatement">compatStatement</a> <span class="fn">stmtLens</span> <span class="fn">V</span>)</span>
    <span class="fn">(fun (<span class="fn">x</span> : <span class="fn">OuterWitOut</span>) (<span class="fn">x</span> : <span class="fn">InnerWitIn</span>) =&gt; <a href="../../.././Init/Prelude.html#True">True</a>)</span> <a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Extractor.Lens.mk">{</a> <span class="fn">stmt</span> := <span class="fn">stmtLens</span>, <span class="fn">wit</span> := <span class="fn">witLens</span> <a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Extractor.Lens.mk">}</a></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Security/Basic.html#Verifier.knowledgeSoundness">knowledgeSoundness</a> <span class="fn">init</span> <span class="fn">impl</span> <span class="fn">innerRelIn</span> <span class="fn">innerRelOut</span> <span class="fn">V</span> <span class="fn">knowledgeError</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/OracleReduction/Security/Basic.html#Verifier.knowledgeSoundness">knowledgeSoundness</a> <span class="fn">init</span> <span class="fn">impl</span> <span class="fn">outerRelIn</span> <span class="fn">outerRelOut</span> <span class="fn">(<a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#Verifier.liftContext">liftContext</a> <span class="fn">stmtLens</span> <span class="fn">V</span>)</span> <span class="fn">knowledgeError</span></span></div></div></div></div><div class="decl" id="Verifier.liftContext_rbr_soundness"><div class="theorem"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/LiftContext/Reduction.lean#L481-L509">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#Verifier.liftContext_rbr_soundness"><span class="name">Verifier</span>.<span class="name">liftContext_rbr_soundness</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">OuterStmtIn </span><span class="fn">OuterStmtOut </span><span class="fn">InnerStmtIn </span><span class="fn">InnerStmtOut</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">(<span class="fn">i</span> : <span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.ChallengeIdx">ChallengeIdx</a></span>) → <span class="fn"><a href="../../.././VCVio/OracleComp/Constructions/UniformSelect.html#OracleComp.SelectableType">OracleComp.SelectableType</a> <span class="fn">(<span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.Challenge">Challenge</a></span> <span class="fn">i</span>)</span></span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">σ</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">init</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a> <span class="fn">σ</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">impl</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/SimSemantics/SimulateQ.html#QueryImpl">QueryImpl</a> <span class="fn">oSpec</span> <span class="fn">(<a href="../../.././Init/Control/State.html#StateT">StateT</a> <span class="fn">σ</span> <a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a>)</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Inhabited">Inhabited</a> <span class="fn">InnerStmtOut</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">outerLangIn</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <span class="fn">OuterStmtIn</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">outerLangOut</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <span class="fn">OuterStmtOut</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">innerLangIn</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <span class="fn">InnerStmtIn</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">innerLangOut</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <span class="fn">InnerStmtOut</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">rbrSoundnessError</span> : <span class="fn"><span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.ChallengeIdx">ChallengeIdx</a></span> → <a href="../../.././Mathlib/Data/NNReal/Defs.html#NNReal">NNReal</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">lens</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Statement.Lens">Statement.Lens</a> <span class="fn">OuterStmtIn</span> <span class="fn">OuterStmtOut</span> <span class="fn">InnerStmtIn</span> <span class="fn">InnerStmtOut</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">V</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#Verifier">Verifier</a> <span class="fn">oSpec</span> <span class="fn">InnerStmtIn</span> <span class="fn">InnerStmtOut</span> <span class="fn">pSpec</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">lensSound</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Statement.Lens.IsSound">Statement.Lens.IsSound</a> <span class="fn">outerLangIn</span> <span class="fn">outerLangOut</span> <span class="fn">innerLangIn</span> <span class="fn">innerLangOut</span> <span class="fn">(<a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#Verifier.compatStatement">compatStatement</a> <span class="fn">lens</span> <span class="fn">V</span>)</span> <span class="fn">lens</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.rbrSoundness">rbrSoundness</a> <span class="fn">init</span> <span class="fn">impl</span> <span class="fn">innerLangIn</span> <span class="fn">innerLangOut</span> <span class="fn">V</span> <span class="fn">rbrSoundnessError</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.rbrSoundness">rbrSoundness</a> <span class="fn">init</span> <span class="fn">impl</span> <span class="fn">outerLangIn</span> <span class="fn">outerLangOut</span> <span class="fn">(<a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#Verifier.liftContext">liftContext</a> <span class="fn">lens</span> <span class="fn">V</span>)</span> <span class="fn">rbrSoundnessError</span></span></div></div></div></div><div class="decl" id="Verifier.liftContext_rbr_knowledgeSoundness"><div class="theorem"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/LiftContext/Reduction.lean#L515-L533">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#Verifier.liftContext_rbr_knowledgeSoundness"><span class="name">Verifier</span>.<span class="name">liftContext_rbr_knowledgeSoundness</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">OuterStmtIn </span><span class="fn">OuterWitIn </span><span class="fn">OuterStmtOut </span><span class="fn">OuterWitOut </span><span class="fn">InnerStmtIn </span><span class="fn">InnerWitIn </span><span class="fn">InnerStmtOut </span><span class="fn">InnerWitOut</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">(<span class="fn">i</span> : <span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.ChallengeIdx">ChallengeIdx</a></span>) → <span class="fn"><a href="../../.././VCVio/OracleComp/Constructions/UniformSelect.html#OracleComp.SelectableType">OracleComp.SelectableType</a> <span class="fn">(<span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.Challenge">Challenge</a></span> <span class="fn">i</span>)</span></span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">σ</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">init</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a> <span class="fn">σ</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">impl</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/SimSemantics/SimulateQ.html#QueryImpl">QueryImpl</a> <span class="fn">oSpec</span> <span class="fn">(<a href="../../.././Init/Control/State.html#StateT">StateT</a> <span class="fn">σ</span> <a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a>)</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Inhabited">Inhabited</a> <span class="fn">InnerStmtOut</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Inhabited">Inhabited</a> <span class="fn">InnerWitIn</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">outerRelIn</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<span class="fn">OuterStmtIn</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">OuterWitIn</span>)</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">outerRelOut</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<span class="fn">OuterStmtOut</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">OuterWitOut</span>)</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">innerRelIn</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<span class="fn">InnerStmtIn</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">InnerWitIn</span>)</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">innerRelOut</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<span class="fn">InnerStmtOut</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">InnerWitOut</span>)</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">rbrKnowledgeError</span> : <span class="fn"><span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.ChallengeIdx">ChallengeIdx</a></span> → <a href="../../.././Mathlib/Data/NNReal/Defs.html#NNReal">NNReal</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">stmtLens</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Statement.Lens">Statement.Lens</a> <span class="fn">OuterStmtIn</span> <span class="fn">OuterStmtOut</span> <span class="fn">InnerStmtIn</span> <span class="fn">InnerStmtOut</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">witLens</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Witness.InvLens">Witness.InvLens</a> <span class="fn">OuterStmtIn</span> <span class="fn">OuterWitIn</span> <span class="fn">OuterWitOut</span> <span class="fn">InnerWitIn</span> <span class="fn">InnerWitOut</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">V</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#Verifier">Verifier</a> <span class="fn">oSpec</span> <span class="fn">InnerStmtIn</span> <span class="fn">InnerStmtOut</span> <span class="fn">pSpec</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">lensKS</span> :
  <span class="fn"><a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Extractor.Lens.IsKnowledgeSound">Extractor.Lens.IsKnowledgeSound</a> <span class="fn">outerRelIn</span> <span class="fn">innerRelIn</span> <span class="fn">outerRelOut</span> <span class="fn">innerRelOut</span> <span class="fn">(<a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#Verifier.compatStatement">compatStatement</a> <span class="fn">stmtLens</span> <span class="fn">V</span>)</span>
    <span class="fn">(fun (<span class="fn">x</span> : <span class="fn">OuterWitOut</span>) (<span class="fn">x</span> : <span class="fn">InnerWitIn</span>) =&gt; <a href="../../.././Init/Prelude.html#True">True</a>)</span> <a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Extractor.Lens.mk">{</a> <span class="fn">stmt</span> := <span class="fn">stmtLens</span>, <span class="fn">wit</span> := <span class="fn">witLens</span> <a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Extractor.Lens.mk">}</a></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.rbrKnowledgeSoundness">rbrKnowledgeSoundness</a> <span class="fn">init</span> <span class="fn">impl</span> <span class="fn">innerRelIn</span> <span class="fn">innerRelOut</span> <span class="fn">V</span> <span class="fn">rbrKnowledgeError</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.rbrKnowledgeSoundness">rbrKnowledgeSoundness</a> <span class="fn">init</span> <span class="fn">impl</span> <span class="fn">outerRelIn</span> <span class="fn">outerRelOut</span> <span class="fn">(<a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#Verifier.liftContext">liftContext</a> <span class="fn">stmtLens</span> <span class="fn">V</span>)</span> <span class="fn">rbrKnowledgeError</span></span></div></div></div></div><div class="decl" id="OuterStmtIn_Test"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/LiftContext/Reduction.lean#L547-L547">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#OuterStmtIn_Test"><span class="name">OuterStmtIn_Test</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-OuterStmtIn_Test" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="InnerStmtIn_Test"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/LiftContext/Reduction.lean#L548-L548">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#InnerStmtIn_Test"><span class="name">InnerStmtIn_Test</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-InnerStmtIn_Test" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="outerRelIn_Test"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/LiftContext/Reduction.lean#L550-L552">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#outerRelIn_Test"><span class="name">outerRelIn_Test</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#OuterStmtIn_Test">OuterStmtIn_Test</a> <a href="../../.././Init/Prelude.html#Prod">×</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a>)</span></div></div><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-outerRelIn_Test" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="innerRelIn_Test"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/LiftContext/Reduction.lean#L553-L555">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#innerRelIn_Test"><span class="name">innerRelIn_Test</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#InnerStmtIn_Test">InnerStmtIn_Test</a> <a href="../../.././Init/Prelude.html#Prod">×</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a>)</span></div></div><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-innerRelIn_Test" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="OuterStmtOut_Test"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/LiftContext/Reduction.lean#L557-L557">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#OuterStmtOut_Test"><span class="name">OuterStmtOut_Test</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-OuterStmtOut_Test" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="InnerStmtOut_Test"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/LiftContext/Reduction.lean#L558-L558">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#InnerStmtOut_Test"><span class="name">InnerStmtOut_Test</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-InnerStmtOut_Test" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="outerRelOut_Test"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/LiftContext/Reduction.lean#L560-L562">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#outerRelOut_Test"><span class="name">outerRelOut_Test</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#OuterStmtOut_Test">OuterStmtOut_Test</a> <a href="../../.././Init/Prelude.html#Prod">×</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a>)</span></div></div><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-outerRelOut_Test" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="innerRelOut_Test"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/LiftContext/Reduction.lean#L563-L565">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#innerRelOut_Test"><span class="name">innerRelOut_Test</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#InnerStmtOut_Test">InnerStmtOut_Test</a> <a href="../../.././Init/Prelude.html#Prod">×</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a>)</span></div></div><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-innerRelOut_Test" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="testStmtLens"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/LiftContext/Reduction.lean#L567-L570">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#testStmtLens"><span class="name">testStmtLens</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Statement.Lens">Statement.Lens</a> <a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#OuterStmtIn_Test">OuterStmtIn_Test</a> <a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#OuterStmtOut_Test">OuterStmtOut_Test</a> <a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#InnerStmtIn_Test">InnerStmtIn_Test</a> <a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#InnerStmtOut_Test">InnerStmtOut_Test</a></span></div></div><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-testStmtLens" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="testLens"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/LiftContext/Reduction.lean#L572-L576">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#testLens"><span class="name">testLens</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Context.Lens">Context.Lens</a> <a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#OuterStmtIn_Test">OuterStmtIn_Test</a> <a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#OuterStmtOut_Test">OuterStmtOut_Test</a> <a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#InnerStmtIn_Test">InnerStmtIn_Test</a> <a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#InnerStmtOut_Test">InnerStmtOut_Test</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-testLens" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="testLensE"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/LiftContext/Reduction.lean#L578-L582">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#testLensE"><span class="name">testLensE</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Extractor.Lens">Extractor.Lens</a> <a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#OuterStmtIn_Test">OuterStmtIn_Test</a> <a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#OuterStmtOut_Test">OuterStmtOut_Test</a> <a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#InnerStmtIn_Test">InnerStmtIn_Test</a> <a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#InnerStmtOut_Test">InnerStmtOut_Test</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-testLensE" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="instTestLensComplete"><div class="instance"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/LiftContext/Reduction.lean#L584-L592">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#instTestLensComplete"><span class="name">instTestLensComplete</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Context.Lens.IsComplete">Context.Lens.IsComplete</a> <a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#outerRelIn_Test">outerRelIn_Test</a> <a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#innerRelIn_Test">innerRelIn_Test</a> <a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#outerRelOut_Test">outerRelOut_Test</a> <a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#innerRelOut_Test">innerRelOut_Test</a>
  <span class="fn">(fun (<span class="fn">x</span> : <a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#OuterStmtIn_Test">OuterStmtIn_Test</a> <a href="../../.././Init/Prelude.html#Prod">×</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a>) (<span class="fn">x_1</span> : <a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#InnerStmtOut_Test">InnerStmtOut_Test</a> <a href="../../.././Init/Prelude.html#Prod">×</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a>) =&gt;
    <span class="fn">match <span class="fn">x</span> with
    | <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">p</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">q</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">snd</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">snd_1</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a> =&gt;
      <span class="fn">match <span class="fn">x_1</span> with
      | <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">f</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">snd</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">snd_2</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a> =&gt; <span class="fn">p</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">q</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">f</span></span></span>)</span>
  <a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#testLens">testLens</a></span></div></div></div></div><div class="decl" id="instTestLensKnowledgeSound"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/LiftContext/Reduction.lean#L594-L602">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#instTestLensKnowledgeSound"><span class="name">instTestLensKnowledgeSound</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/OracleReduction/LiftContext/Lens.html#Extractor.Lens.IsKnowledgeSound">Extractor.Lens.IsKnowledgeSound</a> <a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#outerRelIn_Test">outerRelIn_Test</a> <a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#innerRelIn_Test">innerRelIn_Test</a> <a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#outerRelOut_Test">outerRelOut_Test</a> <a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#innerRelOut_Test">innerRelOut_Test</a>
  <span class="fn">(fun (<span class="fn">x</span> : <a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#OuterStmtIn_Test">OuterStmtIn_Test</a>) (<span class="fn">x_1</span> : <a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#InnerStmtOut_Test">InnerStmtOut_Test</a>) =&gt;
    <span class="fn">match <span class="fn">x</span> with
    | <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">p</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">q</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">snd</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a> =&gt;
      <span class="fn">match <span class="fn">x_1</span> with
      | <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">f</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">snd</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a> =&gt; <span class="fn">p</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">q</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">f</span></span></span>)</span>
  <span class="fn">(fun (<span class="fn">x</span> <span class="fn">x</span> : <a href="../../.././Init/Prelude.html#Unit">Unit</a>) =&gt; <a href="../../.././Init/Prelude.html#True">True</a>)</span> <a href="../../.././ArkLib/OracleReduction/LiftContext/Reduction.html#testLensE">testLensE</a></span></div></div><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-instTestLensKnowledgeSound" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div></main>
<nav class="nav"><iframe src="../../.././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>