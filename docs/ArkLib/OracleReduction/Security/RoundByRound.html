<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../../.././style.css"></link><link rel="icon" href="../../.././favicon.svg"></link><link rel="mask-icon" href="../../.././favicon.svg" color="#000000"></link><link rel="prefetch" href="../../.././/declarations/declaration-data.bmp" as="image"></link><title>ArkLib.OracleReduction.Security.RoundByRound</title><script defer="true" src="../../.././mathjax-config.js"></script><script defer="true" src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../../.././";</script><script>const MODULE_NAME="ArkLib.OracleReduction.Security.RoundByRound";</script><script type="module" src="../../.././jump-src.js"></script><script type="module" src="../../.././search.js"></script><script type="module" src="../../.././expand-nav.js"></script><script type="module" src="../../.././how-about.js"></script><script type="module" src="../../.././instances.js"></script><script type="module" src="../../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">ArkLib</span>.<span class="name">OracleReduction</span>.<span class="name">Security</span>.<span class="name">RoundByRound</span></h2><form id="search_form"><input type="text" name="q" autocomplete="off"></input>&#32;<button id="search_button" onclick="javascript: form.action='../../.././search.html';">Search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/Security/RoundByRound.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../../.././Init.html">Init</a></li><li><a href="../../.././ArkLib/OracleReduction/Security/Basic.html">ArkLib.OracleReduction.Security.Basic</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-ArkLib.OracleReduction.Security.RoundByRound" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#Extractor.RoundByRoundOneShot"><span class="name">Extractor</span>.<span class="name">RoundByRoundOneShot</span></a></div><div class="nav_link"><a class="break_within" href="#Extractor.RoundByRoundOneShot.IsMonotone"><span class="name">Extractor</span>.<span class="name">RoundByRoundOneShot</span>.<span class="name">IsMonotone</span></a></div><div class="nav_link"><a class="break_within" href="#Extractor.RoundByRound"><span class="name">Extractor</span>.<span class="name">RoundByRound</span></a></div><div class="nav_link"><a class="break_within" href="#Extractor.RoundByRoundOneShot.toRoundByRound"><span class="name">Extractor</span>.<span class="name">RoundByRoundOneShot</span>.<span class="name">toRoundByRound</span></a></div><div class="nav_link"><a class="break_within" href="#Verifier.StateFunction"><span class="name">Verifier</span>.<span class="name">StateFunction</span></a></div><div class="nav_link"><a class="break_within" href="#Verifier.KnowledgeStateFunction"><span class="name">Verifier</span>.<span class="name">KnowledgeStateFunction</span></a></div><div class="nav_link"><a class="break_within" href="#Verifier.KnowledgeStateFunction.toStateFunction"><span class="name">Verifier</span>.<span class="name">KnowledgeStateFunction</span>.<span class="name">toStateFunction</span></a></div><div class="nav_link"><a class="break_within" href="#Verifier.KnowledgeStateFunctionOneShot"><span class="name">Verifier</span>.<span class="name">KnowledgeStateFunctionOneShot</span></a></div><div class="nav_link"><a class="break_within" href="#Verifier.KnowledgeStateFunctionOneShot.toKnowledgeStateFunction"><span class="name">Verifier</span>.<span class="name">KnowledgeStateFunctionOneShot</span>.<span class="name">toKnowledgeStateFunction</span></a></div><div class="nav_link"><a class="break_within" href="#Verifier.instCoeFunStateFunctionForallForallForallTranscriptProp"><span class="name">Verifier</span>.<span class="name">instCoeFunStateFunctionForallForallForallTranscriptProp</span></a></div><div class="nav_link"><a class="break_within" href="#Verifier.instCoeFunKnowledgeStateFunctionOneShotForallForallForallTranscriptProp"><span class="name">Verifier</span>.<span class="name">instCoeFunKnowledgeStateFunctionOneShotForallForallForallTranscriptProp</span></a></div><div class="nav_link"><a class="break_within" href="#Verifier.instCoeFunKnowledgeStateFunctionForallForallForallTranscriptForallProp"><span class="name">Verifier</span>.<span class="name">instCoeFunKnowledgeStateFunctionForallForallForallTranscriptForallProp</span></a></div><div class="nav_link"><a class="break_within" href="#Verifier.rbrSoundness"><span class="name">Verifier</span>.<span class="name">rbrSoundness</span></a></div><div class="nav_link"><a class="break_within" href="#Verifier.IsRBRSound"><span class="name">Verifier</span>.<span class="name">IsRBRSound</span></a></div><div class="nav_link"><a class="break_within" href="#Verifier.rbrKnowledgeSoundnessOneShot"><span class="name">Verifier</span>.<span class="name">rbrKnowledgeSoundnessOneShot</span></a></div><div class="nav_link"><a class="break_within" href="#Verifier.rbrKnowledgeSoundness"><span class="name">Verifier</span>.<span class="name">rbrKnowledgeSoundness</span></a></div><div class="nav_link"><a class="break_within" href="#Verifier.IsRBRKnowledgeSound"><span class="name">Verifier</span>.<span class="name">IsRBRKnowledgeSound</span></a></div><div class="nav_link"><a class="break_within" href="#Verifier.rbrKnowledgeSoundnessOneShot_implies_rbrKnowledgeSoundness"><span class="name">Verifier</span>.<span class="name">rbrKnowledgeSoundnessOneShot_implies_rbrKnowledgeSoundness</span></a></div><div class="nav_link"><a class="break_within" href="#OracleVerifier.StateFunction"><span class="name">OracleVerifier</span>.<span class="name">StateFunction</span></a></div><div class="nav_link"><a class="break_within" href="#OracleVerifier.KnowledgeStateFunction"><span class="name">OracleVerifier</span>.<span class="name">KnowledgeStateFunction</span></a></div><div class="nav_link"><a class="break_within" href="#OracleVerifier.rbrSoundness"><span class="name">OracleVerifier</span>.<span class="name">rbrSoundness</span></a></div><div class="nav_link"><a class="break_within" href="#OracleVerifier.rbrKnowledgeSoundness"><span class="name">OracleVerifier</span>.<span class="name">rbrKnowledgeSoundness</span></a></div><div class="nav_link"><a class="break_within" href="#Proof.rbrSoundness"><span class="name">Proof</span>.<span class="name">rbrSoundness</span></a></div><div class="nav_link"><a class="break_within" href="#Proof.rbrKnowledgeSoundness"><span class="name">Proof</span>.<span class="name">rbrKnowledgeSoundness</span></a></div><div class="nav_link"><a class="break_within" href="#OracleProof.rbrSoundness"><span class="name">OracleProof</span>.<span class="name">rbrSoundness</span></a></div><div class="nav_link"><a class="break_within" href="#OracleProof.rbrKnowledgeSoundness"><span class="name">OracleProof</span>.<span class="name">rbrKnowledgeSoundness</span></a></div><div class="nav_link"><a class="break_within" href="#Verifier.StateFunction.id"><span class="name">Verifier</span>.<span class="name">StateFunction</span>.<span class="name">id</span></a></div><div class="nav_link"><a class="break_within" href="#Verifier.id_rbrSoundness"><span class="name">Verifier</span>.<span class="name">id_rbrSoundness</span></a></div><div class="nav_link"><a class="break_within" href="#Extractor.RoundByRound.id"><span class="name">Extractor</span>.<span class="name">RoundByRound</span>.<span class="name">id</span></a></div><div class="nav_link"><a class="break_within" href="#Verifier.KnowledgeStateFunction.id"><span class="name">Verifier</span>.<span class="name">KnowledgeStateFunction</span>.<span class="name">id</span></a></div><div class="nav_link"><a class="break_within" href="#Verifier.id_rbrKnowledgeSoundness"><span class="name">Verifier</span>.<span class="name">id_rbrKnowledgeSoundness</span></a></div><div class="nav_link"><a class="break_within" href="#OracleVerifier.id_rbrKnowledgeSoundness"><span class="name">OracleVerifier</span>.<span class="name">id_rbrKnowledgeSoundness</span></a></div></nav><main>
<div class="mod_doc"><h1 class="markdown-heading" id="Round-by-Round-Security-Definitions">Round-by-Round Security Definitions <a class="hover-link" href="#Round-by-Round-Security-Definitions">#</a></h1><p>This file defines round-by-round security notions for (oracle) reductions.</p></div><div class="decl" id="Extractor.RoundByRoundOneShot"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/Security/RoundByRound.lean#L27-L40">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Extractor.RoundByRoundOneShot"><span class="name">Extractor</span>.<span class="name">RoundByRoundOneShot</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">StmtIn </span><span class="fn">WitIn</span> : <a href="../../.././foundational_types.html">Type</a>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a> u_1</div></div><p>A <strong>one-shot</strong> round-by-round extractor is a function that:</p><ul>
<li>Takes in index <code>m : <a href="../../.././Init/Prelude.html#Fin">Fin</a> (n + 1)</code></li>
<li>Takes in the input statement <code>stmtIn : StmtIn</code></li>
<li>Takes in a partial transcript up to round <code>m</code></li>
<li>Takes in the prover's query log (TODO: refine this, verifier's query log as well?)</li>
</ul><p>and returns an input witness <code>witIn : WitIn</code>.</p><p>This is the old definition of round-by-round extractor, which is less general than the new
definition (i.e. the input witness is extracted immediately, &quot;in one shot&quot;, unlike the general
definition where the input witness is derived via intermediate witnesses).</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Extractor.RoundByRoundOneShot" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Extractor.RoundByRoundOneShot.IsMonotone"><div class="class"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/Security/RoundByRound.lean#L42-L55">source</a></div><div class="decl_header"><span class="decl_kind">class</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Extractor.RoundByRoundOneShot.IsMonotone"><span class="name">Extractor</span>.<span class="name">RoundByRoundOneShot</span>.<span class="name">IsMonotone</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">StmtIn </span><span class="fn">WitIn</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">E</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Extractor.RoundByRoundOneShot">RoundByRoundOneShot</a> <span class="fn">oSpec</span> <span class="fn">StmtIn</span> <span class="fn">WitIn</span> <span class="fn">pSpec</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">relIn</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<span class="fn">StmtIn</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">WitIn</span>)</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Prop</a></div></div><p>A one-shot round-by-round extractor is <strong>monotone</strong> if its success probability on a given query
log is the same as the success probability on any extension of that query log.</p><p>TODO: refine this</p><ul class="structure_fields" id="Extractor.RoundByRoundOneShot.IsMonotone.mk"><li id="Extractor.RoundByRoundOneShot.IsMonotone.is_monotone" class="structure_field"><div class="structure_field_info">is_monotone<span class="decl_args">
<span class="fn">(<span class="fn">roundIdx</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">stmtIn</span> : <span class="fn">StmtIn</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">transcript</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.Transcript">ProtocolSpec.Transcript</a> <span class="fn">roundIdx</span> <span class="fn">pSpec</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">proveQueryLog₁ </span><span class="fn">proveQueryLog₂</span> : <span class="fn"><span class="fn">oSpec</span>.<a href="../../.././VCVio/OracleComp/QueryTracking/Structures.html#OracleSpec.QueryLog">QueryLog</a></span>)</span></span>
 : <span class="fn"><span class="fn"><a href="../../.././Init/Data/List/Basic.html#List.Sublist">List.Sublist</a> <span class="fn">proveQueryLog₁</span> <span class="fn">proveQueryLog₂</span></span> →
  <span class="fn"><a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">stmtIn</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn"><span class="fn">E</span> <span class="fn">roundIdx</span> <span class="fn">stmtIn</span> <span class="fn">transcript</span> <span class="fn">proveQueryLog₁</span></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a> <a href="../../.././Init/Prelude.html#Membership.mem">∈</a> <span class="fn">relIn</span> →
    <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">stmtIn</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn"><span class="fn">E</span> <span class="fn">roundIdx</span> <span class="fn">stmtIn</span> <span class="fn">transcript</span> <span class="fn">proveQueryLog₂</span></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a> <a href="../../.././Init/Prelude.html#Membership.mem">∈</a> <span class="fn">relIn</span></span></span></div></li></ul><details class="instances"><summary>Instances</summary><ul id="instances-list-Extractor.RoundByRoundOneShot.IsMonotone" class="instances-list"></ul></details></div></div><div class="decl" id="Extractor.RoundByRound"><div class="structure"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/Security/RoundByRound.lean#L57-L82">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Extractor.RoundByRound"><span class="name">Extractor</span>.<span class="name">RoundByRound</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">StmtIn </span><span class="fn">WitIn </span><span class="fn">WitOut</span> : <a href="../../.././foundational_types.html">Type</a>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">WitMid</span> : <span class="fn"><span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span> → <a href="../../.././foundational_types.html">Type</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p>A <strong>round-by-round extractor</strong> is a tuple of algorithms that iteratively extracts the input
witness from the output witness, through a series of intermediate witnesses
(indexed by <code>m : <a href="../../.././Init/Prelude.html#Fin">Fin</a> (n + 1)</code>). Formally, it contains the following components:</p><ul>
<li>A proof <code><a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Extractor.RoundByRound.eqIn">eqIn</a> : WitMid 0 = WitIn</code> that the first intermediate witness type is equal to the
input witness type</li>
<li>A function <code><a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Extractor.RoundByRound.extractMid">extractMid</a> : (m : <a href="../../.././Init/Prelude.html#Fin">Fin</a> n) → StmtIn → Transcript m.succ pSpec</code>
<code>→ WitMid m.succ → WitMid m.castSucc</code> that extracts the intermediate witness for round <code>m</code>
from the intermediate witness for round <code>m+1</code>, using the transcript up to round <code>m+1</code> and
the intermediate witness for round <code>m+1</code></li>
<li>A function <code><a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Extractor.RoundByRound.extractOut">extractOut</a> : StmtIn → FullTranscript pSpec → WitOut → WitMid (.last n)</code> that
constructs the intermediate witness for the final round from the output witness</li>
</ul><p>The extractor processes rounds in decreasing order: <code>n → n-1 → ... → 1 → 0</code>, using
intermediate witness types <code>WitMid m</code> for each round <code>m</code>.</p><ul class="structure_fields" id="Extractor.RoundByRound.mk"><li id="Extractor.RoundByRound.eqIn" class="structure_field"><div class="structure_field_info">eqIn : <span class="fn"><span class="fn">WitMid</span> <span class="fn">0</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">WitIn</span></div><div class="structure_field_doc"><p>The first intermediate witness type is equal to the input witness type</p></div></li><li id="Extractor.RoundByRound.extractMid" class="structure_field"><div class="structure_field_info">extractMid<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">n</span></span>)</span></span>
 : <span class="fn"><span class="fn">StmtIn</span> → <span class="fn"><span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.Transcript">ProtocolSpec.Transcript</a> <span class="fn"><span class="fn">m</span>.<a href="../../.././Init/Data/Fin/Basic.html#Fin.succ">succ</a></span> <span class="fn">pSpec</span></span> → <span class="fn"><span class="fn"><span class="fn">WitMid</span> <span class="fn"><span class="fn">m</span>.<a href="../../.././Init/Data/Fin/Basic.html#Fin.succ">succ</a></span></span> → <span class="fn"><span class="fn">WitMid</span> <span class="fn"><span class="fn">m</span>.<a href="../../.././Init/Data/Fin/Basic.html#Fin.castSucc">castSucc</a></span></span></span></span></span></div><div class="structure_field_doc"><p>Extract intermediate witness for round <code>m</code> from intermediate witness for round <code>m+1</code>,
using the transcript up to round <code>m+1</code></p></div></li><li id="Extractor.RoundByRound.extractOut" class="structure_field"><div class="structure_field_info">extractOut : <span class="fn"><span class="fn">StmtIn</span> → <span class="fn"><span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.FullTranscript">FullTranscript</a></span> → <span class="fn"><span class="fn">WitOut</span> → <span class="fn"><span class="fn">WitMid</span> <span class="fn">(<a href="../../.././Init/Data/Fin/Basic.html#Fin.last">Fin.last</a> <span class="fn">n</span>)</span></span></span></span></span></div><div class="structure_field_doc"><p>Construct the intermediate witness for the final round from the output witness</p></div></li></ul><details id="instances-for-list-Extractor.RoundByRound" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Extractor.RoundByRoundOneShot.toRoundByRound"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/Security/RoundByRound.lean#L86-L96">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Extractor.RoundByRoundOneShot.toRoundByRound"><span class="name">Extractor</span>.<span class="name">RoundByRoundOneShot</span>.<span class="name">toRoundByRound</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">StmtIn </span><span class="fn">WitIn </span><span class="fn">WitOut</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">E</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Extractor.RoundByRoundOneShot">RoundByRoundOneShot</a> <span class="fn">oSpec</span> <span class="fn">StmtIn</span> <span class="fn">WitIn</span> <span class="fn">pSpec</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Extractor.RoundByRound">RoundByRound</a> <span class="fn">oSpec</span> <span class="fn">StmtIn</span> <span class="fn">WitIn</span> <span class="fn">WitOut</span> <span class="fn">pSpec</span> <span class="fn">fun (<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span>) =&gt; <span class="fn">WitIn</span></span></span></div></div><p>A one-shot round-by-round extractor can be converted to the general round-by-round extractor
format, where all intermediate witness types are equal to the input witness type.</p><p>Note that the converse is <em>not</em> true: it's not possible in general to convert a general
round-by-round extractor to a one-shot one.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Extractor.RoundByRoundOneShot.toRoundByRound" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Verifier.StateFunction"><div class="structure"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/Security/RoundByRound.lean#L106-L125">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.StateFunction"><span class="name">Verifier</span>.<span class="name">StateFunction</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">StmtIn </span><span class="fn">StmtOut</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">σ</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">init</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a> <span class="fn">σ</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">impl</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/SimSemantics/SimulateQ.html#QueryImpl">QueryImpl</a> <span class="fn">oSpec</span> <span class="fn">(<a href="../../.././Init/Control/State.html#StateT">StateT</a> <span class="fn">σ</span> <a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">langIn</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <span class="fn">StmtIn</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">langOut</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <span class="fn">StmtOut</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">verifier</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#Verifier">Verifier</a> <span class="fn">oSpec</span> <span class="fn">StmtIn</span> <span class="fn">StmtOut</span> <span class="fn">pSpec</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p>A (deterministic) state function for a verifier, with respect to input language <code>langIn</code> and
output language <code>langOut</code>. This is used to define round-by-round soundness.</p><ul class="structure_fields" id="Verifier.StateFunction.mk"><li id="Verifier.StateFunction.toFun" class="structure_field"><div class="structure_field_info">toFun<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span>)</span></span>
 : <span class="fn"><span class="fn">StmtIn</span> → <span class="fn"><span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.Transcript">ProtocolSpec.Transcript</a> <span class="fn">m</span> <span class="fn">pSpec</span></span> → <a href="../../.././foundational_types.html">Prop</a></span></span></div></li><li id="Verifier.StateFunction.toFun_empty" class="structure_field"><div class="structure_field_info">toFun_empty<span class="decl_args">
<span class="fn">(<span class="fn">stmt</span> : <span class="fn">StmtIn</span>)</span></span>
 : <span class="fn">stmt</span> <a href="../../.././Init/Prelude.html#Membership.mem">∈</a> <span class="fn">langIn</span> <a href="../../.././Init/Core.html#Iff">↔</a> <span class="fn"><span class="fn"><span class="fn">self</span>.<a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.StateFunction.toFun">toFun</a></span> <span class="fn">0</span> <span class="fn">stmt</span> <a href="../../.././Init/Prelude.html#Inhabited.default">default</a></span></div><div class="structure_field_doc"><p>For all input statement not in the language, the state function is false for that statement
and the empty transcript</p></div></li><li id="Verifier.StateFunction.toFun_next" class="structure_field"><div class="structure_field_info">toFun_next<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">n</span></span>)</span></span>
 : <span class="fn"><span class="fn"><span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.dir">dir</a></span> <span class="fn">m</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././ArkLib/OracleReduction/Prelude.html#Direction.P_to_V">Direction.P_to_V</a> →
  <span class="fn">∀ (<span class="fn">stmt</span> : <span class="fn">StmtIn</span>) (<span class="fn">tr</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.Transcript">ProtocolSpec.Transcript</a> <span class="fn"><span class="fn">m</span>.<a href="../../.././Init/Data/Fin/Basic.html#Fin.castSucc">castSucc</a></span> <span class="fn">pSpec</span></span>),
    <span class="fn"><a href="../../.././Init/Prelude.html#Not">¬</a><span class="fn"><span class="fn"><span class="fn">self</span>.<a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.StateFunction.toFun">toFun</a></span> <span class="fn"><span class="fn">m</span>.<a href="../../.././Init/Data/Fin/Basic.html#Fin.castSucc">castSucc</a></span> <span class="fn">stmt</span> <span class="fn">tr</span></span> →
      <span class="fn">∀ (<span class="fn">msg</span> : <span class="fn"><span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.Type">Type</a></span> <span class="fn">m</span></span>), <a href="../../.././Init/Prelude.html#Not">¬</a><span class="fn"><span class="fn"><span class="fn">self</span>.<a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.StateFunction.toFun">toFun</a></span> <span class="fn"><span class="fn">m</span>.<a href="../../.././Init/Data/Fin/Basic.html#Fin.succ">succ</a></span> <span class="fn">stmt</span> <span class="fn">(<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.Transcript.concat">ProtocolSpec.Transcript.concat</a> <span class="fn">msg</span> <span class="fn">tr</span>)</span></span></span></span></span></span></div><div class="structure_field_doc"><p>If the state function is false for a partial transcript, and the next message is from the
prover to the verifier, then the state function is also false for the new partial transcript
regardless of the message</p></div></li><li id="Verifier.StateFunction.toFun_full" class="structure_field"><div class="structure_field_info">toFun_full<span class="decl_args">
<span class="fn">(<span class="fn">stmt</span> : <span class="fn">StmtIn</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">tr</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.Transcript">ProtocolSpec.Transcript</a> <span class="fn">(<a href="../../.././Init/Data/Fin/Basic.html#Fin.last">Fin.last</a> <span class="fn">n</span>)</span> <span class="fn">pSpec</span></span>)</span></span>
 : <span class="fn"><a href="../../.././Init/Prelude.html#Not">¬</a><span class="fn"><span class="fn"><span class="fn">self</span>.<a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.StateFunction.toFun">toFun</a></span> <span class="fn">(<a href="../../.././Init/Data/Fin/Basic.html#Fin.last">Fin.last</a> <span class="fn">n</span>)</span> <span class="fn">stmt</span> <span class="fn">tr</span></span> →
  <a href="../../.././VCVio/OracleComp/DistSemantics/EvalDist.html#OracleComp.probEvent">[</a><span class="fn">fun (<span class="fn">x</span> : <span class="fn">StmtOut</span>) =&gt; <span class="fn">x</span> <a href="../../.././Init/Prelude.html#Membership.mem">∈</a> <span class="fn">langOut</span></span><a href="../../.././VCVio/OracleComp/DistSemantics/EvalDist.html#OracleComp.probEvent">|</a><span class="fn">do
      let <span class="fn">__do_lift</span> ← <span class="fn">init</span>
      <span class="fn"><span class="fn"><span class="fn">(<a href="../../.././VCVio/OracleComp/SimSemantics/SimulateQ.html#OracleComp.simulateQ">OracleComp.simulateQ</a> <span class="fn">impl</span> <span class="fn">(<a href="../../.././ArkLib/OracleReduction/Execution.html#Verifier.run">run</a> <span class="fn">stmt</span> <span class="fn">tr</span> <span class="fn">verifier</span>)</span>)</span>.<a href="../../.././Init/Control/State.html#StateT.run'">run'</a></span> <span class="fn">__do_lift</span></span></span><a href="../../.././VCVio/OracleComp/DistSemantics/EvalDist.html#OracleComp.probEvent">]</a> <a href="../../.././Init/Prelude.html#Eq">=</a>     <span class="fn">0</span></span></div><div class="structure_field_doc"><p>If the state function is false for a full transcript, the verifier will not output a statement
in the output language</p></div></li></ul><details id="instances-for-list-Verifier.StateFunction" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Verifier.KnowledgeStateFunction"><div class="structure"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/Security/RoundByRound.lean#L127-L155">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.KnowledgeStateFunction"><span class="name">Verifier</span>.<span class="name">KnowledgeStateFunction</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">StmtIn </span><span class="fn">WitIn </span><span class="fn">StmtOut </span><span class="fn">WitOut</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">σ</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">init</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a> <span class="fn">σ</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">impl</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/SimSemantics/SimulateQ.html#QueryImpl">QueryImpl</a> <span class="fn">oSpec</span> <span class="fn">(<a href="../../.././Init/Control/State.html#StateT">StateT</a> <span class="fn">σ</span> <a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">relIn</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<span class="fn">StmtIn</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">WitIn</span>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">relOut</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<span class="fn">StmtOut</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">WitOut</span>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">verifier</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#Verifier">Verifier</a> <span class="fn">oSpec</span> <span class="fn">StmtIn</span> <span class="fn">StmtOut</span> <span class="fn">pSpec</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">WitMid</span> : <span class="fn"><span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span> → <a href="../../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">extractor</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Extractor.RoundByRound">Extractor.RoundByRound</a> <span class="fn">oSpec</span> <span class="fn">StmtIn</span> <span class="fn">WitIn</span> <span class="fn">WitOut</span> <span class="fn">pSpec</span> <span class="fn">WitMid</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p>A knowledge state function for a verifier, with respect to input relation <code>relIn</code>, output
relation <code>relOut</code>, and intermediate witness types <code>WitMid</code>. This is used to define
round-by-round knowledge soundness.</p><ul class="structure_fields" id="Verifier.KnowledgeStateFunction.mk"><li id="Verifier.KnowledgeStateFunction.toFun" class="structure_field"><div class="structure_field_info">toFun<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span>)</span></span>
 : <span class="fn"><span class="fn">StmtIn</span> → <span class="fn"><span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.Transcript">ProtocolSpec.Transcript</a> <span class="fn">m</span> <span class="fn">pSpec</span></span> → <span class="fn"><span class="fn"><span class="fn">WitMid</span> <span class="fn">m</span></span> → <a href="../../.././foundational_types.html">Prop</a></span></span></span></div><div class="structure_field_doc"><p>The knowledge state function: takes in round index, input statement, transcript up to that
round, and intermediate witness of that round, and returns True/False.</p></div></li><li id="Verifier.KnowledgeStateFunction.toFun_empty" class="structure_field"><div class="structure_field_info">toFun_empty<span class="decl_args">
<span class="fn">(<span class="fn">stmtIn</span> : <span class="fn">StmtIn</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">witMid</span> : <span class="fn"><span class="fn">WitMid</span> <span class="fn">0</span></span>)</span></span>
 : <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">stmtIn</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn"><a href="../../.././Init/Prelude.html#cast">cast</a> <span class="fn">⋯</span> <span class="fn">witMid</span></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a> <a href="../../.././Init/Prelude.html#Membership.mem">∈</a> <span class="fn">relIn</span> <a href="../../.././Init/Core.html#Iff">↔</a> <span class="fn"><span class="fn"><span class="fn">self</span>.<a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.KnowledgeStateFunction.toFun">toFun</a></span> <span class="fn">0</span> <span class="fn">stmtIn</span> <a href="../../.././Init/Prelude.html#Inhabited.default">default</a> <span class="fn">witMid</span></span></div><div class="structure_field_doc"><p>The input statement and witness are in the input relation if and only if the state function is
true for the empty transcript and the input witness</p></div></li><li id="Verifier.KnowledgeStateFunction.toFun_next" class="structure_field"><div class="structure_field_info">toFun_next<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">n</span></span>)</span></span>
 : <span class="fn"><span class="fn"><span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.dir">dir</a></span> <span class="fn">m</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././ArkLib/OracleReduction/Prelude.html#Direction.P_to_V">Direction.P_to_V</a> →
  <span class="fn">∀ (<span class="fn">stmtIn</span> : <span class="fn">StmtIn</span>) (<span class="fn">tr</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.Transcript">ProtocolSpec.Transcript</a> <span class="fn"><span class="fn">m</span>.<a href="../../.././Init/Data/Fin/Basic.html#Fin.castSucc">castSucc</a></span> <span class="fn">pSpec</span></span>) (<span class="fn">msg</span> : <span class="fn"><span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.Type">Type</a></span> <span class="fn">m</span></span>) (<span class="fn">witMid</span> : <span class="fn"><span class="fn">WitMid</span> <span class="fn"><span class="fn">m</span>.<a href="../../.././Init/Data/Fin/Basic.html#Fin.succ">succ</a></span></span>),
    <span class="fn"><span class="fn"><span class="fn"><span class="fn">self</span>.<a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.KnowledgeStateFunction.toFun">toFun</a></span> <span class="fn"><span class="fn">m</span>.<a href="../../.././Init/Data/Fin/Basic.html#Fin.succ">succ</a></span> <span class="fn">stmtIn</span> <span class="fn">(<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.Transcript.concat">ProtocolSpec.Transcript.concat</a> <span class="fn">msg</span> <span class="fn">tr</span>)</span> <span class="fn">witMid</span></span> →
      <span class="fn"><span class="fn"><span class="fn">self</span>.<a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.KnowledgeStateFunction.toFun">toFun</a></span> <span class="fn"><span class="fn">m</span>.<a href="../../.././Init/Data/Fin/Basic.html#Fin.castSucc">castSucc</a></span> <span class="fn">stmtIn</span> <span class="fn">tr</span> <span class="fn">(<span class="fn"><span class="fn">extractor</span>.<a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Extractor.RoundByRound.extractMid">extractMid</a></span> <span class="fn">m</span> <span class="fn">stmtIn</span> <span class="fn">(<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.Transcript.concat">ProtocolSpec.Transcript.concat</a> <span class="fn">msg</span> <span class="fn">tr</span>)</span> <span class="fn">witMid</span>)</span></span></span></span></span></div><div class="structure_field_doc"><p>If the state function is true for a partial transcript extended with a prover message, then
the state function is also true for the original partial transcript with the extracted
intermediate witness</p></div></li><li id="Verifier.KnowledgeStateFunction.toFun_full" class="structure_field"><div class="structure_field_info">toFun_full<span class="decl_args">
<span class="fn">(<span class="fn">stmtIn</span> : <span class="fn">StmtIn</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">tr</span> : <span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.FullTranscript">FullTranscript</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">witOut</span> : <span class="fn">WitOut</span>)</span></span>
 : <span class="fn"><a href="../../.././VCVio/OracleComp/DistSemantics/EvalDist.html#OracleComp.probEvent">[</a><span class="fn">fun (<span class="fn">stmtOut</span> : <span class="fn">StmtOut</span>) =&gt; <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">stmtOut</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">witOut</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a> <a href="../../.././Init/Prelude.html#Membership.mem">∈</a> <span class="fn">relOut</span></span><a href="../../.././VCVio/OracleComp/DistSemantics/EvalDist.html#OracleComp.probEvent">|</a><span class="fn">do
      let <span class="fn">__do_lift</span> ← <span class="fn">init</span>
      <span class="fn"><span class="fn"><span class="fn">(<a href="../../.././VCVio/OracleComp/SimSemantics/SimulateQ.html#OracleComp.simulateQ">OracleComp.simulateQ</a> <span class="fn">impl</span> <span class="fn">(<a href="../../.././ArkLib/OracleReduction/Execution.html#Verifier.run">run</a> <span class="fn">stmtIn</span> <span class="fn">tr</span> <span class="fn">verifier</span>)</span>)</span>.<a href="../../.././Init/Control/State.html#StateT.run'">run'</a></span> <span class="fn">__do_lift</span></span></span><a href="../../.././VCVio/OracleComp/DistSemantics/EvalDist.html#OracleComp.probEvent">]</a> <a href="../../.././Init/Prelude.html#GT.gt">&gt;</a>     <span class="fn">0</span> →
  <span class="fn"><span class="fn"><span class="fn">self</span>.<a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.KnowledgeStateFunction.toFun">toFun</a></span> <span class="fn">(<a href="../../.././Init/Data/Fin/Basic.html#Fin.last">Fin.last</a> <span class="fn">n</span>)</span> <span class="fn">stmtIn</span> <span class="fn">tr</span> <span class="fn">(<span class="fn"><span class="fn">extractor</span>.<a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Extractor.RoundByRound.extractOut">extractOut</a></span> <span class="fn">stmtIn</span> <span class="fn">tr</span> <span class="fn">witOut</span>)</span></span></span></div><div class="structure_field_doc"><p>If the verifier can output a statement <code>stmtOut</code> that is in the output relation with some
output witness <code>witOut</code>, then the state function is true for the full transcript and the
extracted last middle witness.</p></div></li></ul><details id="instances-for-list-Verifier.KnowledgeStateFunction" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Verifier.KnowledgeStateFunction.toStateFunction"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/Security/RoundByRound.lean#L157-L190">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.KnowledgeStateFunction.toStateFunction"><span class="name">Verifier</span>.<span class="name">KnowledgeStateFunction</span>.<span class="name">toStateFunction</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">StmtIn </span><span class="fn">WitIn </span><span class="fn">StmtOut </span><span class="fn">WitOut</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">σ</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">init</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a> <span class="fn">σ</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">impl</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/SimSemantics/SimulateQ.html#QueryImpl">QueryImpl</a> <span class="fn">oSpec</span> <span class="fn">(<a href="../../.././Init/Control/State.html#StateT">StateT</a> <span class="fn">σ</span> <a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a>)</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">relIn</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<span class="fn">StmtIn</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">WitIn</span>)</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">relOut</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<span class="fn">StmtOut</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">WitOut</span>)</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">verifier</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#Verifier">Verifier</a> <span class="fn">oSpec</span> <span class="fn">StmtIn</span> <span class="fn">StmtOut</span> <span class="fn">pSpec</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">WitMid</span> : <span class="fn"><span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span> → <a href="../../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">extractor</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Extractor.RoundByRound">Extractor.RoundByRound</a> <span class="fn">oSpec</span> <span class="fn">StmtIn</span> <span class="fn">WitIn</span> <span class="fn">WitOut</span> <span class="fn">pSpec</span> <span class="fn">WitMid</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">kSF</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.KnowledgeStateFunction">KnowledgeStateFunction</a> <span class="fn">init</span> <span class="fn">impl</span> <span class="fn">relIn</span> <span class="fn">relOut</span> <span class="fn">verifier</span> <span class="fn">extractor</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.StateFunction">StateFunction</a> <span class="fn">init</span> <span class="fn">impl</span> <span class="fn"><span class="fn">relIn</span>.<a href="../../.././ArkLib/OracleReduction/Prelude.html#Set.language">language</a></span> <span class="fn"><span class="fn">relOut</span>.<a href="../../.././ArkLib/OracleReduction/Prelude.html#Set.language">language</a></span> <span class="fn">verifier</span></span></div></div><p>A knowledge state function gives rise to a state function via quantifying over the witness</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Verifier.KnowledgeStateFunction.toStateFunction" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Verifier.KnowledgeStateFunctionOneShot"><div class="structure"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/Security/RoundByRound.lean#L192-L212">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.KnowledgeStateFunctionOneShot"><span class="name">Verifier</span>.<span class="name">KnowledgeStateFunctionOneShot</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">StmtIn </span><span class="fn">StmtOut</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">σ</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">init</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a> <span class="fn">σ</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">impl</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/SimSemantics/SimulateQ.html#QueryImpl">QueryImpl</a> <span class="fn">oSpec</span> <span class="fn">(<a href="../../.././Init/Control/State.html#StateT">StateT</a> <span class="fn">σ</span> <a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">langIn</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <span class="fn">StmtIn</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">langOut</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <span class="fn">StmtOut</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">verifier</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#Verifier">Verifier</a> <span class="fn">oSpec</span> <span class="fn">StmtIn</span> <span class="fn">StmtOut</span> <span class="fn">pSpec</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p>A (deterministic) knowledge state function for a verifier, with respect to input language
<code>langIn</code> and output language <code>langOut</code>. This is used to define one-shot round-by-round knowledge
soundness. Note the different condition for the empty transcript: <code><a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.StateFunction.toFun">toFun</a> 0</code> is supposed to be
always zero.</p><ul class="structure_fields" id="Verifier.KnowledgeStateFunctionOneShot.mk"><li id="Verifier.KnowledgeStateFunctionOneShot.toFun" class="structure_field"><div class="structure_field_info">toFun<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span>)</span></span>
 : <span class="fn"><span class="fn">StmtIn</span> → <span class="fn"><span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.Transcript">ProtocolSpec.Transcript</a> <span class="fn">m</span> <span class="fn">pSpec</span></span> → <a href="../../.././foundational_types.html">Prop</a></span></span></div></li><li id="Verifier.KnowledgeStateFunctionOneShot.toFun_empty" class="structure_field"><div class="structure_field_info">toFun_empty<span class="decl_args">
<span class="fn">(<span class="fn">stmtIn</span> : <span class="fn">StmtIn</span>)</span></span>
 : <a href="../../.././Init/Prelude.html#Not">¬</a><span class="fn"><span class="fn"><span class="fn">self</span>.<a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.KnowledgeStateFunctionOneShot.toFun">toFun</a></span> <span class="fn">0</span> <span class="fn">stmtIn</span> <a href="../../.././Init/Prelude.html#Inhabited.default">default</a></span></div><div class="structure_field_doc"><p>For all input statement not in the language, the state function is false for the empty
transcript</p></div></li><li id="Verifier.KnowledgeStateFunctionOneShot.toFun_next" class="structure_field"><div class="structure_field_info">toFun_next<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">n</span></span>)</span></span>
 : <span class="fn"><span class="fn"><span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.dir">dir</a></span> <span class="fn">m</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././ArkLib/OracleReduction/Prelude.html#Direction.P_to_V">Direction.P_to_V</a> →
  <span class="fn">∀ (<span class="fn">stmt</span> : <span class="fn">StmtIn</span>) (<span class="fn">tr</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.Transcript">ProtocolSpec.Transcript</a> <span class="fn"><span class="fn">m</span>.<a href="../../.././Init/Data/Fin/Basic.html#Fin.castSucc">castSucc</a></span> <span class="fn">pSpec</span></span>) (<span class="fn">msg</span> : <span class="fn"><span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.Type">Type</a></span> <span class="fn">m</span></span>),
    <span class="fn"><a href="../../.././Init/Prelude.html#Not">¬</a><span class="fn"><span class="fn"><span class="fn">self</span>.<a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.KnowledgeStateFunctionOneShot.toFun">toFun</a></span> <span class="fn"><span class="fn">m</span>.<a href="../../.././Init/Data/Fin/Basic.html#Fin.castSucc">castSucc</a></span> <span class="fn">stmt</span> <span class="fn">tr</span></span> → <a href="../../.././Init/Prelude.html#Not">¬</a><span class="fn"><span class="fn"><span class="fn">self</span>.<a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.KnowledgeStateFunctionOneShot.toFun">toFun</a></span> <span class="fn"><span class="fn">m</span>.<a href="../../.././Init/Data/Fin/Basic.html#Fin.succ">succ</a></span> <span class="fn">stmt</span> <span class="fn">(<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.Transcript.concat">ProtocolSpec.Transcript.concat</a> <span class="fn">msg</span> <span class="fn">tr</span>)</span></span></span></span></span></div><div class="structure_field_doc"><p>If the state function is false for a partial transcript, and the next message is from the
prover to the verifier, then the state function is also false for the new partial transcript
regardless of the message</p></div></li><li id="Verifier.KnowledgeStateFunctionOneShot.toFun_full" class="structure_field"><div class="structure_field_info">toFun_full<span class="decl_args">
<span class="fn">(<span class="fn">stmt</span> : <span class="fn">StmtIn</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">tr</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.Transcript">ProtocolSpec.Transcript</a> <span class="fn">(<a href="../../.././Init/Data/Fin/Basic.html#Fin.last">Fin.last</a> <span class="fn">n</span>)</span> <span class="fn">pSpec</span></span>)</span></span>
 : <span class="fn"><a href="../../.././Init/Prelude.html#Not">¬</a><span class="fn"><span class="fn"><span class="fn">self</span>.<a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.KnowledgeStateFunctionOneShot.toFun">toFun</a></span> <span class="fn">(<a href="../../.././Init/Data/Fin/Basic.html#Fin.last">Fin.last</a> <span class="fn">n</span>)</span> <span class="fn">stmt</span> <span class="fn">tr</span></span> →
  <a href="../../.././VCVio/OracleComp/DistSemantics/EvalDist.html#OracleComp.probEvent">[</a><span class="fn">fun (<span class="fn">x</span> : <span class="fn">StmtOut</span>) =&gt; <span class="fn">x</span> <a href="../../.././Init/Prelude.html#Membership.mem">∈</a> <span class="fn">langOut</span></span><a href="../../.././VCVio/OracleComp/DistSemantics/EvalDist.html#OracleComp.probEvent">|</a><span class="fn">do
      let <span class="fn">__do_lift</span> ← <span class="fn">init</span>
      <span class="fn"><span class="fn"><span class="fn">(<a href="../../.././VCVio/OracleComp/SimSemantics/SimulateQ.html#OracleComp.simulateQ">OracleComp.simulateQ</a> <span class="fn">impl</span> <span class="fn">(<a href="../../.././ArkLib/OracleReduction/Execution.html#Verifier.run">run</a> <span class="fn">stmt</span> <span class="fn">tr</span> <span class="fn">verifier</span>)</span>)</span>.<a href="../../.././Init/Control/State.html#StateT.run'">run'</a></span> <span class="fn">__do_lift</span></span></span><a href="../../.././VCVio/OracleComp/DistSemantics/EvalDist.html#OracleComp.probEvent">]</a> <a href="../../.././Init/Prelude.html#Eq">=</a>     <span class="fn">0</span></span></div><div class="structure_field_doc"><p>If the state function is false for a full transcript, the verifier will not output a statement
in the output language</p></div></li></ul><details id="instances-for-list-Verifier.KnowledgeStateFunctionOneShot" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Verifier.KnowledgeStateFunctionOneShot.toKnowledgeStateFunction"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/Security/RoundByRound.lean#L214-L257">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.KnowledgeStateFunctionOneShot.toKnowledgeStateFunction"><span class="name">Verifier</span>.<span class="name">KnowledgeStateFunctionOneShot</span>.<span class="name">toKnowledgeStateFunction</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">StmtIn </span><span class="fn">WitIn </span><span class="fn">StmtOut </span><span class="fn">WitOut</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">(<span class="fn">i</span> : <span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.ChallengeIdx">ChallengeIdx</a></span>) → <span class="fn"><a href="../../.././VCVio/OracleComp/Constructions/UniformSelect.html#OracleComp.SelectableType">OracleComp.SelectableType</a> <span class="fn">(<span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.Challenge">Challenge</a></span> <span class="fn">i</span>)</span></span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">σ</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">init</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a> <span class="fn">σ</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">impl</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/SimSemantics/SimulateQ.html#QueryImpl">QueryImpl</a> <span class="fn">oSpec</span> <span class="fn">(<a href="../../.././Init/Control/State.html#StateT">StateT</a> <span class="fn">σ</span> <a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a>)</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">relIn</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<span class="fn">StmtIn</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">WitIn</span>)</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">relOut</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<span class="fn">StmtOut</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">WitOut</span>)</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">verifier</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#Verifier">Verifier</a> <span class="fn">oSpec</span> <span class="fn">StmtIn</span> <span class="fn">StmtOut</span> <span class="fn">pSpec</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">stF</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.KnowledgeStateFunctionOneShot">KnowledgeStateFunctionOneShot</a> <span class="fn">init</span> <span class="fn">impl</span> <span class="fn"><span class="fn">relIn</span>.<a href="../../.././ArkLib/OracleReduction/Prelude.html#Set.language">language</a></span> <span class="fn"><span class="fn">relOut</span>.<a href="../../.././ArkLib/OracleReduction/Prelude.html#Set.language">language</a></span> <span class="fn">verifier</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">oneShotE</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Extractor.RoundByRoundOneShot">Extractor.RoundByRoundOneShot</a> <span class="fn">oSpec</span> <span class="fn">StmtIn</span> <span class="fn">WitIn</span> <span class="fn">pSpec</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.KnowledgeStateFunction">KnowledgeStateFunction</a> <span class="fn">init</span> <span class="fn">impl</span> <span class="fn">relIn</span> <span class="fn">relOut</span> <span class="fn">verifier</span> <span class="fn"><span class="fn">oneShotE</span>.<a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Extractor.RoundByRoundOneShot.toRoundByRound">toRoundByRound</a></span></span></div></div><p>A state function &amp; a one-shot round-by-round extractor gives rise to a knowledge state function
where the intermediate witness types are all equal to the input witness type</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Verifier.KnowledgeStateFunctionOneShot.toKnowledgeStateFunction" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Verifier.instCoeFunStateFunctionForallForallForallTranscriptProp"><div class="instance"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/Security/RoundByRound.lean#L259-L263">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.instCoeFunStateFunctionForallForallForallTranscriptProp"><span class="name">Verifier</span>.<span class="name">instCoeFunStateFunctionForallForallForallTranscriptProp</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">StmtIn </span><span class="fn">StmtOut</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">σ</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">init</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a> <span class="fn">σ</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">impl</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/SimSemantics/SimulateQ.html#QueryImpl">QueryImpl</a> <span class="fn">oSpec</span> <span class="fn">(<a href="../../.././Init/Control/State.html#StateT">StateT</a> <span class="fn">σ</span> <a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a>)</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">langIn</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <span class="fn">StmtIn</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">langOut</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <span class="fn">StmtOut</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">verifier</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#Verifier">Verifier</a> <span class="fn">oSpec</span> <span class="fn">StmtIn</span> <span class="fn">StmtOut</span> <span class="fn">pSpec</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Coe.html#CoeFun">CoeFun</a> <span class="fn">(<a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.StateFunction">StateFunction</a> <span class="fn">init</span> <span class="fn">impl</span> <span class="fn">langIn</span> <span class="fn">langOut</span> <span class="fn">verifier</span>)</span> <span class="fn">fun (<span class="fn">x</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.StateFunction">StateFunction</a> <span class="fn">init</span> <span class="fn">impl</span> <span class="fn">langIn</span> <span class="fn">langOut</span> <span class="fn">verifier</span></span>) =&gt;
  <span class="fn">(<span class="fn">m</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span>) → <span class="fn"><span class="fn">StmtIn</span> → <span class="fn"><span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.Transcript">ProtocolSpec.Transcript</a> <span class="fn">m</span> <span class="fn">pSpec</span></span> → <a href="../../.././foundational_types.html">Prop</a></span></span></span></span></span></div></div><p>Coercion to the underlying function of a state function</p><details><summary>Equations</summary><ul class="equations"></ul></details></div></div><div class="decl" id="Verifier.instCoeFunKnowledgeStateFunctionOneShotForallForallForallTranscriptProp"><div class="instance"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/Security/RoundByRound.lean#L265-L268">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.instCoeFunKnowledgeStateFunctionOneShotForallForallForallTranscriptProp"><span class="name">Verifier</span>.<span class="name">instCoeFunKnowledgeStateFunctionOneShotForallForallForallTranscriptProp</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">StmtIn </span><span class="fn">StmtOut</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">σ</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">init</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a> <span class="fn">σ</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">impl</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/SimSemantics/SimulateQ.html#QueryImpl">QueryImpl</a> <span class="fn">oSpec</span> <span class="fn">(<a href="../../.././Init/Control/State.html#StateT">StateT</a> <span class="fn">σ</span> <a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a>)</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">langIn</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <span class="fn">StmtIn</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">langOut</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <span class="fn">StmtOut</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">verifier</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#Verifier">Verifier</a> <span class="fn">oSpec</span> <span class="fn">StmtIn</span> <span class="fn">StmtOut</span> <span class="fn">pSpec</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Coe.html#CoeFun">CoeFun</a> <span class="fn">(<a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.KnowledgeStateFunctionOneShot">KnowledgeStateFunctionOneShot</a> <span class="fn">init</span> <span class="fn">impl</span> <span class="fn">langIn</span> <span class="fn">langOut</span> <span class="fn">verifier</span>)</span>
  <span class="fn">fun (<span class="fn">x</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.KnowledgeStateFunctionOneShot">KnowledgeStateFunctionOneShot</a> <span class="fn">init</span> <span class="fn">impl</span> <span class="fn">langIn</span> <span class="fn">langOut</span> <span class="fn">verifier</span></span>) =&gt;
  <span class="fn">(<span class="fn">m</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span>) → <span class="fn"><span class="fn">StmtIn</span> → <span class="fn"><span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.Transcript">ProtocolSpec.Transcript</a> <span class="fn">m</span> <span class="fn">pSpec</span></span> → <a href="../../.././foundational_types.html">Prop</a></span></span></span></span></span></div></div><details><summary>Equations</summary><ul class="equations"></ul></details></div></div><div class="decl" id="Verifier.instCoeFunKnowledgeStateFunctionForallForallForallTranscriptForallProp"><div class="instance"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/Security/RoundByRound.lean#L270-L275">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.instCoeFunKnowledgeStateFunctionForallForallForallTranscriptForallProp"><span class="name">Verifier</span>.<span class="name">instCoeFunKnowledgeStateFunctionForallForallForallTranscriptForallProp</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">StmtIn </span><span class="fn">WitIn </span><span class="fn">StmtOut </span><span class="fn">WitOut</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">σ</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">init</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a> <span class="fn">σ</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">impl</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/SimSemantics/SimulateQ.html#QueryImpl">QueryImpl</a> <span class="fn">oSpec</span> <span class="fn">(<a href="../../.././Init/Control/State.html#StateT">StateT</a> <span class="fn">σ</span> <a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a>)</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">relIn</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<span class="fn">StmtIn</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">WitIn</span>)</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">relOut</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<span class="fn">StmtOut</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">WitOut</span>)</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">verifier</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#Verifier">Verifier</a> <span class="fn">oSpec</span> <span class="fn">StmtIn</span> <span class="fn">StmtOut</span> <span class="fn">pSpec</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">WitMid</span> : <span class="fn"><span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span> → <a href="../../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">extractor</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Extractor.RoundByRound">Extractor.RoundByRound</a> <span class="fn">oSpec</span> <span class="fn">StmtIn</span> <span class="fn">WitIn</span> <span class="fn">WitOut</span> <span class="fn">pSpec</span> <span class="fn">WitMid</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Coe.html#CoeFun">CoeFun</a> <span class="fn">(<a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.KnowledgeStateFunction">KnowledgeStateFunction</a> <span class="fn">init</span> <span class="fn">impl</span> <span class="fn">relIn</span> <span class="fn">relOut</span> <span class="fn">verifier</span> <span class="fn">extractor</span>)</span>
  <span class="fn">fun (<span class="fn">x</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.KnowledgeStateFunction">KnowledgeStateFunction</a> <span class="fn">init</span> <span class="fn">impl</span> <span class="fn">relIn</span> <span class="fn">relOut</span> <span class="fn">verifier</span> <span class="fn">extractor</span></span>) =&gt;
  <span class="fn">(<span class="fn">m</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span>) → <span class="fn"><span class="fn">StmtIn</span> → <span class="fn"><span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.Transcript">ProtocolSpec.Transcript</a> <span class="fn">m</span> <span class="fn">pSpec</span></span> → <span class="fn"><span class="fn"><span class="fn">WitMid</span> <span class="fn">m</span></span> → <a href="../../.././foundational_types.html">Prop</a></span></span></span></span></span></span></div></div><details><summary>Equations</summary><ul class="equations"></ul></details></div></div><div class="decl" id="Verifier.rbrSoundness"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/Security/RoundByRound.lean#L277-L312">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.rbrSoundness"><span class="name">Verifier</span>.<span class="name">rbrSoundness</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">StmtIn </span><span class="fn">StmtOut</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">(<span class="fn">i</span> : <span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.ChallengeIdx">ChallengeIdx</a></span>) → <span class="fn"><a href="../../.././VCVio/OracleComp/Constructions/UniformSelect.html#OracleComp.SelectableType">OracleComp.SelectableType</a> <span class="fn">(<span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.Challenge">Challenge</a></span> <span class="fn">i</span>)</span></span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">σ</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">init</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a> <span class="fn">σ</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">impl</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/SimSemantics/SimulateQ.html#QueryImpl">QueryImpl</a> <span class="fn">oSpec</span> <span class="fn">(<a href="../../.././Init/Control/State.html#StateT">StateT</a> <span class="fn">σ</span> <a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">langIn</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <span class="fn">StmtIn</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">langOut</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <span class="fn">StmtOut</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">verifier</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#Verifier">Verifier</a> <span class="fn">oSpec</span> <span class="fn">StmtIn</span> <span class="fn">StmtOut</span> <span class="fn">pSpec</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">rbrSoundnessError</span> : <span class="fn"><span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.ChallengeIdx">ChallengeIdx</a></span> → <a href="../../.././Mathlib/Data/NNReal/Defs.html#NNReal">NNReal</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Prop</a></div></div><p>A protocol with <code>verifier</code> satisfies round-by-round soundness with respect to input language
<code>langIn</code>, output language <code>langOut</code>, and error <code><a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.IsRBRSound.rbrSoundnessError">rbrSoundnessError</a></code> if:</p><ul>
<li>there exists a state function <code>stateFunction</code> for the verifier and the input/output languages,
such that</li>
<li>for all initial statement <code>stmtIn</code> not in <code>langIn</code>,</li>
<li>for all initial witness <code>witIn</code>,</li>
<li>for all provers <code>prover</code>,</li>
<li>for all <code>i : <a href="../../.././Init/Prelude.html#Fin">Fin</a> n</code> that is a round corresponding to a challenge,</li>
</ul><p>the probability that:</p><ul>
<li>the state function is false for the partial transcript output by the prover</li>
<li>the state function is true for the partial transcript appended by next challenge (chosen
randomly)</li>
</ul><p>is at most <code><a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.IsRBRSound.rbrSoundnessError">rbrSoundnessError</a> i</code>.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Verifier.rbrSoundness" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Verifier.IsRBRSound"><div class="class"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/Security/RoundByRound.lean#L314-L321">source</a></div><div class="decl_header"><span class="decl_kind">class</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.IsRBRSound"><span class="name">Verifier</span>.<span class="name">IsRBRSound</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">StmtIn </span><span class="fn">StmtOut</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">(<span class="fn">i</span> : <span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.ChallengeIdx">ChallengeIdx</a></span>) → <span class="fn"><a href="../../.././VCVio/OracleComp/Constructions/UniformSelect.html#OracleComp.SelectableType">OracleComp.SelectableType</a> <span class="fn">(<span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.Challenge">Challenge</a></span> <span class="fn">i</span>)</span></span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">σ</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">init</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a> <span class="fn">σ</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">impl</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/SimSemantics/SimulateQ.html#QueryImpl">QueryImpl</a> <span class="fn">oSpec</span> <span class="fn">(<a href="../../.././Init/Control/State.html#StateT">StateT</a> <span class="fn">σ</span> <a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">langIn</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <span class="fn">StmtIn</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">langOut</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <span class="fn">StmtOut</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">verifier</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#Verifier">Verifier</a> <span class="fn">oSpec</span> <span class="fn">StmtIn</span> <span class="fn">StmtOut</span> <span class="fn">pSpec</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p>Type class for round-by-round soundness for a verifier</p><p>Note that we put the error as a field in the type class to make it easier for synthesization
(often the rbr error will need additional simplification / proof)</p><ul class="structure_fields" id="Verifier.IsRBRSound.mk"><li id="Verifier.IsRBRSound.rbrSoundnessError" class="structure_field"><div class="structure_field_info">rbrSoundnessError : <span class="fn"><span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.ChallengeIdx">ChallengeIdx</a></span> → <a href="../../.././Mathlib/Data/NNReal/Defs.html#NNReal">NNReal</a></span></div></li><li id="Verifier.IsRBRSound.is_rbr_sound" class="structure_field"><div class="structure_field_info">is_rbr_sound : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.rbrSoundness">rbrSoundness</a> <span class="fn">init</span> <span class="fn">impl</span> <span class="fn">langIn</span> <span class="fn">langOut</span> <span class="fn">verifier</span> <span class="fn">(<a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.IsRBRSound.rbrSoundnessError">rbrSoundnessError</a> <span class="fn">init</span> <span class="fn">impl</span> <span class="fn">langIn</span> <span class="fn">langOut</span> <span class="fn">verifier</span>)</span></span></div></li></ul><details class="instances"><summary>Instances</summary><ul id="instances-list-Verifier.IsRBRSound" class="instances-list"></ul></details></div></div><div class="decl" id="Verifier.rbrKnowledgeSoundnessOneShot"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/Security/RoundByRound.lean#L323-L360">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.rbrKnowledgeSoundnessOneShot"><span class="name">Verifier</span>.<span class="name">rbrKnowledgeSoundnessOneShot</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">StmtIn </span><span class="fn">WitIn </span><span class="fn">StmtOut </span><span class="fn">WitOut</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">(<span class="fn">i</span> : <span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.ChallengeIdx">ChallengeIdx</a></span>) → <span class="fn"><a href="../../.././VCVio/OracleComp/Constructions/UniformSelect.html#OracleComp.SelectableType">OracleComp.SelectableType</a> <span class="fn">(<span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.Challenge">Challenge</a></span> <span class="fn">i</span>)</span></span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">σ</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">init</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a> <span class="fn">σ</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">impl</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/SimSemantics/SimulateQ.html#QueryImpl">QueryImpl</a> <span class="fn">oSpec</span> <span class="fn">(<a href="../../.././Init/Control/State.html#StateT">StateT</a> <span class="fn">σ</span> <a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">relIn</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<span class="fn">StmtIn</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">WitIn</span>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">relOut</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<span class="fn">StmtOut</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">WitOut</span>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">verifier</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#Verifier">Verifier</a> <span class="fn">oSpec</span> <span class="fn">StmtIn</span> <span class="fn">StmtOut</span> <span class="fn">pSpec</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">rbrKnowledgeError</span> : <span class="fn"><span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.ChallengeIdx">ChallengeIdx</a></span> → <a href="../../.././Mathlib/Data/NNReal/Defs.html#NNReal">NNReal</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Prop</a></div></div><p>A protocol with <code>verifier</code> satisfies round-by-round knowledge soundness with respect to input
relation <code>relIn</code>, output relation <code>relOut</code>, and error <code><a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.IsRBRKnowledgeSound.rbrKnowledgeError">rbrKnowledgeError</a></code> if:</p><ul>
<li>there exists a state function <code>stateFunction</code> for the verifier and the languages of the
input/output relations, such that</li>
<li>for all initial statement <code>stmtIn</code> not in the language of <code>relIn</code>,</li>
<li>for all initial witness <code>witIn</code>,</li>
<li>for all provers <code>prover</code>,</li>
<li>for all <code>i : <a href="../../.././Init/Prelude.html#Fin">Fin</a> n</code> that is a round corresponding to a challenge,</li>
</ul><p>the probability that:</p><ul>
<li>the state function is false for the partial transcript output by the prover</li>
<li>the state function is true for the partial transcript appended by next challenge (chosen
randomly)</li>
</ul><p>is at most <code><a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.IsRBRKnowledgeSound.rbrKnowledgeError">rbrKnowledgeError</a> i</code>.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Verifier.rbrKnowledgeSoundnessOneShot" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Verifier.rbrKnowledgeSoundness"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/Security/RoundByRound.lean#L363-L384">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.rbrKnowledgeSoundness"><span class="name">Verifier</span>.<span class="name">rbrKnowledgeSoundness</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">StmtIn </span><span class="fn">WitIn </span><span class="fn">StmtOut </span><span class="fn">WitOut</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">(<span class="fn">i</span> : <span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.ChallengeIdx">ChallengeIdx</a></span>) → <span class="fn"><a href="../../.././VCVio/OracleComp/Constructions/UniformSelect.html#OracleComp.SelectableType">OracleComp.SelectableType</a> <span class="fn">(<span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.Challenge">Challenge</a></span> <span class="fn">i</span>)</span></span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">σ</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">init</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a> <span class="fn">σ</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">impl</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/SimSemantics/SimulateQ.html#QueryImpl">QueryImpl</a> <span class="fn">oSpec</span> <span class="fn">(<a href="../../.././Init/Control/State.html#StateT">StateT</a> <span class="fn">σ</span> <a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">relIn</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<span class="fn">StmtIn</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">WitIn</span>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">relOut</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<span class="fn">StmtOut</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">WitOut</span>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">verifier</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#Verifier">Verifier</a> <span class="fn">oSpec</span> <span class="fn">StmtIn</span> <span class="fn">StmtOut</span> <span class="fn">pSpec</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">rbrKnowledgeError</span> : <span class="fn"><span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.ChallengeIdx">ChallengeIdx</a></span> → <a href="../../.././Mathlib/Data/NNReal/Defs.html#NNReal">NNReal</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Prop</a></div></div><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Verifier.rbrKnowledgeSoundness" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Verifier.IsRBRKnowledgeSound"><div class="class"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/Security/RoundByRound.lean#L386-L394">source</a></div><div class="decl_header"><span class="decl_kind">class</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.IsRBRKnowledgeSound"><span class="name">Verifier</span>.<span class="name">IsRBRKnowledgeSound</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">StmtIn </span><span class="fn">WitIn </span><span class="fn">StmtOut </span><span class="fn">WitOut</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">(<span class="fn">i</span> : <span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.ChallengeIdx">ChallengeIdx</a></span>) → <span class="fn"><a href="../../.././VCVio/OracleComp/Constructions/UniformSelect.html#OracleComp.SelectableType">OracleComp.SelectableType</a> <span class="fn">(<span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.Challenge">Challenge</a></span> <span class="fn">i</span>)</span></span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">σ</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">init</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a> <span class="fn">σ</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">impl</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/SimSemantics/SimulateQ.html#QueryImpl">QueryImpl</a> <span class="fn">oSpec</span> <span class="fn">(<a href="../../.././Init/Control/State.html#StateT">StateT</a> <span class="fn">σ</span> <a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">relIn</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<span class="fn">StmtIn</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">WitIn</span>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">relOut</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<span class="fn">StmtOut</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">WitOut</span>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">verifier</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#Verifier">Verifier</a> <span class="fn">oSpec</span> <span class="fn">StmtIn</span> <span class="fn">StmtOut</span> <span class="fn">pSpec</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p>Type class for round-by-round knowledge soundness for a verifier</p><p>Note that we put the error as a field in the type class to make it easier for synthesization
(often the rbr error will need additional simplification / proof)</p><ul class="structure_fields" id="Verifier.IsRBRKnowledgeSound.mk"><li id="Verifier.IsRBRKnowledgeSound.rbrKnowledgeError" class="structure_field"><div class="structure_field_info">rbrKnowledgeError : <span class="fn"><span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.ChallengeIdx">ChallengeIdx</a></span> → <a href="../../.././Mathlib/Data/NNReal/Defs.html#NNReal">NNReal</a></span></div></li><li id="Verifier.IsRBRKnowledgeSound.is_rbr_knowledge_sound" class="structure_field"><div class="structure_field_info">is_rbr_knowledge_sound : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.rbrKnowledgeSoundness">rbrKnowledgeSoundness</a> <span class="fn">init</span> <span class="fn">impl</span> <span class="fn">relIn</span> <span class="fn">relOut</span> <span class="fn">verifier</span> <span class="fn">(<a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.IsRBRKnowledgeSound.rbrKnowledgeError">rbrKnowledgeError</a> <span class="fn">init</span> <span class="fn">impl</span> <span class="fn">relIn</span> <span class="fn">relOut</span> <span class="fn">verifier</span>)</span></span></div></li></ul><details class="instances"><summary>Instances</summary><ul id="instances-list-Verifier.IsRBRKnowledgeSound" class="instances-list"></ul></details></div></div><div class="decl" id="Verifier.rbrKnowledgeSoundnessOneShot_implies_rbrKnowledgeSoundness"><div class="theorem"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/Security/RoundByRound.lean#L396-L422">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.rbrKnowledgeSoundnessOneShot_implies_rbrKnowledgeSoundness"><span class="name">Verifier</span>.<span class="name">rbrKnowledgeSoundnessOneShot_implies_rbrKnowledgeSoundness</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">StmtIn </span><span class="fn">WitIn </span><span class="fn">StmtOut </span><span class="fn">WitOut</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">(<span class="fn">i</span> : <span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.ChallengeIdx">ChallengeIdx</a></span>) → <span class="fn"><a href="../../.././VCVio/OracleComp/Constructions/UniformSelect.html#OracleComp.SelectableType">OracleComp.SelectableType</a> <span class="fn">(<span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.Challenge">Challenge</a></span> <span class="fn">i</span>)</span></span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">σ</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">init</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a> <span class="fn">σ</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">impl</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/SimSemantics/SimulateQ.html#QueryImpl">QueryImpl</a> <span class="fn">oSpec</span> <span class="fn">(<a href="../../.././Init/Control/State.html#StateT">StateT</a> <span class="fn">σ</span> <a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a>)</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">relIn</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<span class="fn">StmtIn</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">WitIn</span>)</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">relOut</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<span class="fn">StmtOut</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">WitOut</span>)</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">verifier</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#Verifier">Verifier</a> <span class="fn">oSpec</span> <span class="fn">StmtIn</span> <span class="fn">StmtOut</span> <span class="fn">pSpec</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">rbrKnowledgeError</span> : <span class="fn"><span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.ChallengeIdx">ChallengeIdx</a></span> → <a href="../../.././Mathlib/Data/NNReal/Defs.html#NNReal">NNReal</a></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hInit</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/Traversal.html#OracleComp.neverFails">OracleComp.neverFails</a> <span class="fn">init</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.rbrKnowledgeSoundnessOneShot">rbrKnowledgeSoundnessOneShot</a> <span class="fn">init</span> <span class="fn">impl</span> <span class="fn">relIn</span> <span class="fn">relOut</span> <span class="fn">verifier</span> <span class="fn">rbrKnowledgeError</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.rbrKnowledgeSoundness">rbrKnowledgeSoundness</a> <span class="fn">init</span> <span class="fn">impl</span> <span class="fn">relIn</span> <span class="fn">relOut</span> <span class="fn">verifier</span> <span class="fn">rbrKnowledgeError</span></span></div></div><p>Implication: one-shot rbr knowledge soundness implies general rbr knowledge soundness (with the
same error)</p></div></div><div class="decl" id="OracleVerifier.StateFunction"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/Security/RoundByRound.lean#L440-L445">source</a></div><div class="attributes">@[reducible]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#OracleVerifier.StateFunction"><span class="name">OracleVerifier</span>.<span class="name">StateFunction</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">StmtIn </span><span class="fn">StmtOut</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">σ</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">init</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a> <span class="fn">σ</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">impl</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/SimSemantics/SimulateQ.html#QueryImpl">QueryImpl</a> <span class="fn">oSpec</span> <span class="fn">(<a href="../../.././Init/Control/State.html#StateT">StateT</a> <span class="fn">σ</span> <a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a>)</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ιₛᵢ</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">OStmtIn</span> : <span class="fn"><span class="fn">ιₛᵢ</span> → <a href="../../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ιₛₒ</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">OStmtOut</span> : <span class="fn"><span class="fn">ιₛₒ</span> → <a href="../../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">Oₛᵢ</span> : <span class="fn">(<span class="fn">i</span> : <span class="fn">ιₛᵢ</span>) → <span class="fn"><a href="../../.././ArkLib/OracleReduction/OracleInterface.html#OracleInterface">OracleInterface</a> <span class="fn">(<span class="fn">OStmtIn</span> <span class="fn">i</span>)</span></span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">(<span class="fn">i</span> : <span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.MessageIdx">MessageIdx</a></span>) → <span class="fn"><a href="../../.././ArkLib/OracleReduction/OracleInterface.html#OracleInterface">OracleInterface</a> <span class="fn">(<span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.Message">Message</a></span> <span class="fn">i</span>)</span></span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">langIn</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<span class="fn">StmtIn</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">((<span class="fn">i</span> : <span class="fn">ιₛᵢ</span>) → <span class="fn"><span class="fn">OStmtIn</span> <span class="fn">i</span></span>)</span>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">langOut</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<span class="fn">StmtOut</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">((<span class="fn">i</span> : <span class="fn">ιₛₒ</span>) → <span class="fn"><span class="fn">OStmtOut</span> <span class="fn">i</span></span>)</span>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">verifier</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#OracleVerifier">OracleVerifier</a> <span class="fn">oSpec</span> <span class="fn">StmtIn</span> <span class="fn">OStmtIn</span> <span class="fn">StmtOut</span> <span class="fn">OStmtOut</span> <span class="fn">pSpec</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-OracleVerifier.StateFunction" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="OracleVerifier.KnowledgeStateFunction"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/Security/RoundByRound.lean#L447-L455">source</a></div><div class="attributes">@[reducible]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#OracleVerifier.KnowledgeStateFunction"><span class="name">OracleVerifier</span>.<span class="name">KnowledgeStateFunction</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">StmtIn </span><span class="fn">WitIn </span><span class="fn">StmtOut </span><span class="fn">WitOut</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">σ</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">init</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a> <span class="fn">σ</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">impl</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/SimSemantics/SimulateQ.html#QueryImpl">QueryImpl</a> <span class="fn">oSpec</span> <span class="fn">(<a href="../../.././Init/Control/State.html#StateT">StateT</a> <span class="fn">σ</span> <a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a>)</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ιₛᵢ</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">OStmtIn</span> : <span class="fn"><span class="fn">ιₛᵢ</span> → <a href="../../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ιₛₒ</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">OStmtOut</span> : <span class="fn"><span class="fn">ιₛₒ</span> → <a href="../../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">Oₛᵢ</span> : <span class="fn">(<span class="fn">i</span> : <span class="fn">ιₛᵢ</span>) → <span class="fn"><a href="../../.././ArkLib/OracleReduction/OracleInterface.html#OracleInterface">OracleInterface</a> <span class="fn">(<span class="fn">OStmtIn</span> <span class="fn">i</span>)</span></span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">(<span class="fn">i</span> : <span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.MessageIdx">MessageIdx</a></span>) → <span class="fn"><a href="../../.././ArkLib/OracleReduction/OracleInterface.html#OracleInterface">OracleInterface</a> <span class="fn">(<span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.Message">Message</a></span> <span class="fn">i</span>)</span></span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">relIn</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> ((<span class="fn">StmtIn</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">((<span class="fn">i</span> : <span class="fn">ιₛᵢ</span>) → <span class="fn"><span class="fn">OStmtIn</span> <span class="fn">i</span></span>)</span>) <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">WitIn</span>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">relOut</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> ((<span class="fn">StmtOut</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">((<span class="fn">i</span> : <span class="fn">ιₛₒ</span>) → <span class="fn"><span class="fn">OStmtOut</span> <span class="fn">i</span></span>)</span>) <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">WitOut</span>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">verifier</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#OracleVerifier">OracleVerifier</a> <span class="fn">oSpec</span> <span class="fn">StmtIn</span> <span class="fn">OStmtIn</span> <span class="fn">StmtOut</span> <span class="fn">OStmtOut</span> <span class="fn">pSpec</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">WitMid</span> : <span class="fn"><span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span> → <a href="../../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">extractor</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Extractor.RoundByRound">Extractor.RoundByRound</a> <span class="fn">oSpec</span> (<span class="fn">StmtIn</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">((<span class="fn">i</span> : <span class="fn">ιₛᵢ</span>) → <span class="fn"><span class="fn">OStmtIn</span> <span class="fn">i</span></span>)</span>) <span class="fn">WitIn</span> <span class="fn">WitOut</span> <span class="fn">pSpec</span> <span class="fn">WitMid</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-OracleVerifier.KnowledgeStateFunction" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="OracleVerifier.rbrSoundness"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/Security/RoundByRound.lean#L457-L463">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#OracleVerifier.rbrSoundness"><span class="name">OracleVerifier</span>.<span class="name">rbrSoundness</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">StmtIn </span><span class="fn">StmtOut</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">(<span class="fn">i</span> : <span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.ChallengeIdx">ChallengeIdx</a></span>) → <span class="fn"><a href="../../.././VCVio/OracleComp/Constructions/UniformSelect.html#OracleComp.SelectableType">OracleComp.SelectableType</a> <span class="fn">(<span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.Challenge">Challenge</a></span> <span class="fn">i</span>)</span></span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">σ</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">init</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a> <span class="fn">σ</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">impl</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/SimSemantics/SimulateQ.html#QueryImpl">QueryImpl</a> <span class="fn">oSpec</span> <span class="fn">(<a href="../../.././Init/Control/State.html#StateT">StateT</a> <span class="fn">σ</span> <a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a>)</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ιₛᵢ</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">OStmtIn</span> : <span class="fn"><span class="fn">ιₛᵢ</span> → <a href="../../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ιₛₒ</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">OStmtOut</span> : <span class="fn"><span class="fn">ιₛₒ</span> → <a href="../../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">Oₛᵢ</span> : <span class="fn">(<span class="fn">i</span> : <span class="fn">ιₛᵢ</span>) → <span class="fn"><a href="../../.././ArkLib/OracleReduction/OracleInterface.html#OracleInterface">OracleInterface</a> <span class="fn">(<span class="fn">OStmtIn</span> <span class="fn">i</span>)</span></span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">(<span class="fn">i</span> : <span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.MessageIdx">MessageIdx</a></span>) → <span class="fn"><a href="../../.././ArkLib/OracleReduction/OracleInterface.html#OracleInterface">OracleInterface</a> <span class="fn">(<span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.Message">Message</a></span> <span class="fn">i</span>)</span></span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">langIn</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<span class="fn">StmtIn</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">((<span class="fn">i</span> : <span class="fn">ιₛᵢ</span>) → <span class="fn"><span class="fn">OStmtIn</span> <span class="fn">i</span></span>)</span>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">langOut</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<span class="fn">StmtOut</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">((<span class="fn">i</span> : <span class="fn">ιₛₒ</span>) → <span class="fn"><span class="fn">OStmtOut</span> <span class="fn">i</span></span>)</span>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">verifier</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#OracleVerifier">OracleVerifier</a> <span class="fn">oSpec</span> <span class="fn">StmtIn</span> <span class="fn">OStmtIn</span> <span class="fn">StmtOut</span> <span class="fn">OStmtOut</span> <span class="fn">pSpec</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">rbrSoundnessError</span> : <span class="fn"><span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.ChallengeIdx">ChallengeIdx</a></span> → <a href="../../.././Mathlib/Data/NNReal/Defs.html#NNReal">NNReal</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Prop</a></div></div><p>Round-by-round soundness of an oracle reduction is the same as for non-oracle reductions.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-OracleVerifier.rbrSoundness" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="OracleVerifier.rbrKnowledgeSoundness"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/Security/RoundByRound.lean#L465-L472">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#OracleVerifier.rbrKnowledgeSoundness"><span class="name">OracleVerifier</span>.<span class="name">rbrKnowledgeSoundness</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">StmtIn </span><span class="fn">WitIn </span><span class="fn">StmtOut </span><span class="fn">WitOut</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">(<span class="fn">i</span> : <span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.ChallengeIdx">ChallengeIdx</a></span>) → <span class="fn"><a href="../../.././VCVio/OracleComp/Constructions/UniformSelect.html#OracleComp.SelectableType">OracleComp.SelectableType</a> <span class="fn">(<span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.Challenge">Challenge</a></span> <span class="fn">i</span>)</span></span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">σ</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">init</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a> <span class="fn">σ</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">impl</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/SimSemantics/SimulateQ.html#QueryImpl">QueryImpl</a> <span class="fn">oSpec</span> <span class="fn">(<a href="../../.././Init/Control/State.html#StateT">StateT</a> <span class="fn">σ</span> <a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a>)</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ιₛᵢ</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">OStmtIn</span> : <span class="fn"><span class="fn">ιₛᵢ</span> → <a href="../../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ιₛₒ</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">OStmtOut</span> : <span class="fn"><span class="fn">ιₛₒ</span> → <a href="../../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">Oₛᵢ</span> : <span class="fn">(<span class="fn">i</span> : <span class="fn">ιₛᵢ</span>) → <span class="fn"><a href="../../.././ArkLib/OracleReduction/OracleInterface.html#OracleInterface">OracleInterface</a> <span class="fn">(<span class="fn">OStmtIn</span> <span class="fn">i</span>)</span></span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">(<span class="fn">i</span> : <span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.MessageIdx">MessageIdx</a></span>) → <span class="fn"><a href="../../.././ArkLib/OracleReduction/OracleInterface.html#OracleInterface">OracleInterface</a> <span class="fn">(<span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.Message">Message</a></span> <span class="fn">i</span>)</span></span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">relIn</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> ((<span class="fn">StmtIn</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">((<span class="fn">i</span> : <span class="fn">ιₛᵢ</span>) → <span class="fn"><span class="fn">OStmtIn</span> <span class="fn">i</span></span>)</span>) <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">WitIn</span>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">relOut</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> ((<span class="fn">StmtOut</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">((<span class="fn">i</span> : <span class="fn">ιₛₒ</span>) → <span class="fn"><span class="fn">OStmtOut</span> <span class="fn">i</span></span>)</span>) <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">WitOut</span>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">verifier</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#OracleVerifier">OracleVerifier</a> <span class="fn">oSpec</span> <span class="fn">StmtIn</span> <span class="fn">OStmtIn</span> <span class="fn">StmtOut</span> <span class="fn">OStmtOut</span> <span class="fn">pSpec</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">rbrKnowledgeError</span> : <span class="fn"><span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.ChallengeIdx">ChallengeIdx</a></span> → <a href="../../.././Mathlib/Data/NNReal/Defs.html#NNReal">NNReal</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Prop</a></div></div><p>Round-by-round knowledge soundness of an oracle reduction is the same as for non-oracle
reductions.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-OracleVerifier.rbrKnowledgeSoundness" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Proof.rbrSoundness"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/Security/RoundByRound.lean#L484-L488">source</a></div><div class="attributes">@[reducible]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Proof.rbrSoundness"><span class="name">Proof</span>.<span class="name">rbrSoundness</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">(<span class="fn">i</span> : <span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.ChallengeIdx">ChallengeIdx</a></span>) → <span class="fn"><a href="../../.././VCVio/OracleComp/Constructions/UniformSelect.html#OracleComp.SelectableType">OracleComp.SelectableType</a> <span class="fn">(<span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.Challenge">Challenge</a></span> <span class="fn">i</span>)</span></span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">σ</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">init</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a> <span class="fn">σ</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">impl</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/SimSemantics/SimulateQ.html#QueryImpl">QueryImpl</a> <span class="fn">oSpec</span> <span class="fn">(<a href="../../.././Init/Control/State.html#StateT">StateT</a> <span class="fn">σ</span> <a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a>)</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Statement</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">langIn</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <span class="fn">Statement</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">verifier</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#Verifier">Verifier</a> <span class="fn">oSpec</span> <span class="fn">Statement</span> <a href="../../.././Init/Prelude.html#Bool">Bool</a> <span class="fn">pSpec</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">rbrSoundnessError</span> : <span class="fn"><span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.ChallengeIdx">ChallengeIdx</a></span> → <a href="../../.././Mathlib/Data/NNReal/Defs.html#NNReal">NNReal</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Prop</a></div></div><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Proof.rbrSoundness" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Proof.rbrKnowledgeSoundness"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/Security/RoundByRound.lean#L490-L494">source</a></div><div class="attributes">@[reducible]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Proof.rbrKnowledgeSoundness"><span class="name">Proof</span>.<span class="name">rbrKnowledgeSoundness</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">(<span class="fn">i</span> : <span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.ChallengeIdx">ChallengeIdx</a></span>) → <span class="fn"><a href="../../.././VCVio/OracleComp/Constructions/UniformSelect.html#OracleComp.SelectableType">OracleComp.SelectableType</a> <span class="fn">(<span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.Challenge">Challenge</a></span> <span class="fn">i</span>)</span></span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">σ</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">init</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a> <span class="fn">σ</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">impl</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/SimSemantics/SimulateQ.html#QueryImpl">QueryImpl</a> <span class="fn">oSpec</span> <span class="fn">(<a href="../../.././Init/Control/State.html#StateT">StateT</a> <span class="fn">σ</span> <a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a>)</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Statement</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">relation</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<span class="fn">Statement</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <a href="../../.././Init/Prelude.html#Bool">Bool</a>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">verifier</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#Verifier">Verifier</a> <span class="fn">oSpec</span> <span class="fn">Statement</span> <a href="../../.././Init/Prelude.html#Bool">Bool</a> <span class="fn">pSpec</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">rbrKnowledgeError</span> : <span class="fn"><span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.ChallengeIdx">ChallengeIdx</a></span> → <a href="../../.././Mathlib/Data/NNReal/Defs.html#NNReal">NNReal</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Prop</a></div></div><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Proof.rbrKnowledgeSoundness" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="OracleProof.rbrSoundness"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/Security/RoundByRound.lean#L500-L506">source</a></div><div class="attributes">@[reducible]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#OracleProof.rbrSoundness"><span class="name">OracleProof</span>.<span class="name">rbrSoundness</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">(<span class="fn">i</span> : <span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.ChallengeIdx">ChallengeIdx</a></span>) → <span class="fn"><a href="../../.././VCVio/OracleComp/Constructions/UniformSelect.html#OracleComp.SelectableType">OracleComp.SelectableType</a> <span class="fn">(<span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.Challenge">Challenge</a></span> <span class="fn">i</span>)</span></span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">σ</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">init</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a> <span class="fn">σ</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">impl</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/SimSemantics/SimulateQ.html#QueryImpl">QueryImpl</a> <span class="fn">oSpec</span> <span class="fn">(<a href="../../.././Init/Control/State.html#StateT">StateT</a> <span class="fn">σ</span> <a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a>)</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Statement </span><span class="fn">ιₛ</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">OStatement</span> : <span class="fn"><span class="fn">ιₛ</span> → <a href="../../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">(<span class="fn">i</span> : <span class="fn">ιₛ</span>) → <span class="fn"><a href="../../.././ArkLib/OracleReduction/OracleInterface.html#OracleInterface">OracleInterface</a> <span class="fn">(<span class="fn">OStatement</span> <span class="fn">i</span>)</span></span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">(<span class="fn">i</span> : <span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.MessageIdx">MessageIdx</a></span>) → <span class="fn"><a href="../../.././ArkLib/OracleReduction/OracleInterface.html#OracleInterface">OracleInterface</a> <span class="fn">(<span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.Message">Message</a></span> <span class="fn">i</span>)</span></span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">langIn</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<span class="fn">Statement</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">((<span class="fn">i</span> : <span class="fn">ιₛ</span>) → <span class="fn"><span class="fn">OStatement</span> <span class="fn">i</span></span>)</span>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">verifier</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#OracleVerifier">OracleVerifier</a> <span class="fn">oSpec</span> <span class="fn">Statement</span> <span class="fn">OStatement</span> <a href="../../.././Init/Prelude.html#Bool">Bool</a> <span class="fn">(fun (<span class="fn">x</span> : <a href="../../.././Init/Prelude.html#Empty">Empty</a>) =&gt; <a href="../../.././Init/Prelude.html#Unit">Unit</a>)</span> <span class="fn">pSpec</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">rbrSoundnessError</span> : <span class="fn"><span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.ChallengeIdx">ChallengeIdx</a></span> → <a href="../../.././Mathlib/Data/NNReal/Defs.html#NNReal">NNReal</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Prop</a></div></div><p>Round-by-round soundness of an oracle reduction is the same as for non-oracle reductions.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-OracleProof.rbrSoundness" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="OracleProof.rbrKnowledgeSoundness"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/Security/RoundByRound.lean#L508-L514">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#OracleProof.rbrKnowledgeSoundness"><span class="name">OracleProof</span>.<span class="name">rbrKnowledgeSoundness</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">pSpec</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec">ProtocolSpec</a> <span class="fn">n</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">(<span class="fn">i</span> : <span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.ChallengeIdx">ChallengeIdx</a></span>) → <span class="fn"><a href="../../.././VCVio/OracleComp/Constructions/UniformSelect.html#OracleComp.SelectableType">OracleComp.SelectableType</a> <span class="fn">(<span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.Challenge">Challenge</a></span> <span class="fn">i</span>)</span></span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">σ</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">init</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a> <span class="fn">σ</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">impl</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/SimSemantics/SimulateQ.html#QueryImpl">QueryImpl</a> <span class="fn">oSpec</span> <span class="fn">(<a href="../../.././Init/Control/State.html#StateT">StateT</a> <span class="fn">σ</span> <a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a>)</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Statement </span><span class="fn">ιₛ</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">OStatement</span> : <span class="fn"><span class="fn">ιₛ</span> → <a href="../../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Witness</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">(<span class="fn">i</span> : <span class="fn">ιₛ</span>) → <span class="fn"><a href="../../.././ArkLib/OracleReduction/OracleInterface.html#OracleInterface">OracleInterface</a> <span class="fn">(<span class="fn">OStatement</span> <span class="fn">i</span>)</span></span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">(<span class="fn">i</span> : <span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.MessageIdx">MessageIdx</a></span>) → <span class="fn"><a href="../../.././ArkLib/OracleReduction/OracleInterface.html#OracleInterface">OracleInterface</a> <span class="fn">(<span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.Message">Message</a></span> <span class="fn">i</span>)</span></span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">relIn</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> ((<span class="fn">Statement</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">((<span class="fn">i</span> : <span class="fn">ιₛ</span>) → <span class="fn"><span class="fn">OStatement</span> <span class="fn">i</span></span>)</span>) <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">Witness</span>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">verifier</span> : <span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#OracleVerifier">OracleVerifier</a> <span class="fn">oSpec</span> <span class="fn">Statement</span> <span class="fn">OStatement</span> <a href="../../.././Init/Prelude.html#Bool">Bool</a> <span class="fn">(fun (<span class="fn">x</span> : <a href="../../.././Init/Prelude.html#Empty">Empty</a>) =&gt; <a href="../../.././Init/Prelude.html#Unit">Unit</a>)</span> <span class="fn">pSpec</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">rbrKnowledgeError</span> : <span class="fn"><span class="fn"><span class="fn">pSpec</span>.<a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.ChallengeIdx">ChallengeIdx</a></span> → <a href="../../.././Mathlib/Data/NNReal/Defs.html#NNReal">NNReal</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Prop</a></div></div><p>Round-by-round knowledge soundness of an oracle reduction is the same as for non-oracle
reductions.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-OracleProof.rbrKnowledgeSoundness" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Verifier.StateFunction.id"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/Security/RoundByRound.lean#L520-L527">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.StateFunction.id"><span class="name">Verifier</span>.<span class="name">StateFunction</span>.<span class="name">id</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">σ</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">init</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a> <span class="fn">σ</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">impl</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/SimSemantics/SimulateQ.html#QueryImpl">QueryImpl</a> <span class="fn">oSpec</span> <span class="fn">(<a href="../../.././Init/Control/State.html#StateT">StateT</a> <span class="fn">σ</span> <a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a>)</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Statement</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">lang</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <span class="fn">Statement</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.StateFunction">StateFunction</a> <span class="fn">init</span> <span class="fn">impl</span> <span class="fn">lang</span> <span class="fn">lang</span> <a href="../../.././ArkLib/OracleReduction/Basic.html#Verifier.id">Verifier.id</a></span></div></div><p>The state function for the identity / trivial verifier, which just returns whether the
statement is in the language.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Verifier.StateFunction.id" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Verifier.id_rbrSoundness"><div class="theorem"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/Security/RoundByRound.lean#L529-L534">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.id_rbrSoundness"><span class="name">Verifier</span>.<span class="name">id_rbrSoundness</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">σ</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">init</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a> <span class="fn">σ</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">impl</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/SimSemantics/SimulateQ.html#QueryImpl">QueryImpl</a> <span class="fn">oSpec</span> <span class="fn">(<a href="../../.././Init/Control/State.html#StateT">StateT</a> <span class="fn">σ</span> <a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a>)</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Statement</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">lang</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <span class="fn">Statement</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.rbrSoundness">rbrSoundness</a> <span class="fn">init</span> <span class="fn">impl</span> <span class="fn">lang</span> <span class="fn">lang</span> <a href="../../.././ArkLib/OracleReduction/Basic.html#Verifier.id">Verifier.id</a> <span class="fn">0</span></span></div></div><p>The identity / trivial verifier is perfectly round-by-round sound.</p></div></div><div class="decl" id="Extractor.RoundByRound.id"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/Security/RoundByRound.lean#L536-L542">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Extractor.RoundByRound.id"><span class="name">Extractor</span>.<span class="name">RoundByRound</span>.<span class="name">id</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Statement </span><span class="fn">Witness</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Extractor.RoundByRound">RoundByRound</a> <span class="fn">oSpec</span> <span class="fn">Statement</span> <span class="fn">Witness</span> <span class="fn">Witness</span> <a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.empty">!p[]</a> <span class="fn">fun (<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">0</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span>) =&gt; <span class="fn">Witness</span></span></span></div></div><p>The round-by-round extractor for the identity / trivial verifier, which just returns the
input witness.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Extractor.RoundByRound.id" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Verifier.KnowledgeStateFunction.id"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/Security/RoundByRound.lean#L544-L552">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.KnowledgeStateFunction.id"><span class="name">Verifier</span>.<span class="name">KnowledgeStateFunction</span>.<span class="name">id</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">σ</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">init</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a> <span class="fn">σ</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">impl</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/SimSemantics/SimulateQ.html#QueryImpl">QueryImpl</a> <span class="fn">oSpec</span> <span class="fn">(<a href="../../.././Init/Control/State.html#StateT">StateT</a> <span class="fn">σ</span> <a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a>)</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Statement </span><span class="fn">Witness</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">rel</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<span class="fn">Statement</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">Witness</span>)</span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.KnowledgeStateFunction">KnowledgeStateFunction</a> <span class="fn">init</span> <span class="fn">impl</span> <span class="fn">rel</span> <span class="fn">rel</span> <a href="../../.././ArkLib/OracleReduction/Basic.html#Verifier.id">Verifier.id</a> <a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Extractor.RoundByRound.id">Extractor.RoundByRound.id</a></span></div></div><p>The knowledge state function for the identity / trivial verifier, which just returns whether
the statement is in the relation.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Verifier.KnowledgeStateFunction.id" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Verifier.id_rbrKnowledgeSoundness"><div class="theorem"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/Security/RoundByRound.lean#L554-L568">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.id_rbrKnowledgeSoundness"><span class="name">Verifier</span>.<span class="name">id_rbrKnowledgeSoundness</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">σ</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">init</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a> <span class="fn">σ</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">impl</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/SimSemantics/SimulateQ.html#QueryImpl">QueryImpl</a> <span class="fn">oSpec</span> <span class="fn">(<a href="../../.././Init/Control/State.html#StateT">StateT</a> <span class="fn">σ</span> <a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a>)</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Statement </span><span class="fn">Witness</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">rel</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<span class="fn">Statement</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">Witness</span>)</span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#Verifier.rbrKnowledgeSoundness">rbrKnowledgeSoundness</a> <span class="fn">init</span> <span class="fn">impl</span> <span class="fn">rel</span> <span class="fn">rel</span> <a href="../../.././ArkLib/OracleReduction/Basic.html#Verifier.id">Verifier.id</a> <span class="fn">0</span></span></div></div><p>The identity / trivial verifier is perfectly round-by-round knowledge sound.</p></div></div><div class="decl" id="OracleVerifier.id_rbrKnowledgeSoundness"><div class="theorem"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/OracleReduction/Security/RoundByRound.lean#L570-L576">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#OracleVerifier.id_rbrKnowledgeSoundness"><span class="name">OracleVerifier</span>.<span class="name">id_rbrKnowledgeSoundness</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">σ</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">init</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a> <span class="fn">σ</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">impl</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/SimSemantics/SimulateQ.html#QueryImpl">QueryImpl</a> <span class="fn">oSpec</span> <span class="fn">(<a href="../../.././Init/Control/State.html#StateT">StateT</a> <span class="fn">σ</span> <a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a>)</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Statement </span><span class="fn">ιₛ</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">OStatement</span> : <span class="fn"><span class="fn">ιₛ</span> → <a href="../../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Witness</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">(<span class="fn">i</span> : <span class="fn">ιₛ</span>) → <span class="fn"><a href="../../.././ArkLib/OracleReduction/OracleInterface.html#OracleInterface">OracleInterface</a> <span class="fn">(<span class="fn">OStatement</span> <span class="fn">i</span>)</span></span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">rel</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> ((<span class="fn">Statement</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">((<span class="fn">i</span> : <span class="fn">ιₛ</span>) → <span class="fn"><span class="fn">OStatement</span> <span class="fn">i</span></span>)</span>) <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">Witness</span>)</span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html#OracleVerifier.rbrKnowledgeSoundness">rbrKnowledgeSoundness</a> <span class="fn">init</span> <span class="fn">impl</span> <span class="fn">rel</span> <span class="fn">rel</span> <a href="../../.././ArkLib/OracleReduction/Basic.html#OracleVerifier.id">OracleVerifier.id</a> <span class="fn">0</span></span></div></div><p>The identity / trivial oracle verifier is perfectly round-by-round knowledge sound.</p></div></div></main>
<nav class="nav"><iframe src="../../.././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>