<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../../../.././style.css"></link><link rel="icon" href="../../../.././favicon.svg"></link><link rel="mask-icon" href="../../../.././favicon.svg" color="#000000"></link><link rel="prefetch" href="../../../.././/declarations/declaration-data.bmp" as="image"></link><title>ArkLib.Data.FieldTheory.AdditiveNTT.AdditiveNTT</title><script defer="true" src="../../../.././mathjax-config.js"></script><script defer="true" src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../../../.././";</script><script>const MODULE_NAME="ArkLib.Data.FieldTheory.AdditiveNTT.AdditiveNTT";</script><script type="module" src="../../../.././jump-src.js"></script><script type="module" src="../../../.././search.js"></script><script type="module" src="../../../.././expand-nav.js"></script><script type="module" src="../../../.././how-about.js"></script><script type="module" src="../../../.././instances.js"></script><script type="module" src="../../../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">ArkLib</span>.<span class="name">Data</span>.<span class="name">FieldTheory</span>.<span class="name">AdditiveNTT</span>.<span class="name">AdditiveNTT</span></h2><form id="search_form"><input type="text" name="q" autocomplete="off"></input>&#32;<button id="search_button" onclick="javascript: form.action='../../../.././search.html';">Search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../../../.././Init.html">Init</a></li><li><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/NovelPolynomialBasis.html">ArkLib.Data.FieldTheory.AdditiveNTT.NovelPolynomialBasis</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-ArkLib.Data.FieldTheory.AdditiveNTT.AdditiveNTT" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#AdditiveNTT.sDomain"><span class="name">AdditiveNTT</span>.<span class="name">sDomain</span></a></div><div class="nav_link"><a class="break_within" href="#AdditiveNTT.qMap"><span class="name">AdditiveNTT</span>.<span class="name">qMap</span></a></div><div class="nav_link"><a class="break_within" href="#AdditiveNTT.qMap_eval_ğ”½q_eq_0"><span class="name">AdditiveNTT</span>.<span class="name">qMap_eval_ğ”½q_eq_0</span></a></div><div class="nav_link"><a class="break_within" href="#AdditiveNTT.qMap_comp_normalizedW"><span class="name">AdditiveNTT</span>.<span class="name">qMap_comp_normalizedW</span></a></div><div class="nav_link"><a class="break_within" href="#AdditiveNTT.qMap_is_linear_map"><span class="name">AdditiveNTT</span>.<span class="name">qMap_is_linear_map</span></a></div><div class="nav_link"><a class="break_within" href="#AdditiveNTT.qMap_maps_sDomain"><span class="name">AdditiveNTT</span>.<span class="name">qMap_maps_sDomain</span></a></div><div class="nav_link"><a class="break_within" href="#AdditiveNTT.qCompositionChain"><span class="name">AdditiveNTT</span>.<span class="name">qCompositionChain</span></a></div><div class="nav_link"><a class="break_within" href="#AdditiveNTT.qCompositionChain_eq_foldl"><span class="name">AdditiveNTT</span>.<span class="name">qCompositionChain_eq_foldl</span></a></div><div class="nav_link"><a class="break_within" href="#AdditiveNTT.normalizedW_eq_qMap_composition"><span class="name">AdditiveNTT</span>.<span class="name">normalizedW_eq_qMap_composition</span></a></div><div class="nav_link"><a class="break_within" href="#AdditiveNTT.sDomainBasisVectors"><span class="name">AdditiveNTT</span>.<span class="name">sDomainBasisVectors</span></a></div><div class="nav_link"><a class="break_within" href="#AdditiveNTT.sDomainBasisVectors_mem_sDomain"><span class="name">AdditiveNTT</span>.<span class="name">sDomainBasisVectors_mem_sDomain</span></a></div><div class="nav_link"><a class="break_within" href="#AdditiveNTT.sBasis"><span class="name">AdditiveNTT</span>.<span class="name">sBasis</span></a></div><div class="nav_link"><a class="break_within" href="#AdditiveNTT.sBasis_range_eq"><span class="name">AdditiveNTT</span>.<span class="name">sBasis_range_eq</span></a></div><div class="nav_link"><a class="break_within" href="#AdditiveNTT.sDomain_eq_image_of_upper_span"><span class="name">AdditiveNTT</span>.<span class="name">sDomain_eq_image_of_upper_span</span></a></div><div class="nav_link"><a class="break_within" href="#AdditiveNTT.sDomain_basis"><span class="name">AdditiveNTT</span>.<span class="name">sDomain_basis</span></a></div><div class="nav_link"><a class="break_within" href="#AdditiveNTT.intermediateNormVpoly"><span class="name">AdditiveNTT</span>.<span class="name">intermediateNormVpoly</span></a></div><div class="nav_link"><a class="break_within" href="#AdditiveNTT.base_intermediateNormVpoly"><span class="name">AdditiveNTT</span>.<span class="name">base_intermediateNormVpoly</span></a></div><div class="nav_link"><a class="break_within" href="#AdditiveNTT.Polynomial.foldl_comp"><span class="name">AdditiveNTT</span>.<span class="name">Polynomial</span>.<span class="name">foldl_comp</span></a></div><div class="nav_link"><a class="break_within" href="#AdditiveNTT.Polynomial.comp_same_inner_eq_if_same_outer"><span class="name">AdditiveNTT</span>.<span class="name">Polynomial</span>.<span class="name">comp_same_inner_eq_if_same_outer</span></a></div><div class="nav_link"><a class="break_within" href="#AdditiveNTT.intermediateNormVpoly_comp_qmap"><span class="name">AdditiveNTT</span>.<span class="name">intermediateNormVpoly_comp_qmap</span></a></div><div class="nav_link"><a class="break_within" href="#AdditiveNTT.intermediateNormVpoly_comp_qmap_helper"><span class="name">AdditiveNTT</span>.<span class="name">intermediateNormVpoly_comp_qmap_helper</span></a></div><div class="nav_link"><a class="break_within" href="#AdditiveNTT.intermediateNovelBasisX"><span class="name">AdditiveNTT</span>.<span class="name">intermediateNovelBasisX</span></a></div><div class="nav_link"><a class="break_within" href="#AdditiveNTT.base_intermediateNovelBasisX"><span class="name">AdditiveNTT</span>.<span class="name">base_intermediateNovelBasisX</span></a></div><div class="nav_link"><a class="break_within" href="#AdditiveNTT.even_index_intermediate_novel_basis_decomposition"><span class="name">AdditiveNTT</span>.<span class="name">even_index_intermediate_novel_basis_decomposition</span></a></div><div class="nav_link"><a class="break_within" href="#AdditiveNTT.odd_index_intermediate_novel_basis_decomposition"><span class="name">AdditiveNTT</span>.<span class="name">odd_index_intermediate_novel_basis_decomposition</span></a></div><div class="nav_link"><a class="break_within" href="#AdditiveNTT.intermediateEvaluationPoly"><span class="name">AdditiveNTT</span>.<span class="name">intermediateEvaluationPoly</span></a></div><div class="nav_link"><a class="break_within" href="#AdditiveNTT.evenRefinement"><span class="name">AdditiveNTT</span>.<span class="name">evenRefinement</span></a></div><div class="nav_link"><a class="break_within" href="#AdditiveNTT.oddRefinement"><span class="name">AdditiveNTT</span>.<span class="name">oddRefinement</span></a></div><div class="nav_link"><a class="break_within" href="#AdditiveNTT.evaluation_poly_split_identity"><span class="name">AdditiveNTT</span>.<span class="name">evaluation_poly_split_identity</span></a></div><div class="nav_link"><a class="break_within" href="#AdditiveNTT.intermediate_poly_P_base"><span class="name">AdditiveNTT</span>.<span class="name">intermediate_poly_P_base</span></a></div><div class="nav_link"><a class="break_within" href="#AdditiveNTT.evaluationPointÏ‰"><span class="name">AdditiveNTT</span>.<span class="name">evaluationPointÏ‰</span></a></div><div class="nav_link"><a class="break_within" href="#AdditiveNTT.twiddleFactor"><span class="name">AdditiveNTT</span>.<span class="name">twiddleFactor</span></a></div><div class="nav_link"><a class="break_within" href="#AdditiveNTT.evaluationPointÏ‰_eq_twiddleFactor_of_div_2"><span class="name">AdditiveNTT</span>.<span class="name">evaluationPointÏ‰_eq_twiddleFactor_of_div_2</span></a></div><div class="nav_link"><a class="break_within" href="#AdditiveNTT.eval_point_Ï‰_eq_next_twiddleFactor_comp_qmap"><span class="name">AdditiveNTT</span>.<span class="name">eval_point_Ï‰_eq_next_twiddleFactor_comp_qmap</span></a></div><div class="nav_link"><a class="break_within" href="#AdditiveNTT.tileCoeffs"><span class="name">AdditiveNTT</span>.<span class="name">tileCoeffs</span></a></div><div class="nav_link"><a class="break_within" href="#AdditiveNTT.NTTStage"><span class="name">AdditiveNTT</span>.<span class="name">NTTStage</span></a></div><div class="nav_link"><a class="break_within" href="#AdditiveNTT.additiveNTT"><span class="name">AdditiveNTT</span>.<span class="name">additiveNTT</span></a></div><div class="nav_link"><a class="break_within" href="#AdditiveNTT.coeffsBySuffix"><span class="name">AdditiveNTT</span>.<span class="name">coeffsBySuffix</span></a></div><div class="nav_link"><a class="break_within" href="#AdditiveNTT.base_coeffsBySuffix"><span class="name">AdditiveNTT</span>.<span class="name">base_coeffsBySuffix</span></a></div><div class="nav_link"><a class="break_within" href="#AdditiveNTT.evenRefinement_eq_novel_poly_of_0_leading_suffix"><span class="name">AdditiveNTT</span>.<span class="name">evenRefinement_eq_novel_poly_of_0_leading_suffix</span></a></div><div class="nav_link"><a class="break_within" href="#AdditiveNTT.oddRefinement_eq_novel_poly_of_1_leading_suffix"><span class="name">AdditiveNTT</span>.<span class="name">oddRefinement_eq_novel_poly_of_1_leading_suffix</span></a></div><div class="nav_link"><a class="break_within" href="#AdditiveNTT.additiveNTTInvariant"><span class="name">AdditiveNTT</span>.<span class="name">additiveNTTInvariant</span></a></div><div class="nav_link"><a class="break_within" href="#AdditiveNTT.initial_tiled_coeffs_correctness"><span class="name">AdditiveNTT</span>.<span class="name">initial_tiled_coeffs_correctness</span></a></div><div class="nav_link"><a class="break_within" href="#AdditiveNTT.NTTStage_correctness"><span class="name">AdditiveNTT</span>.<span class="name">NTTStage_correctness</span></a></div><div class="nav_link"><a class="break_within" href="#AdditiveNTT.foldl_NTTStage_inductive_aux"><span class="name">AdditiveNTT</span>.<span class="name">foldl_NTTStage_inductive_aux</span></a></div><div class="nav_link"><a class="break_within" href="#AdditiveNTT.additiveNTT_correctness"><span class="name">AdditiveNTT</span>.<span class="name">additiveNTT_correctness</span></a></div></nav><main>
<div class="mod_doc"><h1 class="markdown-heading" id="Additive-NTT-Algorithm-Algorithm-2-LCH14">Additive NTT Algorithm (Algorithm 2, LCH14) <a class="hover-link" href="#Additive-NTT-Algorithm-Algorithm-2-LCH14">#</a></h1><p>This file defines the FRI-Binius ([DP24]) variant of the Additive NTT algorithm originally
introduced in [LCH14]. This variant adopts concrete optimizations and a different proof strategy,
making it highly suitable for the FRI-Binius proof system, while still fully complying with the
original algorithm in [LCH14] through a different interpretation.</p><h2 class="markdown-heading" id="Main-Definitions">Main Definitions <a class="hover-link" href="#Main-Definitions">#</a></h2><ul>
<li><p><code><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.sDomain">sDomain</a></code>: The intermediate evaluation domain <code>Sâ½â±â¾</code> for
the round <code>i</code> in the Additive NTT algorithm</p>
</li>
<li><p><code><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.qMap">qMap</a></code>: The quotient map <code>qâ½â±â¾(X)</code> that relates successive domains</p>
</li>
<li><p><code><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.intermediateNormVpoly">intermediateNormVpoly</a></code>: The <code>i</code>-th order subspace vanishing
polynomials <code>Å´â‚–â½â±â¾</code> over domain <code>Sâ½â±â¾</code></p>
</li>
<li><p><code><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.intermediateNovelBasisX">intermediateNovelBasisX</a></code>: The intermediate novel basis <code>Xâ±¼â½â±â¾</code> for
the round <code>i</code> in the Additive NTT algorithm</p>
</li>
<li><p><code><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.intermediateEvaluationPoly">intermediateEvaluationPoly</a></code>: The intermediate evaluation polynomial <code>Pâ½â±â¾(X)</code>
for the round <code>i</code> in the Additive NTT algorithm</p>
</li>
<li><p><code><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.additiveNTT">additiveNTT</a></code>: The main implementation of the Additive NTT encoding algorithm.</p>
</li>
<li><p><code><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.NTTStage">NTTStage</a></code>: The main implementation of each NTT stage in the Additive NTT encoding algorithm.</p>
</li>
<li><p><code><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.additiveNTT_correctness">additiveNTT_correctness</a></code>: Main correctness statement of the encoding algorithm.</p>
</li>
<li><p><code><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.additiveNTTInvariant">additiveNTTInvariant</a></code>: Describes the invariant for each loop in the algorithm,
which states whether the result of an encoding round is correct</p>
</li>
<li><p><code><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.NTTStage_correctness">NTTStage_correctness</a></code>: Main correctness statement of each NTT stage in the encoding algorithm,
this proves that if the previous round satisfies the invariant, then the current round also</p>
</li>
</ul><h2 class="markdown-heading" id="TODOs">TODOs <a class="hover-link" href="#TODOs">#</a></h2><ul>
<li>Define computable additive NTT and transfer correctness proof to it</li>
</ul><h2 class="markdown-heading" id="References">References <a class="hover-link" href="#References">#</a></h2><ul>
<li><p>[DP24] Diamond, Benjamin E., and Jim Posen. &quot;Polylogarithmic Proofs for Multilinears over Binary
Towers.&quot; Cryptology ePrint Archive (2024).</p>
</li>
<li><p>[LCH14] Sian-Jheng Lin, Wei-Ho Chung, and Yunghsiang S. Han. &quot;Novel Polynomial Basis and Its
Application to Reedâ€“Solomon Erasure Codes&quot;. In: IEEE 55th Annual Symposium on Foundations of
Computer Science. 2014, pp. 316â€“325. doi: 10.1109/FOCS.2014.41.</p>
</li>
<li><p>[GGJ96] J. von zur Gathen and J. Gerhard, &quot;Arithmetic and factorization of polynomial
over F2 (extended abstract)&quot;, in Proceedings of the 1996 International Symposium on
Symbolic and Algebraic Computation, Zurich, Switzerland, 1996, pp. 1â€“9.</p>
</li>
</ul></div><div class="mod_doc"><h2 class="markdown-heading" id="1-Intermediate-Structures-Domains-Maps-and-Bases">1. Intermediate Structures: Domains, Maps, and Bases <a class="hover-link" href="#1-Intermediate-Structures-Domains-Maps-and-Bases">#</a></h2><p>This section defines the intermediate evaluation domains, quotient maps, and the structure
of the subspace vanishing polynomials and their bases. These are the core algebraic objects
underlying the Additive NTT algorithm.</p></div><div class="decl" id="AdditiveNTT.sDomain"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.lean#L82-L92">source</a></div><div class="decl_header"><span class="decl_kind">noncomputable def</span>
<span class="decl_name"><a class="break_within" href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.sDomain"><span class="name">AdditiveNTT</span>.<span class="name">sDomain</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">r</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Data/NeZero.html#NeZero">NeZero</a> <span class="fn">r</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">L</span> : <a href="../../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Prelude.html#DecidableEq">DecidableEq</a> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ğ”½q</span> : <a href="../../../.././foundational_types.html">Type</a> u)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h_Fq_char_prime</span> : <span class="fn"><a href="../../../.././Mathlib/Logic/Basic.html#Fact">Fact</a> <span class="fn">(<a href="../../../.././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">(<a href="../../../.././Mathlib/Algebra/CharP/Defs.html#ringChar">ringChar</a> <span class="fn">ğ”½q</span>)</span>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_Fq_card_gt_1</span> : <span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Card.html#Fintype.card">Fintype.card</a> <span class="fn">ğ”½q</span></span> <a href="../../../.././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn">1</span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Algebra/Defs.html#Algebra">Algebra</a> <span class="fn">ğ”½q</span> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Î²</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hÎ²_lin_indep</span> : <span class="fn"><a href="../../../.././Mathlib/LinearAlgebra/LinearIndependent/Defs.html#LinearIndependent">LinearIndependent</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">â„“ </span><span class="fn">R_rate</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_â„“_add_R_rate</span> : <span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span> <a href="../../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">r</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../.././Mathlib/Algebra/Module/Submodule/Basic.html#Subspace">Subspace</a> <span class="fn">ğ”½q</span> <span class="fn">L</span></span></div></div><p>The intermediate evaluation domain <code>Sâ½â±â¾</code>, defined as the image of the full evaluation space
under the normalized subspace vanishing polynomial <code>Å´áµ¢(X)</code>.
<code>âˆ€ i âˆˆ {0, ..., r-1}</code>, we define <code>Uáµ¢:= &lt;Î²â‚€, ..., Î²áµ¢â‚‹â‚&gt;_{ğ”½q}</code>, note that <code>Uáµ£</code> is not used.
<code>âˆ€ i âˆˆ {0, ..., r-1}, Sâ½â±â¾</code> is the image of the subspace <code>U_{â„“+R}</code>
under the <code>ğ”½q</code>-linear map <code>x â†¦ Å´áµ¢(x)</code>.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-AdditiveNTT.sDomain" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="AdditiveNTT.qMap"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.lean#L94-L99">source</a></div><div class="decl_header"><span class="decl_kind">noncomputable def</span>
<span class="decl_name"><a class="break_within" href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.qMap"><span class="name">AdditiveNTT</span>.<span class="name">qMap</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">r</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Data/NeZero.html#NeZero">NeZero</a> <span class="fn">r</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">L</span> : <a href="../../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ğ”½q</span> : <a href="../../../.././foundational_types.html">Type</a> u)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Algebra/Defs.html#Algebra">Algebra</a> <span class="fn">ğ”½q</span> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Î²</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../.././Mathlib/Algebra/Polynomial/Basic.html#Polynomial">Polynomial</a> <span class="fn">L</span></span></div></div><p>The quotient map <code>qâ½â±â¾(X)</code> that relates successive domains.
<code>qâ½â±â¾(X) := (Wáµ¢(Î²áµ¢)^q / Wáµ¢â‚Šâ‚(Î²áµ¢â‚Šâ‚)) * âˆ_{c âˆˆ ğ”½q} (X - c)</code>. Usable range is <code>âˆ€ i âˆˆ {0, ..., r-2}</code></p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-AdditiveNTT.qMap" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="AdditiveNTT.qMap_eval_ğ”½q_eq_0"><div class="theorem"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.lean#L102-L117">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.qMap_eval_ğ”½q_eq_0"><span class="name">AdditiveNTT</span>.<span class="name">qMap_eval_ğ”½q_eq_0</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">r</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Data/NeZero.html#NeZero">NeZero</a> <span class="fn">r</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">L</span> : <a href="../../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ğ”½q</span> : <a href="../../../.././foundational_types.html">Type</a> u)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Algebra/Defs.html#Algebra">Algebra</a> <span class="fn">ğ”½q</span> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Î²</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">c</span> : <span class="fn">ğ”½q</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../.././Mathlib/Algebra/Polynomial/Eval/Defs.html#Polynomial.eval">Polynomial.eval</a> <span class="fn">(<span class="fn">(<a href="../../../.././Mathlib/Algebra/Algebra/Defs.html#algebraMap">algebraMap</a> <span class="fn">ğ”½q</span> <span class="fn">L</span>)</span> <span class="fn">c</span>)</span> <span class="fn">(<a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.qMap">qMap</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">i</span>)</span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a> <span class="fn">0</span></div></div></div></div><div class="decl" id="AdditiveNTT.qMap_comp_normalizedW"><div class="theorem"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.lean#L119-L192">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.qMap_comp_normalizedW"><span class="name">AdditiveNTT</span>.<span class="name">qMap_comp_normalizedW</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">r</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Data/NeZero.html#NeZero">NeZero</a> <span class="fn">r</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">L</span> : <a href="../../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Prelude.html#DecidableEq">DecidableEq</a> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ğ”½q</span> : <a href="../../../.././foundational_types.html">Type</a> u)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Algebra/Defs.html#Algebra">Algebra</a> <span class="fn">ğ”½q</span> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Î²</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_Fq_card_gt_1</span> : <span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Card.html#Fintype.card">Fintype.card</a> <span class="fn">ğ”½q</span></span> <a href="../../../.././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn">1</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_Fq_char_prime</span> : <span class="fn"><a href="../../../.././Mathlib/Logic/Basic.html#Fact">Fact</a> <span class="fn">(<a href="../../../.././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">(<a href="../../../.././Mathlib/Algebra/CharP/Defs.html#ringChar">ringChar</a> <span class="fn">ğ”½q</span>)</span>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hÎ²_lin_indep</span> : <span class="fn"><a href="../../../.././Mathlib/LinearAlgebra/LinearIndependent/Defs.html#LinearIndependent">LinearIndependent</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_i_add_1</span> : <span class="fn">â†‘<span class="fn">i</span></span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span> <a href="../../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">r</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">(<a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.qMap">qMap</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">i</span>)</span>.<a href="../../../.././Mathlib/Algebra/Polynomial/Eval/Defs.html#Polynomial.comp">comp</a></span> <span class="fn">(<a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/NovelPolynomialBasis.html#AdditiveNTT.normalizedW">normalizedW</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">i</span>)</span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/NovelPolynomialBasis.html#AdditiveNTT.normalizedW">normalizedW</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> (<span class="fn">i</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span></div></div><p><strong>Lemma 4.2.</strong> The quotient maps compose with the <code>Å´</code> polynomials.
<code>qâ½â±â¾ âˆ˜ Å´áµ¢ = Å´áµ¢â‚Šâ‚, âˆ€ i âˆˆ {0, ..., r-2}</code>.</p></div></div><div class="decl" id="AdditiveNTT.qMap_is_linear_map"><div class="theorem"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.lean#L195-L266">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.qMap_is_linear_map"><span class="name">AdditiveNTT</span>.<span class="name">qMap_is_linear_map</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">r</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Data/NeZero.html#NeZero">NeZero</a> <span class="fn">r</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">L</span> : <a href="../../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ğ”½q</span> : <a href="../../../.././foundational_types.html">Type</a> u)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Algebra/Defs.html#Algebra">Algebra</a> <span class="fn">ğ”½q</span> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Î²</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_Fq_card_gt_1</span> : <span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Card.html#Fintype.card">Fintype.card</a> <span class="fn">ğ”½q</span></span> <a href="../../../.././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn">1</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_Fq_char_prime</span> : <span class="fn"><a href="../../../.././Mathlib/Logic/Basic.html#Fact">Fact</a> <span class="fn">(<a href="../../../.././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">(<a href="../../../.././Mathlib/Algebra/CharP/Defs.html#ringChar">ringChar</a> <span class="fn">ğ”½q</span>)</span>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../.././Mathlib/Algebra/Module/LinearMap/Defs.html#IsLinearMap">IsLinearMap</a> <span class="fn">ğ”½q</span> <span class="fn">fun (<span class="fn">inner_p</span> : <span class="fn"><a href="../../../.././Mathlib/Algebra/Polynomial/Basic.html#Polynomial">Polynomial</a> <span class="fn">L</span></span>) =&gt; <span class="fn"><span class="fn"><span class="fn">(<a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.qMap">qMap</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">i</span>)</span>.<a href="../../../.././Mathlib/Algebra/Polynomial/Eval/Defs.html#Polynomial.comp">comp</a></span> <span class="fn">inner_p</span></span></span></span></div></div><p>The evaluation of the quotient map <code>qâ½â±â¾(X)</code> is an <code>ğ”½q</code>-linear map.
Usable range is <code>âˆ€ i âˆˆ {0, ..., r-2}</code>.</p></div></div><div class="decl" id="AdditiveNTT.qMap_maps_sDomain"><div class="theorem"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.lean#L268-L320">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.qMap_maps_sDomain"><span class="name">AdditiveNTT</span>.<span class="name">qMap_maps_sDomain</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">r</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Data/NeZero.html#NeZero">NeZero</a> <span class="fn">r</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">L</span> : <a href="../../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Prelude.html#DecidableEq">DecidableEq</a> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ğ”½q</span> : <a href="../../../.././foundational_types.html">Type</a> u)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Algebra/Defs.html#Algebra">Algebra</a> <span class="fn">ğ”½q</span> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Î²</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_Fq_card_gt_1</span> : <span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Card.html#Fintype.card">Fintype.card</a> <span class="fn">ğ”½q</span></span> <a href="../../../.././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn">1</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_Fq_char_prime</span> : <span class="fn"><a href="../../../.././Mathlib/Logic/Basic.html#Fact">Fact</a> <span class="fn">(<a href="../../../.././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">(<a href="../../../.././Mathlib/Algebra/CharP/Defs.html#ringChar">ringChar</a> <span class="fn">ğ”½q</span>)</span>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hÎ²_lin_indep</span> : <span class="fn"><a href="../../../.././Mathlib/LinearAlgebra/LinearIndependent/Defs.html#LinearIndependent">LinearIndependent</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">â„“ </span><span class="fn">R_rate</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_â„“_add_R_rate</span> : <span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span> <a href="../../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">r</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_i_add_1</span> : <span class="fn">â†‘<span class="fn">i</span></span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span> <a href="../../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">r</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">have <span class="fn">q_comp_linear_map</span> := <span class="fn">â‹¯</span>;
<span class="fn">have <span class="fn">q_eval_linear_map</span> := <span class="fn">â‹¯</span>;
<span class="fn">have <span class="fn">q_i_map</span> := <span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/NovelPolynomialBasis.html#AdditiveNTT.polyEvalLinearMap">polyEvalLinearMap</a> <span class="fn">(<a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.qMap">qMap</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">i</span>)</span> <span class="fn">q_eval_linear_map</span></span>;
<span class="fn">have <span class="fn">S_i</span> := <span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.sDomain">sDomain</a> <span class="fn">ğ”½q</span> <span class="fn">h_Fq_char_prime</span> <span class="fn">h_Fq_card_gt_1</span> <span class="fn">Î²</span> <span class="fn">hÎ²_lin_indep</span> <span class="fn">â„“</span> <span class="fn">R_rate</span> <span class="fn">h_â„“_add_R_rate</span> <span class="fn">i</span></span>;
<span class="fn">have <span class="fn">S_i_plus_1</span> := <span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.sDomain">sDomain</a> <span class="fn">ğ”½q</span> <span class="fn">h_Fq_char_prime</span> <span class="fn">h_Fq_card_gt_1</span> <span class="fn">Î²</span> <span class="fn">hÎ²_lin_indep</span> <span class="fn">â„“</span> <span class="fn">R_rate</span> <span class="fn">h_â„“_add_R_rate</span> (<span class="fn">i</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span>;
<span class="fn"><a href="../../../.././Mathlib/Algebra/Module/Submodule/Map.html#Submodule.map">Submodule.map</a> <span class="fn">q_i_map</span> <span class="fn">S_i</span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a> <span class="fn">S_i_plus_1</span></span></span></span></span></span></div></div><p><strong>Theorem 4.3.</strong> The quotient map <code>qâ½â±â¾</code> maps the domain <code>Sâ½â±â¾</code> to <code>Sâ½â±âºÂ¹â¾</code>.
Usable range is <code>âˆ€ i âˆˆ {0, ..., r-2}</code>.</p></div></div><div class="decl" id="AdditiveNTT.qCompositionChain"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.lean#L322-L326">source</a></div><div class="attributes">@[irreducible]</div>
<div class="decl_header"><span class="decl_kind">noncomputable def</span>
<span class="decl_name"><a class="break_within" href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.qCompositionChain"><span class="name">AdditiveNTT</span>.<span class="name">qCompositionChain</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">r</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Data/NeZero.html#NeZero">NeZero</a> <span class="fn">r</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">L</span> : <a href="../../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ğ”½q</span> : <a href="../../../.././foundational_types.html">Type</a> u)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Algebra/Defs.html#Algebra">Algebra</a> <span class="fn">ğ”½q</span> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Î²</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">â„“ </span><span class="fn">R_rate</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../.././Mathlib/Algebra/Polynomial/Basic.html#Polynomial">Polynomial</a> <span class="fn">L</span></span></div></div><p>The composition <code>qâ½â±â»Â¹â¾ âˆ˜ ... âˆ˜ qâ½â°â¾ âˆ˜ X</code>.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-AdditiveNTT.qCompositionChain" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="AdditiveNTT.qCompositionChain_eq_foldl"><div class="theorem"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.lean#L329-L350">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.qCompositionChain_eq_foldl"><span class="name">AdditiveNTT</span>.<span class="name">qCompositionChain_eq_foldl</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">r</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Data/NeZero.html#NeZero">NeZero</a> <span class="fn">r</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">L</span> : <a href="../../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ğ”½q</span> : <a href="../../../.././foundational_types.html">Type</a> u)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Algebra/Defs.html#Algebra">Algebra</a> <span class="fn">ğ”½q</span> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Î²</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">â„“ </span><span class="fn">R_rate </span><span class="fn">â„“âœ </span><span class="fn">R_rateâœ</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.qCompositionChain">qCompositionChain</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">â„“âœ</span> <span class="fn">R_rateâœ</span> <span class="fn">i</span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../../.././Init/Data/Fin/Fold.html#Fin.foldl">Fin.foldl</a> <span class="fn">(â†‘<span class="fn">i</span>)</span> <span class="fn">(fun (<span class="fn">acc</span> : <span class="fn"><a href="../../../.././Mathlib/Algebra/Polynomial/Basic.html#Polynomial">Polynomial</a> <span class="fn">L</span></span>) (<span class="fn">j</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">â†‘<span class="fn">i</span></span></span>) =&gt; <span class="fn"><span class="fn"><span class="fn">(<a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.qMap">qMap</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">â†‘<span class="fn">j</span></span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a>)</span>.<a href="../../../.././Mathlib/Algebra/Polynomial/Eval/Defs.html#Polynomial.comp">comp</a></span> <span class="fn">acc</span></span>)</span> <a href="../../../.././Mathlib/Algebra/Polynomial/Basic.html#Polynomial.X">Polynomial.X</a></span></div></div><p>Prove the equality between the recursive definition
of <code><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.qCompositionChain">qCompositionChain</a></code> and the Fin.foldl form.</p></div></div><div class="decl" id="AdditiveNTT.normalizedW_eq_qMap_composition"><div class="theorem"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.lean#L352-L393">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.normalizedW_eq_qMap_composition"><span class="name">AdditiveNTT</span>.<span class="name">normalizedW_eq_qMap_composition</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">r</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Data/NeZero.html#NeZero">NeZero</a> <span class="fn">r</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">L</span> : <a href="../../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Prelude.html#DecidableEq">DecidableEq</a> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ğ”½q</span> : <a href="../../../.././foundational_types.html">Type</a> u)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Algebra/Defs.html#Algebra">Algebra</a> <span class="fn">ğ”½q</span> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Î²</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_Wâ‚€_eq_X</span> : <span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/NovelPolynomialBasis.html#AdditiveNTT.W">W</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">0</span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a> <a href="../../../.././Mathlib/Algebra/Polynomial/Basic.html#Polynomial.X">Polynomial.X</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_Î²â‚€_eq_1</span> : <span class="fn"><span class="fn">Î²</span> <span class="fn">0</span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a> <span class="fn">1</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_Fq_card_gt_1</span> : <span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Card.html#Fintype.card">Fintype.card</a> <span class="fn">ğ”½q</span></span> <a href="../../../.././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn">1</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_Fq_char_prime</span> : <span class="fn"><a href="../../../.././Mathlib/Logic/Basic.html#Fact">Fact</a> <span class="fn">(<a href="../../../.././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">(<a href="../../../.././Mathlib/Algebra/CharP/Defs.html#ringChar">ringChar</a> <span class="fn">ğ”½q</span>)</span>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hÎ²_lin_indep</span> : <span class="fn"><a href="../../../.././Mathlib/LinearAlgebra/LinearIndependent/Defs.html#LinearIndependent">LinearIndependent</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">â„“ </span><span class="fn">R_rate</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/NovelPolynomialBasis.html#AdditiveNTT.normalizedW">normalizedW</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">i</span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.qCompositionChain">qCompositionChain</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">â„“</span> <span class="fn">R_rate</span> <span class="fn">i</span></span></div></div><p><strong>Corollary 4.4.</strong> For each <code>i âˆˆ {0, ..., r-1}</code>, we have <code>Å´áµ¢ = qâ½â±â»Â¹â¾ âˆ˜ ... âˆ˜ qâ½â°â¾</code>
(with the convention that for <code>i = 0</code>, this is just <code>X</code>).</p></div></div><div class="decl" id="AdditiveNTT.sDomainBasisVectors"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.lean#L395-L397">source</a></div><div class="decl_header"><span class="decl_kind">noncomputable def</span>
<span class="decl_name"><a class="break_within" href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.sDomainBasisVectors"><span class="name">AdditiveNTT</span>.<span class="name">sDomainBasisVectors</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">r</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Data/NeZero.html#NeZero">NeZero</a> <span class="fn">r</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">L</span> : <a href="../../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ğ”½q</span> : <a href="../../../.././foundational_types.html">Type</a> u)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Algebra/Defs.html#Algebra">Algebra</a> <span class="fn">ğ”½q</span> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Î²</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">â„“ </span><span class="fn">R_rate</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_â„“_add_R_rate</span> : <span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span> <a href="../../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">r</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span> <a href="../../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">â†‘<span class="fn">i</span></span>)</span> â†’ <span class="fn">L</span></span></div></div><p>The vectors <code>y_j^{(i)} = Å´áµ¢(Î²_j)</code> for <code>j âˆˆ {i, ..., â„“+R-1}</code>.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-AdditiveNTT.sDomainBasisVectors" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="AdditiveNTT.sDomainBasisVectors_mem_sDomain"><div class="theorem"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.lean#L399-L423">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.sDomainBasisVectors_mem_sDomain"><span class="name">AdditiveNTT</span>.<span class="name">sDomainBasisVectors_mem_sDomain</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">r</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Data/NeZero.html#NeZero">NeZero</a> <span class="fn">r</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">L</span> : <a href="../../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Prelude.html#DecidableEq">DecidableEq</a> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ğ”½q</span> : <a href="../../../.././foundational_types.html">Type</a> u)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Algebra/Defs.html#Algebra">Algebra</a> <span class="fn">ğ”½q</span> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Î²</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_Fq_card_gt_1</span> : <span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Card.html#Fintype.card">Fintype.card</a> <span class="fn">ğ”½q</span></span> <a href="../../../.././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn">1</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_Fq_char_prime</span> : <span class="fn"><a href="../../../.././Mathlib/Logic/Basic.html#Fact">Fact</a> <span class="fn">(<a href="../../../.././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">(<a href="../../../.././Mathlib/Algebra/CharP/Defs.html#ringChar">ringChar</a> <span class="fn">ğ”½q</span>)</span>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hÎ²_lin_indep</span> : <span class="fn"><a href="../../../.././Mathlib/LinearAlgebra/LinearIndependent/Defs.html#LinearIndependent">LinearIndependent</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">â„“ </span><span class="fn">R_rate</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_â„“_add_R_rate</span> : <span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span> <a href="../../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">r</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">k</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span> <a href="../../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">â†‘<span class="fn">i</span></span>)</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.sDomainBasisVectors">sDomainBasisVectors</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">â„“</span> <span class="fn">R_rate</span> <span class="fn">h_â„“_add_R_rate</span> <span class="fn">i</span> <span class="fn">k</span></span> <a href="../../../.././Init/Prelude.html#Membership.mem">âˆˆ</a>   <span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.sDomain">sDomain</a> <span class="fn">ğ”½q</span> <span class="fn">h_Fq_char_prime</span> <span class="fn">h_Fq_card_gt_1</span> <span class="fn">Î²</span> <span class="fn">hÎ²_lin_indep</span> <span class="fn">â„“</span> <span class="fn">R_rate</span> <span class="fn">h_â„“_add_R_rate</span> <span class="fn">i</span></span></div></div><p>The vectors <code><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.sDomainBasisVectors">sDomainBasisVectors</a></code> are indeed elements of the subspace <code><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.sDomain">sDomain</a></code>,
<code>âˆ€ i âˆˆ {0, ..., r-1}</code>.</p></div></div><div class="decl" id="AdditiveNTT.sBasis"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.lean#L425-L427">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.sBasis"><span class="name">AdditiveNTT</span>.<span class="name">sBasis</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">r</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">L</span> : <a href="../../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ğ”½q</span> : <a href="../../../.././foundational_types.html">Type</a> u)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Î²</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">â„“ </span><span class="fn">R_rate</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_â„“_add_R_rate</span> : <span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span> <a href="../../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">r</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_i</span> : <span class="fn">â†‘<span class="fn">i</span></span> <a href="../../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span> <a href="../../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">â†‘<span class="fn">i</span></span>)</span> â†’ <span class="fn">L</span></span></div></div><p>The S basis</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-AdditiveNTT.sBasis" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="AdditiveNTT.sBasis_range_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.lean#L430-L469">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.sBasis_range_eq"><span class="name">AdditiveNTT</span>.<span class="name">sBasis_range_eq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">r</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">L</span> : <a href="../../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ğ”½q</span> : <a href="../../../.././foundational_types.html">Type</a> u)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Î²</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">â„“ </span><span class="fn">R_rate</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_â„“_add_R_rate</span> : <span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span> <a href="../../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">r</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_i</span> : <span class="fn">â†‘<span class="fn">i</span></span> <a href="../../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">Î²</span> <a href="../../../.././Mathlib/Data/Set/Defs.html#Set.image">''</a> <span class="fn"><a href="../../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Ico">Set.Ico</a> <span class="fn">i</span> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span>, <span class="fn">h_â„“_add_R_rate</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a></span> <a href="../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../../.././Mathlib/Data/Set/Operations.html#Set.range">Set.range</a> <span class="fn">(<a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.sBasis">sBasis</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">â„“</span> <span class="fn">R_rate</span> <span class="fn">h_â„“_add_R_rate</span> <span class="fn">i</span> <span class="fn">h_i</span>)</span></span></div></div></div></div><div class="decl" id="AdditiveNTT.sDomain_eq_image_of_upper_span"><div class="theorem"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.lean#L471-L536">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.sDomain_eq_image_of_upper_span"><span class="name">AdditiveNTT</span>.<span class="name">sDomain_eq_image_of_upper_span</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">r</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Data/NeZero.html#NeZero">NeZero</a> <span class="fn">r</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">L</span> : <a href="../../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Prelude.html#DecidableEq">DecidableEq</a> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ğ”½q</span> : <a href="../../../.././foundational_types.html">Type</a> u)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h_Fq_char_prime</span> : <span class="fn"><a href="../../../.././Mathlib/Logic/Basic.html#Fact">Fact</a> <span class="fn">(<a href="../../../.././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">(<a href="../../../.././Mathlib/Algebra/CharP/Defs.html#ringChar">ringChar</a> <span class="fn">ğ”½q</span>)</span>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_Fq_card_gt_1</span> : <span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Card.html#Fintype.card">Fintype.card</a> <span class="fn">ğ”½q</span></span> <a href="../../../.././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn">1</span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Algebra/Defs.html#Algebra">Algebra</a> <span class="fn">ğ”½q</span> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Î²</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hÎ²_lin_indep</span> : <span class="fn"><a href="../../../.././Mathlib/LinearAlgebra/LinearIndependent/Defs.html#LinearIndependent">LinearIndependent</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">â„“ </span><span class="fn">R_rate</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_â„“_add_R_rate</span> : <span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span> <a href="../../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">r</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_i</span> : <span class="fn">â†‘<span class="fn">i</span></span> <a href="../../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">have <span class="fn">V_i</span> := <span class="fn"><a href="../../../.././Mathlib/LinearAlgebra/Span/Defs.html#Submodule.span">Submodule.span</a> <span class="fn">ğ”½q</span> <span class="fn">(<a href="../../../.././Mathlib/Data/Set/Operations.html#Set.range">Set.range</a> <span class="fn">(<a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.sBasis">sBasis</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">â„“</span> <span class="fn">R_rate</span> <span class="fn">h_â„“_add_R_rate</span> <span class="fn">i</span> <span class="fn">h_i</span>)</span>)</span></span>;
<span class="fn">have <span class="fn">W_i_map</span> := <span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/NovelPolynomialBasis.html#AdditiveNTT.polyEvalLinearMap">polyEvalLinearMap</a> <span class="fn">(<a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/NovelPolynomialBasis.html#AdditiveNTT.normalizedW">normalizedW</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">i</span>)</span> <span class="fn">â‹¯</span></span>;
<span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.sDomain">sDomain</a> <span class="fn">ğ”½q</span> <span class="fn">h_Fq_char_prime</span> <span class="fn">h_Fq_card_gt_1</span> <span class="fn">Î²</span> <span class="fn">hÎ²_lin_indep</span> <span class="fn">â„“</span> <span class="fn">R_rate</span> <span class="fn">h_â„“_add_R_rate</span> <span class="fn">i</span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../../.././Mathlib/Algebra/Module/Submodule/Map.html#Submodule.map">Submodule.map</a> <span class="fn">W_i_map</span> <span class="fn">V_i</span></span></span></span></div></div><p>Sâ½â±â¾ is the image over <code>Wáµ¢(X)</code> of the the subspace spanned by <code>{Î²áµ¢, ..., Î²_{â„“+R-1}}</code>.
Usable range is <code>âˆ€ i âˆˆ {0, ..., â„“+R-1}</code>.</p></div></div><div class="decl" id="AdditiveNTT.sDomain_basis"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.lean#L538-L667">source</a></div><div class="decl_header"><span class="decl_kind">noncomputable def</span>
<span class="decl_name"><a class="break_within" href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.sDomain_basis"><span class="name">AdditiveNTT</span>.<span class="name">sDomain_basis</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">r</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Data/NeZero.html#NeZero">NeZero</a> <span class="fn">r</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">L</span> : <a href="../../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Prelude.html#DecidableEq">DecidableEq</a> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ğ”½q</span> : <a href="../../../.././foundational_types.html">Type</a> u)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h_Fq_char_prime</span> : <span class="fn"><a href="../../../.././Mathlib/Logic/Basic.html#Fact">Fact</a> <span class="fn">(<a href="../../../.././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">(<a href="../../../.././Mathlib/Algebra/CharP/Defs.html#ringChar">ringChar</a> <span class="fn">ğ”½q</span>)</span>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_Fq_card_gt_1</span> : <span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Card.html#Fintype.card">Fintype.card</a> <span class="fn">ğ”½q</span></span> <a href="../../../.././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn">1</span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Algebra/Defs.html#Algebra">Algebra</a> <span class="fn">ğ”½q</span> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Î²</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hÎ²_lin_indep</span> : <span class="fn"><a href="../../../.././Mathlib/LinearAlgebra/LinearIndependent/Defs.html#LinearIndependent">LinearIndependent</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">â„“ </span><span class="fn">R_rate</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_â„“_add_R_rate</span> : <span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span> <a href="../../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">r</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_i</span> : <span class="fn">â†‘<span class="fn">i</span></span> <a href="../../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../.././Mathlib/LinearAlgebra/Basis/Defs.html#Module.Basis">Module.Basis</a> <span class="fn">(<a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span> <a href="../../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">â†‘<span class="fn">i</span></span>))</span> <span class="fn">ğ”½q</span>
  <span class="fn">â†¥<span class="fn">(<a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.sDomain">sDomain</a> <span class="fn">ğ”½q</span> <span class="fn">h_Fq_char_prime</span> <span class="fn">h_Fq_card_gt_1</span> <span class="fn">Î²</span> <span class="fn">hÎ²_lin_indep</span> <span class="fn">â„“</span> <span class="fn">R_rate</span> <span class="fn">h_â„“_add_R_rate</span> <span class="fn">i</span>)</span></span></span></div></div><p><strong>Corollary 4.5.</strong> The set <code>{Å´áµ¢(Î²áµ¢), ..., Å´áµ¢(Î²_{â„“+R-1})}</code> is an <code>ğ”½q</code>-basis for <code>Sâ½â±â¾</code>.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-AdditiveNTT.sDomain_basis" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="mod_doc"><h3 class="markdown-heading" id="2-Intermediate-Novel-Polynomial-Bases-Xâ±¼-â±-and-evaluation-polynomials-P-â±">2. Intermediate Novel Polynomial Bases <code>Xâ±¼â½â±â¾</code>  and evaluation polynomials <code>Pâ½â±â¾</code> <a class="hover-link" href="#2-Intermediate-Novel-Polynomial-Bases-Xâ±¼-â±-and-evaluation-polynomials-P-â±">#</a></h3></div><div class="decl" id="AdditiveNTT.intermediateNormVpoly"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.lean#L671-L680">source</a></div><div class="decl_header"><span class="decl_kind">noncomputable def</span>
<span class="decl_name"><a class="break_within" href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.intermediateNormVpoly"><span class="name">AdditiveNTT</span>.<span class="name">intermediateNormVpoly</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">r</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Data/NeZero.html#NeZero">NeZero</a> <span class="fn">r</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">L</span> : <a href="../../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ğ”½q</span> : <a href="../../../.././foundational_types.html">Type</a> u)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Algebra/Defs.html#Algebra">Algebra</a> <span class="fn">ğ”½q</span> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Î²</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">â„“ </span><span class="fn">R_rate</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_â„“_add_R_rate</span> : <span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span> <a href="../../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">r</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">k</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">â†‘<span class="fn">i</span></span>)</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../.././Mathlib/Algebra/Polynomial/Basic.html#Polynomial">Polynomial</a> <span class="fn">L</span></span></div></div><p><code>âˆ€ i âˆˆ {0, ..., â„“}</code>, The <code>i</code>-th order subspace vanishing polynomials <code>Å´â‚–â½â±â¾</code>,
<code>Å´â‚–â½â±â¾ := qâ½â±âºáµâ»Â¹â¾ âˆ˜ â‹¯ âˆ˜ qâ½â±â¾</code> for <code>k âˆˆ {1, ..., â„“ - i -1}</code>, and <code>X</code> for <code>k = 0</code>.
-- k âˆˆ {0, ..., â„“-i-1}</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-AdditiveNTT.intermediateNormVpoly" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="AdditiveNTT.base_intermediateNormVpoly"><div class="theorem"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.lean#L699-L716">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.base_intermediateNormVpoly"><span class="name">AdditiveNTT</span>.<span class="name">base_intermediateNormVpoly</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">r</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Data/NeZero.html#NeZero">NeZero</a> <span class="fn">r</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">L</span> : <a href="../../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Prelude.html#DecidableEq">DecidableEq</a> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ğ”½q</span> : <a href="../../../.././foundational_types.html">Type</a> u)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Algebra/Defs.html#Algebra">Algebra</a> <span class="fn">ğ”½q</span> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Î²</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">â„“ </span><span class="fn">R_rate</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_â„“_add_R_rate</span> : <span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span> <a href="../../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">r</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_Wâ‚€_eq_X</span> : <span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/NovelPolynomialBasis.html#AdditiveNTT.W">W</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">0</span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a> <a href="../../../.././Mathlib/Algebra/Polynomial/Basic.html#Polynomial.X">Polynomial.X</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_Î²â‚€_eq_1</span> : <span class="fn"><span class="fn">Î²</span> <span class="fn">0</span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a> <span class="fn">1</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_Fq_card_gt_1</span> : <span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Card.html#Fintype.card">Fintype.card</a> <span class="fn">ğ”½q</span></span> <a href="../../../.././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn">1</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_Fq_char_prime</span> : <span class="fn"><a href="../../../.././Mathlib/Logic/Basic.html#Fact">Fact</a> <span class="fn">(<a href="../../../.././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">(<a href="../../../.././Mathlib/Algebra/CharP/Defs.html#ringChar">ringChar</a> <span class="fn">ğ”½q</span>)</span>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hÎ²_lin_indep</span> : <span class="fn"><a href="../../../.././Mathlib/LinearAlgebra/LinearIndependent/Defs.html#LinearIndependent">LinearIndependent</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">k</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">â„“</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.intermediateNormVpoly">intermediateNormVpoly</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">â„“</span> <span class="fn">R_rate</span> <span class="fn">h_â„“_add_R_rate</span> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">0</span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a> <span class="fn">k</span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/NovelPolynomialBasis.html#AdditiveNTT.normalizedW">normalizedW</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">â†‘<span class="fn">k</span></span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a></span></div></div></div></div><div class="decl" id="AdditiveNTT.Polynomial.foldl_comp"><div class="theorem"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.lean#L733-L747">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.Polynomial.foldl_comp"><span class="name">AdditiveNTT</span>.<span class="name">Polynomial</span>.<span class="name">foldl_comp</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">L</span> : <a href="../../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">n</span></span> â†’ <span class="fn"><a href="../../../.././Mathlib/Algebra/Polynomial/Basic.html#Polynomial">Polynomial</a> <span class="fn">L</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">initInner </span><span class="fn">initOuter</span> : <span class="fn"><a href="../../../.././Mathlib/Algebra/Polynomial/Basic.html#Polynomial">Polynomial</a> <span class="fn">L</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../.././Init/Data/Fin/Fold.html#Fin.foldl">Fin.foldl</a> <span class="fn">n</span> <span class="fn">(fun (<span class="fn">acc</span> : <span class="fn"><a href="../../../.././Mathlib/Algebra/Polynomial/Basic.html#Polynomial">Polynomial</a> <span class="fn">L</span></span>) (<span class="fn">j</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">n</span></span>) =&gt; <span class="fn"><span class="fn"><span class="fn">(<span class="fn">f</span> <span class="fn">j</span>)</span>.<a href="../../../.././Mathlib/Algebra/Polynomial/Eval/Defs.html#Polynomial.comp">comp</a></span> <span class="fn">acc</span></span>)</span> <span class="fn">(<span class="fn"><span class="fn">initOuter</span>.<a href="../../../.././Mathlib/Algebra/Polynomial/Eval/Defs.html#Polynomial.comp">comp</a></span> <span class="fn">initInner</span>)</span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><span class="fn"><span class="fn">(<a href="../../../.././Init/Data/Fin/Fold.html#Fin.foldl">Fin.foldl</a> <span class="fn">n</span> <span class="fn">(fun (<span class="fn">acc</span> : <span class="fn"><a href="../../../.././Mathlib/Algebra/Polynomial/Basic.html#Polynomial">Polynomial</a> <span class="fn">L</span></span>) (<span class="fn">j</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">n</span></span>) =&gt; <span class="fn"><span class="fn"><span class="fn">(<span class="fn">f</span> <span class="fn">j</span>)</span>.<a href="../../../.././Mathlib/Algebra/Polynomial/Eval/Defs.html#Polynomial.comp">comp</a></span> <span class="fn">acc</span></span>)</span> <span class="fn">initOuter</span>)</span>.<a href="../../../.././Mathlib/Algebra/Polynomial/Eval/Defs.html#Polynomial.comp">comp</a></span> <span class="fn">initInner</span></span></div></div></div></div><div class="decl" id="AdditiveNTT.Polynomial.comp_same_inner_eq_if_same_outer"><div class="theorem"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.lean#L750-L753">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.Polynomial.comp_same_inner_eq_if_same_outer"><span class="name">AdditiveNTT</span>.<span class="name">Polynomial</span>.<span class="name">comp_same_inner_eq_if_same_outer</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">L</span> : <a href="../../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f </span><span class="fn">g</span> : <span class="fn"><a href="../../../.././Mathlib/Algebra/Polynomial/Basic.html#Polynomial">Polynomial</a> <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_f_eq_g</span> : <span class="fn">f</span> <a href="../../../.././Init/Prelude.html#Eq">=</a> <span class="fn">g</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../../.././Mathlib/Algebra/Polynomial/Basic.html#Polynomial">Polynomial</a> <span class="fn">L</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">f</span>.<a href="../../../.././Mathlib/Algebra/Polynomial/Eval/Defs.html#Polynomial.comp">comp</a></span> <span class="fn">x</span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">g</span>.<a href="../../../.././Mathlib/Algebra/Polynomial/Eval/Defs.html#Polynomial.comp">comp</a></span> <span class="fn">x</span></span></div></div></div></div><div class="decl" id="AdditiveNTT.intermediateNormVpoly_comp_qmap"><div class="theorem"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.lean#L757-L776">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.intermediateNormVpoly_comp_qmap"><span class="name">AdditiveNTT</span>.<span class="name">intermediateNormVpoly_comp_qmap</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">r</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Data/NeZero.html#NeZero">NeZero</a> <span class="fn">r</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">L</span> : <a href="../../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ğ”½q</span> : <a href="../../../.././foundational_types.html">Type</a> u)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Algebra/Defs.html#Algebra">Algebra</a> <span class="fn">ğ”½q</span> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Î²</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">â„“ </span><span class="fn">R_rate</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_â„“_add_R_rate</span> : <span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span> <a href="../../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">r</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">â„“</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">k</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">â†‘<span class="fn">i</span></span> <a href="../../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">1</span>)</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.intermediateNormVpoly">intermediateNormVpoly</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">â„“</span> <span class="fn">R_rate</span> <span class="fn">h_â„“_add_R_rate</span> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">â†‘<span class="fn">i</span></span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">â†‘<span class="fn">k</span></span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a></span> <a href="../../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><span class="fn"><span class="fn">(<a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.intermediateNormVpoly">intermediateNormVpoly</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">â„“</span> <span class="fn">R_rate</span> <span class="fn">h_â„“_add_R_rate</span> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">â†‘<span class="fn">i</span></span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">â†‘<span class="fn">k</span></span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a>)</span>.<a href="../../../.././Mathlib/Algebra/Polynomial/Eval/Defs.html#Polynomial.comp">comp</a></span> <span class="fn">(<a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.qMap">qMap</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">â†‘<span class="fn">i</span></span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a>)</span></span></div></div></div></div><div class="decl" id="AdditiveNTT.intermediateNormVpoly_comp_qmap_helper"><div class="theorem"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.lean#L781-L788">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.intermediateNormVpoly_comp_qmap_helper"><span class="name">AdditiveNTT</span>.<span class="name">intermediateNormVpoly_comp_qmap_helper</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">r</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Data/NeZero.html#NeZero">NeZero</a> <span class="fn">r</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">L</span> : <a href="../../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ğ”½q</span> : <a href="../../../.././foundational_types.html">Type</a> u)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Algebra/Defs.html#Algebra">Algebra</a> <span class="fn">ğ”½q</span> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Î²</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">â„“ </span><span class="fn">R_rate</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_â„“_add_R_rate</span> : <span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span> <a href="../../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">r</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">â„“</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">k</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HSub.hSub">-</a> (<span class="fn">â†‘<span class="fn">i</span></span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>))</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">(<a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.intermediateNormVpoly">intermediateNormVpoly</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">â„“</span> <span class="fn">R_rate</span> <span class="fn">h_â„“_add_R_rate</span> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">â†‘<span class="fn">i</span></span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a> <span class="fn">k</span>)</span>.<a href="../../../.././Mathlib/Algebra/Polynomial/Eval/Defs.html#Polynomial.comp">comp</a></span> <span class="fn">(<a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.qMap">qMap</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">â†‘<span class="fn">i</span></span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a>)</span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.intermediateNormVpoly">intermediateNormVpoly</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">â„“</span> <span class="fn">R_rate</span> <span class="fn">h_â„“_add_R_rate</span> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">â†‘<span class="fn">i</span></span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">â†‘<span class="fn">k</span></span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a></span></div></div></div></div><div class="decl" id="AdditiveNTT.intermediateNovelBasisX"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.lean#L790-L794">source</a></div><div class="decl_header"><span class="decl_kind">noncomputable def</span>
<span class="decl_name"><a class="break_within" href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.intermediateNovelBasisX"><span class="name">AdditiveNTT</span>.<span class="name">intermediateNovelBasisX</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">r</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Data/NeZero.html#NeZero">NeZero</a> <span class="fn">r</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">L</span> : <a href="../../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ğ”½q</span> : <a href="../../../.././foundational_types.html">Type</a> u)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Algebra/Defs.html#Algebra">Algebra</a> <span class="fn">ğ”½q</span> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Î²</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">â„“ </span><span class="fn">R_rate</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_â„“_add_R_rate</span> : <span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span> <a href="../../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">r</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">j</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">2</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> (<span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">â†‘<span class="fn">i</span></span>))</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../.././Mathlib/Algebra/Polynomial/Basic.html#Polynomial">Polynomial</a> <span class="fn">L</span></span></div></div><p>âˆ€ <code>i</code> âˆˆ {0, ..., â„“}, The <code>i</code>-th order novel polynomial basis <code>Xâ±¼â½â±â¾</code>.
<code>Xâ±¼â½â±â¾ := Î _{k=0}^{â„“-i-1} (Å´â‚–â½â±â¾)^{jâ‚–}</code>, âˆ€ j âˆˆ {0, ..., 2^(â„“-i)-1}</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-AdditiveNTT.intermediateNovelBasisX" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="AdditiveNTT.base_intermediateNovelBasisX"><div class="theorem"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.lean#L798-L819">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.base_intermediateNovelBasisX"><span class="name">AdditiveNTT</span>.<span class="name">base_intermediateNovelBasisX</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">r</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Data/NeZero.html#NeZero">NeZero</a> <span class="fn">r</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">L</span> : <a href="../../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Prelude.html#DecidableEq">DecidableEq</a> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ğ”½q</span> : <a href="../../../.././foundational_types.html">Type</a> u)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Algebra/Defs.html#Algebra">Algebra</a> <span class="fn">ğ”½q</span> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Î²</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">â„“ </span><span class="fn">R_rate</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_â„“_add_R_rate</span> : <span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span> <a href="../../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">r</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_Wâ‚€_eq_X</span> : <span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/NovelPolynomialBasis.html#AdditiveNTT.W">W</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">0</span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a> <a href="../../../.././Mathlib/Algebra/Polynomial/Basic.html#Polynomial.X">Polynomial.X</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_Î²â‚€_eq_1</span> : <span class="fn"><span class="fn">Î²</span> <span class="fn">0</span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a> <span class="fn">1</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_Fq_card_gt_1</span> : <span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Card.html#Fintype.card">Fintype.card</a> <span class="fn">ğ”½q</span></span> <a href="../../../.././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn">1</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_Fq_char_prime</span> : <span class="fn"><a href="../../../.././Mathlib/Logic/Basic.html#Fact">Fact</a> <span class="fn">(<a href="../../../.././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">(<a href="../../../.././Mathlib/Algebra/CharP/Defs.html#ringChar">ringChar</a> <span class="fn">ğ”½q</span>)</span>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hÎ²_lin_indep</span> : <span class="fn"><a href="../../../.././Mathlib/LinearAlgebra/LinearIndependent/Defs.html#LinearIndependent">LinearIndependent</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">j</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">2</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">â„“</span>)</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.intermediateNovelBasisX">intermediateNovelBasisX</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">â„“</span> <span class="fn">R_rate</span> <span class="fn">h_â„“_add_R_rate</span> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">0</span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a> <span class="fn">j</span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/NovelPolynomialBasis.html#AdditiveNTT.Xâ±¼">Xâ±¼</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">â„“</span> <span class="fn">â‹¯</span> <span class="fn">j</span></span></div></div></div></div><div class="decl" id="AdditiveNTT.even_index_intermediate_novel_basis_decomposition"><div class="theorem"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.lean#L822-L876">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.even_index_intermediate_novel_basis_decomposition"><span class="name">AdditiveNTT</span>.<span class="name">even_index_intermediate_novel_basis_decomposition</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">r</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Data/NeZero.html#NeZero">NeZero</a> <span class="fn">r</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">L</span> : <a href="../../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ğ”½q</span> : <a href="../../../.././foundational_types.html">Type</a> u)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Algebra/Defs.html#Algebra">Algebra</a> <span class="fn">ğ”½q</span> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Î²</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">â„“ </span><span class="fn">R_rate</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_â„“_add_R_rate</span> : <span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span> <a href="../../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">r</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">â„“</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">j</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">2</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> (<span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">â†‘<span class="fn">i</span></span> <a href="../../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">1</span>))</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.intermediateNovelBasisX">intermediateNovelBasisX</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">â„“</span> <span class="fn">R_rate</span> <span class="fn">h_â„“_add_R_rate</span> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">â†‘<span class="fn">i</span></span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">â†‘<span class="fn">j</span></span> <a href="../../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">2</span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a></span> <a href="../../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><span class="fn"><span class="fn">(<a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.intermediateNovelBasisX">intermediateNovelBasisX</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">â„“</span> <span class="fn">R_rate</span> <span class="fn">h_â„“_add_R_rate</span> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">â†‘<span class="fn">i</span></span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">â†‘<span class="fn">j</span></span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a>)</span>.<a href="../../../.././Mathlib/Algebra/Polynomial/Eval/Defs.html#Polynomial.comp">comp</a></span> <span class="fn">(<a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.qMap">qMap</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">â†‘<span class="fn">i</span></span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a>)</span></span></div></div><p><code>Xâ‚‚â±¼â½â±â¾ = Xâ±¼â½â±âºÂ¹â¾(qâ½â±â¾(X)) âˆ€ j âˆˆ {0, ..., 2^(â„“-i)-1}, âˆ€ i âˆˆ {0, ..., â„“-1}</code></p></div></div><div class="decl" id="AdditiveNTT.odd_index_intermediate_novel_basis_decomposition"><div class="theorem"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.lean#L879-L940">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.odd_index_intermediate_novel_basis_decomposition"><span class="name">AdditiveNTT</span>.<span class="name">odd_index_intermediate_novel_basis_decomposition</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">r</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Data/NeZero.html#NeZero">NeZero</a> <span class="fn">r</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">L</span> : <a href="../../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ğ”½q</span> : <a href="../../../.././foundational_types.html">Type</a> u)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Algebra/Defs.html#Algebra">Algebra</a> <span class="fn">ğ”½q</span> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Î²</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">â„“ </span><span class="fn">R_rate</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_â„“_add_R_rate</span> : <span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span> <a href="../../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">r</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">â„“</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">j</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">2</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> (<span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">â†‘<span class="fn">i</span></span> <a href="../../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">1</span>))</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.intermediateNovelBasisX">intermediateNovelBasisX</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">â„“</span> <span class="fn">R_rate</span> <span class="fn">h_â„“_add_R_rate</span> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">â†‘<span class="fn">i</span></span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">â†‘<span class="fn">j</span></span> <a href="../../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">2</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a></span> <a href="../../../.././Init/Prelude.html#Eq">=</a>   <a href="../../../.././Mathlib/Algebra/Polynomial/Basic.html#Polynomial.X">Polynomial.X</a> <a href="../../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><span class="fn"><span class="fn">(<a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.intermediateNovelBasisX">intermediateNovelBasisX</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">â„“</span> <span class="fn">R_rate</span> <span class="fn">h_â„“_add_R_rate</span> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">â†‘<span class="fn">i</span></span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">â†‘<span class="fn">j</span></span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a>)</span>.<a href="../../../.././Mathlib/Algebra/Polynomial/Eval/Defs.html#Polynomial.comp">comp</a></span> <span class="fn">(<a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.qMap">qMap</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">â†‘<span class="fn">i</span></span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a>)</span></span></div></div><p><code>Xâ‚‚â±¼â‚Šâ‚â½â±â¾ = X * (Xâ±¼â½â±âºÂ¹â¾(qâ½â±â¾(X))) âˆ€ j âˆˆ {0, ..., 2^(â„“-i)-1}, âˆ€ i âˆˆ {0, ..., â„“-1}</code></p></div></div><div class="decl" id="AdditiveNTT.intermediateEvaluationPoly"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.lean#L942-L951">source</a></div><div class="decl_header"><span class="decl_kind">noncomputable def</span>
<span class="decl_name"><a class="break_within" href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.intermediateEvaluationPoly"><span class="name">AdditiveNTT</span>.<span class="name">intermediateEvaluationPoly</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">r</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Data/NeZero.html#NeZero">NeZero</a> <span class="fn">r</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">L</span> : <a href="../../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ğ”½q</span> : <a href="../../../.././foundational_types.html">Type</a> u)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Algebra/Defs.html#Algebra">Algebra</a> <span class="fn">ğ”½q</span> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Î²</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">â„“ </span><span class="fn">R_rate</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_â„“_add_R_rate</span> : <span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span> <a href="../../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">r</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">coeffs</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">2</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> (<span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">â†‘<span class="fn">i</span></span>))</span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../.././Mathlib/Algebra/Polynomial/Basic.html#Polynomial">Polynomial</a> <span class="fn">L</span></span></div></div><p>âˆ€ <code>i</code> âˆˆ {0, ..., â„“}, The <code>i</code>-th order evaluation polynomial
<code>Pâ½â±â¾(X) := âˆ‘_{j=0}^{2^(â„“-i)-1} coeffsâ±¼ â‹… Xâ±¼â½â±â¾(X)</code> over the domain <code>Sâ½â±â¾</code>.
where the polynomial <code>Pâ½â°â¾(X)</code> over the domain <code>Sâ½â°â¾</code> is exactly the original
polynomial <code>P(X)</code> we need to evaluate,
and <code>coeffs</code> is the list of <code>2^(â„“-i)</code> coefficients of the polynomial.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-AdditiveNTT.intermediateEvaluationPoly" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="AdditiveNTT.evenRefinement"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.lean#L953-L961">source</a></div><div class="decl_header"><span class="decl_kind">noncomputable def</span>
<span class="decl_name"><a class="break_within" href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.evenRefinement"><span class="name">AdditiveNTT</span>.<span class="name">evenRefinement</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">r</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Data/NeZero.html#NeZero">NeZero</a> <span class="fn">r</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">L</span> : <a href="../../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ğ”½q</span> : <a href="../../../.././foundational_types.html">Type</a> u)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Algebra/Defs.html#Algebra">Algebra</a> <span class="fn">ğ”½q</span> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Î²</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">â„“ </span><span class="fn">R_rate</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_â„“_add_R_rate</span> : <span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span> <a href="../../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">r</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">â„“</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">coeffs</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">2</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> (<span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">â†‘<span class="fn">i</span></span>))</span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../.././Mathlib/Algebra/Polynomial/Basic.html#Polynomial">Polynomial</a> <span class="fn">L</span></span></div></div><p>The even and odd refinements of <code>Pâ½â±â¾(X)</code> which are polynomials in the <code>(i+1)</code>-th basis.
<code>Pâ‚€â½â±âºÂ¹â¾(Y) = âˆ‘_{j=0}^{2^{â„“-i-1}-1} a_{2j} â‹… Xâ±¼â½â±âºÂ¹â¾(Y)</code>
<code>Pâ‚â½â±âºÂ¹â¾(Y) = âˆ‘_{j=0}^{2^{â„“-i-1}-1} a_{2j+1} â‹… Xâ±¼â½â±âºÂ¹â¾(Y)</code></p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-AdditiveNTT.evenRefinement" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="AdditiveNTT.oddRefinement"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.lean#L963-L968">source</a></div><div class="decl_header"><span class="decl_kind">noncomputable def</span>
<span class="decl_name"><a class="break_within" href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.oddRefinement"><span class="name">AdditiveNTT</span>.<span class="name">oddRefinement</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">r</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Data/NeZero.html#NeZero">NeZero</a> <span class="fn">r</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">L</span> : <a href="../../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ğ”½q</span> : <a href="../../../.././foundational_types.html">Type</a> u)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Algebra/Defs.html#Algebra">Algebra</a> <span class="fn">ğ”½q</span> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Î²</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">â„“ </span><span class="fn">R_rate</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_â„“_add_R_rate</span> : <span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span> <a href="../../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">r</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">â„“</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">coeffs</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">2</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> (<span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">â†‘<span class="fn">i</span></span>))</span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../.././Mathlib/Algebra/Polynomial/Basic.html#Polynomial">Polynomial</a> <span class="fn">L</span></span></div></div><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-AdditiveNTT.oddRefinement" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="AdditiveNTT.evaluation_poly_split_identity"><div class="theorem"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.lean#L970-L1140">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.evaluation_poly_split_identity"><span class="name">AdditiveNTT</span>.<span class="name">evaluation_poly_split_identity</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">r</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Data/NeZero.html#NeZero">NeZero</a> <span class="fn">r</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">L</span> : <a href="../../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Prelude.html#DecidableEq">DecidableEq</a> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ğ”½q</span> : <a href="../../../.././foundational_types.html">Type</a> u)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Algebra/Defs.html#Algebra">Algebra</a> <span class="fn">ğ”½q</span> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Î²</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">â„“ </span><span class="fn">R_rate</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_â„“_add_R_rate</span> : <span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span> <a href="../../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">r</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">â„“</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">coeffs</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">2</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> (<span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">â†‘<span class="fn">i</span></span>))</span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">have <span class="fn">P_i</span> := <span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.intermediateEvaluationPoly">intermediateEvaluationPoly</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">â„“</span> <span class="fn">R_rate</span> <span class="fn">h_â„“_add_R_rate</span> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">â†‘<span class="fn">i</span></span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a> <span class="fn">coeffs</span></span>;
<span class="fn">have <span class="fn">P_even_i_plus_1</span> := <span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.evenRefinement">evenRefinement</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">â„“</span> <span class="fn">R_rate</span> <span class="fn">h_â„“_add_R_rate</span> <span class="fn">i</span> <span class="fn">coeffs</span></span>;
<span class="fn">have <span class="fn">P_odd_i_plus_1</span> := <span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.oddRefinement">oddRefinement</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">â„“</span> <span class="fn">R_rate</span> <span class="fn">h_â„“_add_R_rate</span> <span class="fn">i</span> <span class="fn">coeffs</span></span>;
<span class="fn">have <span class="fn">q_i</span> := <span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.qMap">qMap</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">â†‘<span class="fn">i</span></span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a></span>;
<span class="fn">P_i</span> <a href="../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">P_even_i_plus_1</span>.<a href="../../../.././Mathlib/Algebra/Polynomial/Eval/Defs.html#Polynomial.comp">comp</a></span> <span class="fn">q_i</span></span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <a href="../../../.././Mathlib/Algebra/Polynomial/Basic.html#Polynomial.X">Polynomial.X</a> <a href="../../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><span class="fn"><span class="fn">P_odd_i_plus_1</span>.<a href="../../../.././Mathlib/Algebra/Polynomial/Eval/Defs.html#Polynomial.comp">comp</a></span> <span class="fn">q_i</span></span></span></span></span></span></div></div><p><strong>Key Polynomial Identity (Equation 39)</strong>. This identity is the foundation for the
butterfly operation in the Additive NTT. It relates a polynomial in the <code>i</code>-th basis to
its even and odd parts expressed in the <code>(i+1)</code>-th basis via the quotient map <code>qâ½â±â¾</code>.
<code>âˆ€ i âˆˆ {0, ..., â„“-1}, Pâ½â±â¾(X) = Pâ‚€â½â±âºÂ¹â¾(qâ½â±â¾(X)) + X â‹… Pâ‚â½â±âºÂ¹â¾(qâ½â±â¾(X))</code></p></div></div><div class="decl" id="AdditiveNTT.intermediate_poly_P_base"><div class="theorem"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.lean#L1143-L1158">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.intermediate_poly_P_base"><span class="name">AdditiveNTT</span>.<span class="name">intermediate_poly_P_base</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">r</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Data/NeZero.html#NeZero">NeZero</a> <span class="fn">r</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">L</span> : <a href="../../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Prelude.html#DecidableEq">DecidableEq</a> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ğ”½q</span> : <a href="../../../.././foundational_types.html">Type</a> u)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Algebra/Defs.html#Algebra">Algebra</a> <span class="fn">ğ”½q</span> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Î²</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">â„“ </span><span class="fn">R_rate</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_â„“_add_R_rate</span> : <span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span> <a href="../../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">r</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_Wâ‚€_eq_X</span> : <span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/NovelPolynomialBasis.html#AdditiveNTT.W">W</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">0</span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a> <a href="../../../.././Mathlib/Algebra/Polynomial/Basic.html#Polynomial.X">Polynomial.X</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_Î²â‚€_eq_1</span> : <span class="fn"><span class="fn">Î²</span> <span class="fn">0</span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a> <span class="fn">1</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_Fq_card_gt_1</span> : <span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Card.html#Fintype.card">Fintype.card</a> <span class="fn">ğ”½q</span></span> <a href="../../../.././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn">1</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_Fq_char_prime</span> : <span class="fn"><a href="../../../.././Mathlib/Logic/Basic.html#Fact">Fact</a> <span class="fn">(<a href="../../../.././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">(<a href="../../../.././Mathlib/Algebra/CharP/Defs.html#ringChar">ringChar</a> <span class="fn">ğ”½q</span>)</span>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hÎ²_lin_indep</span> : <span class="fn"><a href="../../../.././Mathlib/LinearAlgebra/LinearIndependent/Defs.html#LinearIndependent">LinearIndependent</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_â„“</span> : <span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#LE.le">â‰¤</a> <span class="fn">r</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">coeffs</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">2</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">â„“</span>)</span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.intermediateEvaluationPoly">intermediateEvaluationPoly</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">â„“</span> <span class="fn">R_rate</span> <span class="fn">h_â„“_add_R_rate</span> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">0</span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a> <span class="fn">coeffs</span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/NovelPolynomialBasis.html#AdditiveNTT.polynomialFromNovelCoeffs">polynomialFromNovelCoeffs</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">â„“</span> <span class="fn">h_â„“</span> <span class="fn">coeffs</span></span></div></div></div></div><div class="mod_doc"><h2 class="markdown-heading" id="2-The-Additive-NTT-Algorithm-and-Correctness">2. The Additive NTT Algorithm and Correctness <a class="hover-link" href="#2-The-Additive-NTT-Algorithm-and-Correctness">#</a></h2><p>This section describes the construction of the evaluation points,
the tiling of coefficients, the main loop invariant, and the final
correctness theorem for the Additive NTT algorithm.</p></div><div class="decl" id="AdditiveNTT.evaluationPointÏ‰"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.lean#L1171-L1186">source</a></div><div class="decl_header"><span class="decl_kind">noncomputable def</span>
<span class="decl_name"><a class="break_within" href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.evaluationPointÏ‰"><span class="name">AdditiveNTT</span>.<span class="name">evaluationPointÏ‰</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">r</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Data/NeZero.html#NeZero">NeZero</a> <span class="fn">r</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">L</span> : <a href="../../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ğ”½q</span> : <a href="../../../.././foundational_types.html">Type</a> u)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Algebra/Defs.html#Algebra">Algebra</a> <span class="fn">ğ”½q</span> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Î²</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">â„“ </span><span class="fn">R_rate</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_â„“_add_R_rate</span> : <span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span> <a href="../../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">r</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">2</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> (<span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span> <a href="../../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">â†‘<span class="fn">i</span></span>))</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">L</span></div></div><p>Constructs an evaluation point <code>Ï‰</code> in the domain <code>Sâ½â±â¾</code> from a Nat.getBit representation.
This uses the <code>ğ”½q</code>-basis of <code>Sâ½â±â¾</code> from <code><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.sDomain_basis">sDomain_basis</a></code>.
<code>Ï‰_{u,b,i} = bâ‹…Å´áµ¢(Î²áµ¢) + âˆ‘_{k=0}^{|u|-1} uâ‚– â‹… Å´áµ¢(Î²_{i+1+k})</code>
where <code>(u,b)</code> is a Nat.getBit string of length <code>â„“ + R - i</code>.
Computes the twiddle factor <code>t</code> for a given stage <code>i</code> and high-order bits <code>u</code>.
<code>t := Î£_{k=0}^{â„“+R-i-1} u_k â‹… Å´áµ¢(Î²_{i+k})</code>.
This corresponds to the <code>xâ‚€</code> term in the recursive butterfly identity.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-AdditiveNTT.evaluationPointÏ‰" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="AdditiveNTT.twiddleFactor"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.lean#L1188-L1195">source</a></div><div class="decl_header"><span class="decl_kind">noncomputable def</span>
<span class="decl_name"><a class="break_within" href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.twiddleFactor"><span class="name">AdditiveNTT</span>.<span class="name">twiddleFactor</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">r</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Data/NeZero.html#NeZero">NeZero</a> <span class="fn">r</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">L</span> : <a href="../../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ğ”½q</span> : <a href="../../../.././foundational_types.html">Type</a> u)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Algebra/Defs.html#Algebra">Algebra</a> <span class="fn">ğ”½q</span> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Î²</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">â„“ </span><span class="fn">R_rate</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_â„“_add_R_rate</span> : <span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span> <a href="../../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">r</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">â„“</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">u</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">2</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> (<span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span> <a href="../../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">â†‘<span class="fn">i</span></span> <a href="../../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">1</span>))</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">L</span></div></div><p>The twiddle factor</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-AdditiveNTT.twiddleFactor" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="AdditiveNTT.evaluationPointÏ‰_eq_twiddleFactor_of_div_2"><div class="theorem"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.lean#L1200-L1252">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.evaluationPointÏ‰_eq_twiddleFactor_of_div_2"><span class="name">AdditiveNTT</span>.<span class="name">evaluationPointÏ‰_eq_twiddleFactor_of_div_2</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">r</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Data/NeZero.html#NeZero">NeZero</a> <span class="fn">r</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">L</span> : <a href="../../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ğ”½q</span> : <a href="../../../.././foundational_types.html">Type</a> u)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Algebra/Defs.html#Algebra">Algebra</a> <span class="fn">ğ”½q</span> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Î²</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">â„“ </span><span class="fn">R_rate</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_â„“_add_R_rate</span> : <span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span> <a href="../../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">r</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">â„“</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">2</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> (<span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span> <a href="../../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">â†‘<span class="fn">i</span></span>))</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.evaluationPointÏ‰">evaluationPointÏ‰</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">â„“</span> <span class="fn">R_rate</span> <span class="fn">h_â„“_add_R_rate</span> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">â†‘<span class="fn">i</span></span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a> <span class="fn">x</span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.twiddleFactor">twiddleFactor</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">â„“</span> <span class="fn">R_rate</span> <span class="fn">h_â„“_add_R_rate</span> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">â†‘<span class="fn">i</span></span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">â†‘<span class="fn">x</span></span> <a href="../../../.././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">2</span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a></span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a>     <span class="fn">â†‘(<span class="fn">â†‘<span class="fn">x</span></span> <a href="../../../.././Init/Prelude.html#HMod.hMod">%</a> <span class="fn">2</span>)</span> <a href="../../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href="../../../.././Mathlib/Algebra/Polynomial/Eval/Defs.html#Polynomial.eval">Polynomial.eval</a> <span class="fn">(<span class="fn">Î²</span> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">â†‘<span class="fn">i</span></span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a>)</span> <span class="fn">(<a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/NovelPolynomialBasis.html#AdditiveNTT.normalizedW">normalizedW</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">â†‘<span class="fn">i</span></span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a>)</span></span></div></div></div></div><div class="decl" id="AdditiveNTT.eval_point_Ï‰_eq_next_twiddleFactor_comp_qmap"><div class="theorem"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.lean#L1254-L1328">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.eval_point_Ï‰_eq_next_twiddleFactor_comp_qmap"><span class="name">AdditiveNTT</span>.<span class="name">eval_point_Ï‰_eq_next_twiddleFactor_comp_qmap</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">r</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Data/NeZero.html#NeZero">NeZero</a> <span class="fn">r</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">L</span> : <a href="../../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Prelude.html#DecidableEq">DecidableEq</a> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ğ”½q</span> : <a href="../../../.././foundational_types.html">Type</a> u)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Algebra/Defs.html#Algebra">Algebra</a> <span class="fn">ğ”½q</span> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Î²</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">â„“ </span><span class="fn">R_rate</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_â„“_add_R_rate</span> : <span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span> <a href="../../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">r</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_Fq_card_gt_1</span> : <span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Card.html#Fintype.card">Fintype.card</a> <span class="fn">ğ”½q</span></span> <a href="../../../.././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn">1</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_Fq_char_prime</span> : <span class="fn"><a href="../../../.././Mathlib/Logic/Basic.html#Fact">Fact</a> <span class="fn">(<a href="../../../.././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">(<a href="../../../.././Mathlib/Algebra/CharP/Defs.html#ringChar">ringChar</a> <span class="fn">ğ”½q</span>)</span>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hÎ²_lin_indep</span> : <span class="fn"><a href="../../../.././Mathlib/LinearAlgebra/LinearIndependent/Defs.html#LinearIndependent">LinearIndependent</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">â„“</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">2</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> (<span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span> <a href="../../../.././Init/Prelude.html#HSub.hSub">-</a> (<span class="fn">â†‘<span class="fn">i</span></span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)))</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.evaluationPointÏ‰">evaluationPointÏ‰</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">â„“</span> <span class="fn">R_rate</span> <span class="fn">h_â„“_add_R_rate</span> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">â†‘<span class="fn">i</span></span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a> <span class="fn">x</span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../../.././Mathlib/Algebra/Polynomial/Eval/Defs.html#Polynomial.eval">Polynomial.eval</a> <span class="fn">(<a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.twiddleFactor">twiddleFactor</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">â„“</span> <span class="fn">R_rate</span> <span class="fn">h_â„“_add_R_rate</span> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">â†‘<span class="fn">i</span></span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">â†‘<span class="fn">x</span></span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a>)</span> <span class="fn">(<a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.qMap">qMap</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">â†‘<span class="fn">i</span></span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a>)</span></span></div></div></div></div><div class="decl" id="AdditiveNTT.tileCoeffs"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.lean#L1330-L1335">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.tileCoeffs"><span class="name">AdditiveNTT</span>.<span class="name">tileCoeffs</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">L</span> : <a href="../../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">â„“ </span><span class="fn">R_rate</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">a</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">2</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">â„“</span>)</span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">2</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> (<span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span>))</span> â†’ <span class="fn">L</span></span></div></div><p>The <code>2^R_rate</code>-fold tiling of coefficients <code>a</code> into the initial buffer <code>b</code>.
<code>b(v) = aâ±¼</code>, where <code>j</code> are the <code>â„“</code> LSBs of <code>v</code>.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-AdditiveNTT.tileCoeffs" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="AdditiveNTT.NTTStage"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.lean#L1337-L1413">source</a></div><div class="decl_header"><span class="decl_kind">noncomputable def</span>
<span class="decl_name"><a class="break_within" href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.NTTStage"><span class="name">AdditiveNTT</span>.<span class="name">NTTStage</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">r</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Data/NeZero.html#NeZero">NeZero</a> <span class="fn">r</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">L</span> : <a href="../../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ğ”½q</span> : <a href="../../../.././foundational_types.html">Type</a> u)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Algebra/Defs.html#Algebra">Algebra</a> <span class="fn">ğ”½q</span> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Î²</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">â„“ </span><span class="fn">R_rate</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_â„“_add_R_rate</span> : <span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span> <a href="../../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">r</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">â„“</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">b</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">2</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> (<span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span>))</span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">2</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> (<span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span>))</span> â†’ <span class="fn">L</span></span></div></div><p>A single stage of the Additive NTT for a given <code>i</code>.
It takes the buffer <code>b</code> from the previous stage and applies the butterfly operations.
This function implements one step of the <code>for i from â„“-1 down to 0</code> loop.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-AdditiveNTT.NTTStage" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="AdditiveNTT.additiveNTT"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.lean#L1415-L1425">source</a></div><div class="decl_header"><span class="decl_kind">noncomputable def</span>
<span class="decl_name"><a class="break_within" href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.additiveNTT"><span class="name">AdditiveNTT</span>.<span class="name">additiveNTT</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">r</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Data/NeZero.html#NeZero">NeZero</a> <span class="fn">r</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">L</span> : <a href="../../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ğ”½q</span> : <a href="../../../.././foundational_types.html">Type</a> u)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Algebra/Defs.html#Algebra">Algebra</a> <span class="fn">ğ”½q</span> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Î²</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">â„“ </span><span class="fn">R_rate</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_â„“_add_R_rate</span> : <span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span> <a href="../../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">r</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">a</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">2</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">â„“</span>)</span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">2</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> (<span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span>))</span> â†’ <span class="fn">L</span></span></div></div><p><strong>The Additive NTT Algorithm (Algorithm 2)</strong></p><p>Computes the Additive NTT on a given set of coefficients from the novel basis.</p><ul>
<li><code>a</code>: The initial coefficient array <code>(aâ‚€, ..., a_{2^â„“-1})</code>.</li>
</ul><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-AdditiveNTT.additiveNTT" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="AdditiveNTT.coeffsBySuffix"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.lean#L1430-L1440">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.coeffsBySuffix"><span class="name">AdditiveNTT</span>.<span class="name">coeffsBySuffix</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">r</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">L</span> : <a href="../../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ğ”½q</span> : <a href="../../../.././foundational_types.html">Type</a> u)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">â„“ </span><span class="fn">R_rate</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">a</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">2</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">â„“</span>)</span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">v</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">2</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">â†‘<span class="fn">i</span></span>)</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">2</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> (<span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">â†‘<span class="fn">i</span></span>))</span> â†’ <span class="fn">L</span></span></div></div><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-AdditiveNTT.coeffsBySuffix" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="AdditiveNTT.base_coeffsBySuffix"><div class="theorem"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.lean#L1443-L1447">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.base_coeffsBySuffix"><span class="name">AdditiveNTT</span>.<span class="name">base_coeffsBySuffix</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">r</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">L</span> : <a href="../../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ğ”½q</span> : <a href="../../../.././foundational_types.html">Type</a> u)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">â„“ </span><span class="fn">R_rate</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">a</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">2</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">â„“</span>)</span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.coeffsBySuffix">coeffsBySuffix</a> <span class="fn">ğ”½q</span> <span class="fn">â„“</span> <span class="fn">R_rate</span> <span class="fn">a</span> <span class="fn">0</span> <span class="fn">0</span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a> <span class="fn">a</span></div></div></div></div><div class="decl" id="AdditiveNTT.evenRefinement_eq_novel_poly_of_0_leading_suffix"><div class="theorem"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.lean#L1450-L1504">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.evenRefinement_eq_novel_poly_of_0_leading_suffix"><span class="name">AdditiveNTT</span>.<span class="name">evenRefinement_eq_novel_poly_of_0_leading_suffix</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">r</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Data/NeZero.html#NeZero">NeZero</a> <span class="fn">r</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">L</span> : <a href="../../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ğ”½q</span> : <a href="../../../.././foundational_types.html">Type</a> u)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Algebra/Defs.html#Algebra">Algebra</a> <span class="fn">ğ”½q</span> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Î²</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">â„“ </span><span class="fn">R_rate</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_â„“_add_R_rate</span> : <span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span> <a href="../../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">r</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">â„“</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">v</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">2</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">â†‘<span class="fn">i</span></span>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">original_coeffs</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">2</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">â„“</span>)</span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">have <span class="fn">h_v</span> := <span class="fn">â‹¯</span>;
<span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.evenRefinement">evenRefinement</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">â„“</span> <span class="fn">R_rate</span> <span class="fn">h_â„“_add_R_rate</span> <span class="fn">i</span> <span class="fn">(<a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.coeffsBySuffix">coeffsBySuffix</a> <span class="fn">ğ”½q</span> <span class="fn">â„“</span> <span class="fn">R_rate</span> <span class="fn">original_coeffs</span> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">â†‘<span class="fn">i</span></span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a> <span class="fn">v</span>)</span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.intermediateEvaluationPoly">intermediateEvaluationPoly</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">â„“</span> <span class="fn">R_rate</span> <span class="fn">h_â„“_add_R_rate</span> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">â†‘<span class="fn">i</span></span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a>
    <span class="fn">(<a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.coeffsBySuffix">coeffsBySuffix</a> <span class="fn">ğ”½q</span> <span class="fn">â„“</span> <span class="fn">R_rate</span> <span class="fn">original_coeffs</span> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">â†‘<span class="fn">i</span></span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">â†‘<span class="fn">v</span></span>, <span class="fn">h_v</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a>)</span></span></span></div></div><p><code>Pâ‚€, â‚áµ¥â‚â½â±âºÂ¹â¾(X) = Pâ‚â‚€áµ¥â‚â½â±âºÂ¹â¾(X)</code>, where <code>v</code> consists of exactly <code>i</code> bits
Note that the even refinement <code>Pâ‚€, â‚áµ¥â‚â½â±âºÂ¹â¾(X)</code> is constructed from the view of
stage <code>i</code>, while the novel polynomial <code>Pâ‚â‚€áµ¥â‚â½â±âºÂ¹â¾(X)</code> is constructed from the view of stage <code>i+1</code>.</p></div></div><div class="decl" id="AdditiveNTT.oddRefinement_eq_novel_poly_of_1_leading_suffix"><div class="theorem"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.lean#L1507-L1585">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.oddRefinement_eq_novel_poly_of_1_leading_suffix"><span class="name">AdditiveNTT</span>.<span class="name">oddRefinement_eq_novel_poly_of_1_leading_suffix</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">r</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Data/NeZero.html#NeZero">NeZero</a> <span class="fn">r</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">L</span> : <a href="../../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ğ”½q</span> : <a href="../../../.././foundational_types.html">Type</a> u)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Algebra/Defs.html#Algebra">Algebra</a> <span class="fn">ğ”½q</span> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Î²</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">â„“ </span><span class="fn">R_rate</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_â„“_add_R_rate</span> : <span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span> <a href="../../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">r</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">â„“</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">v</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">2</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">â†‘<span class="fn">i</span></span>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">original_coeffs</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">2</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">â„“</span>)</span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">have <span class="fn">h_v</span> := <span class="fn">â‹¯</span>;
<span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.oddRefinement">oddRefinement</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">â„“</span> <span class="fn">R_rate</span> <span class="fn">h_â„“_add_R_rate</span> <span class="fn">i</span> <span class="fn">(<a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.coeffsBySuffix">coeffsBySuffix</a> <span class="fn">ğ”½q</span> <span class="fn">â„“</span> <span class="fn">R_rate</span> <span class="fn">original_coeffs</span> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">â†‘<span class="fn">i</span></span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a> <span class="fn">v</span>)</span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.intermediateEvaluationPoly">intermediateEvaluationPoly</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">â„“</span> <span class="fn">R_rate</span> <span class="fn">h_â„“_add_R_rate</span> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">â†‘<span class="fn">i</span></span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a>
    <span class="fn">(<a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.coeffsBySuffix">coeffsBySuffix</a> <span class="fn">ğ”½q</span> <span class="fn">â„“</span> <span class="fn">R_rate</span> <span class="fn">original_coeffs</span> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">â†‘<span class="fn">i</span></span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">â†‘<span class="fn">v</span></span> <a href="../../../.././Init/Prelude.html#HOr.hOr">|||</a> <span class="fn">1</span> <a href="../../../.././Init/Prelude.html#HShiftLeft.hShiftLeft">&lt;&lt;&lt;</a> <span class="fn">â†‘<span class="fn">i</span></span>, <span class="fn">h_v</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a>)</span></span></span></div></div><p><code>Pâ‚, â‚áµ¥â‚â½â±âºÂ¹â¾(X) = Pâ‚â‚áµ¥â‚â½â±âºÂ¹â¾(X)</code>, where <code>v</code> consists of exactly <code>i</code> bits
Note that the odd refinement <code>Pâ‚,â‚áµ¥â‚â½â±âºÂ¹â¾(X)</code> is constructed from the view of stage <code>i</code>,
while the novel polynomial <code>Pâ‚â‚áµ¥â‚â½â±âºÂ¹â¾(X)</code> is constructed from the view of stage <code>i+1</code>.</p></div></div><div class="decl" id="AdditiveNTT.additiveNTTInvariant"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.lean#L1587-L1644">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.additiveNTTInvariant"><span class="name">AdditiveNTT</span>.<span class="name">additiveNTTInvariant</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">r</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Data/NeZero.html#NeZero">NeZero</a> <span class="fn">r</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">L</span> : <a href="../../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ğ”½q</span> : <a href="../../../.././foundational_types.html">Type</a> u)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Algebra/Defs.html#Algebra">Algebra</a> <span class="fn">ğ”½q</span> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Î²</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">â„“ </span><span class="fn">R_rate</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_â„“_add_R_rate</span> : <span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span> <a href="../../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">r</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">evaluation_buffer</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">2</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> (<span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span>))</span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">original_coeffs</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">2</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">â„“</span>)</span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../../.././foundational_types.html">Prop</a></div></div><p>The main loop invariant for the <code><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.additiveNTT">additiveNTT</a></code> algorithm: the evaluation buffer <code>b</code>
at the end of stage <code>i</code> (<code>i âˆˆ {0, ..., â„“}</code>, <code>i=â„“</code> means the initial tiled buffer)
holds the value <code>Pâ½â±â¾(Ï‰_{u, b, v})</code> for all Nat.getBit mask index <code>(u||b||v) âˆˆ {0, ..., 2^(â„“+R_rate)-1}</code>,
where the points <code>Ï‰_{u, b, v}</code> are in the domain <code>Sâ½â±â¾</code>.</p><p><strong>Main statement:</strong>
After round <code>i âˆˆ {â„“-1, â„“-2, ..., 0}</code>: the buffer <code>b</code> at index <code>j</code> (which can be
decomposed as <code>j = (u || b || v)</code> in little-endian order, where</p><ul>
<li><code>u</code> is a bitstring of length <code>â„“ + R_rate - i - 1</code>,</li>
<li><code>b</code> is a single Nat.getBit (the LSB of the high bits),</li>
<li><code>v</code> is a bitstring of length <code>i</code> (the LSBs),
holds the value <code>Pâ½â±â¾(Ï‰_{u, b, i})</code>,
where:<ul>
<li><code>Pâ½â±â¾</code> is the intermediate polynomial at round <code>i</code> (in the novel basis),</li>
<li><code>Ï‰_{u, b, i}</code> is the evaluation point in the subspace <code>Sâ½â±â¾</code> constructed
as a linear combination of the basis elements of <code>Sâ½â±â¾</code>:<ul>
<li>the Nat.getBit <code>b</code> is the coefficient for <code>Å´áµ¢(Î²áµ¢)</code> (the LSB),</li>
<li>the LSB of <code>u</code> is the coefficient for <code>Å´áµ¢(Î²_{i+1})</code>, ..., the MSB of <code>u</code> is
the coefficient for <code>Å´áµ¢(Î²_{â„“+R_rate-1})</code>.</li>
</ul>
</li>
<li>The value is replicated <code>2^i</code> times for each <code>v</code>
(i.e., the last <code>i</code> bits do not affect the value).</li>
</ul>
</li>
</ul><p>More precisely, for all <code>j : <a href="../../../.././Init/Prelude.html#Fin">Fin</a> (2^(â„“ + R_rate))</code>,
let <code>u_b_v := j.val</code> (as a natural number),</p><ul>
<li>let <code>v := u_b_v % 2^i</code> (the <code>i</code> LSBs),</li>
<li>let <code>u_b := u_b_v / 2^i</code> (the high bits),</li>
<li>let <code>b := u_b % 2</code> (the LSB of the high bits),</li>
<li>let <code>u := u_b / 2</code> (the remaining high bits),
then:
b j = Pâ½â±â¾(Ï‰_{u, b, i})</li>
</ul><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-AdditiveNTT.additiveNTTInvariant" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="AdditiveNTT.initial_tiled_coeffs_correctness"><div class="theorem"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.lean#L1646-L1703">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.initial_tiled_coeffs_correctness"><span class="name">AdditiveNTT</span>.<span class="name">initial_tiled_coeffs_correctness</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">r</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Data/NeZero.html#NeZero">NeZero</a> <span class="fn">r</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">L</span> : <a href="../../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Prelude.html#DecidableEq">DecidableEq</a> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ğ”½q</span> : <a href="../../../.././foundational_types.html">Type</a> u)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Algebra/Defs.html#Algebra">Algebra</a> <span class="fn">ğ”½q</span> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Î²</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">â„“ </span><span class="fn">R_rate</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_â„“_add_R_rate</span> : <span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span> <a href="../../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">r</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_Wâ‚€_eq_X</span> : <span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/NovelPolynomialBasis.html#AdditiveNTT.W">W</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">0</span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a> <a href="../../../.././Mathlib/Algebra/Polynomial/Basic.html#Polynomial.X">Polynomial.X</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_Î²â‚€_eq_1</span> : <span class="fn"><span class="fn">Î²</span> <span class="fn">0</span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a> <span class="fn">1</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_Fq_card_gt_1</span> : <span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Card.html#Fintype.card">Fintype.card</a> <span class="fn">ğ”½q</span></span> <a href="../../../.././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn">1</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_Fq_char_prime</span> : <span class="fn"><a href="../../../.././Mathlib/Logic/Basic.html#Fact">Fact</a> <span class="fn">(<a href="../../../.././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">(<a href="../../../.././Mathlib/Algebra/CharP/Defs.html#ringChar">ringChar</a> <span class="fn">ğ”½q</span>)</span>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hÎ²_lin_indep</span> : <span class="fn"><a href="../../../.././Mathlib/LinearAlgebra/LinearIndependent/Defs.html#LinearIndependent">LinearIndependent</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_â„“</span> : <span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#LE.le">â‰¤</a> <span class="fn">r</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">a</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">2</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">â„“</span>)</span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">have <span class="fn">b</span> := <span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.tileCoeffs">tileCoeffs</a> <span class="fn">â„“</span> <span class="fn">R_rate</span> <span class="fn">a</span></span>;
<span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.additiveNTTInvariant">additiveNTTInvariant</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">â„“</span> <span class="fn">R_rate</span> <span class="fn">h_â„“_add_R_rate</span> <span class="fn">b</span> <span class="fn">a</span> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">â„“</span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a></span></span></div></div></div></div><div class="decl" id="AdditiveNTT.NTTStage_correctness"><div class="theorem"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.lean#L1709-L2175">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.NTTStage_correctness"><span class="name">AdditiveNTT</span>.<span class="name">NTTStage_correctness</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">r</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Data/NeZero.html#NeZero">NeZero</a> <span class="fn">r</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">L</span> : <a href="../../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Prelude.html#DecidableEq">DecidableEq</a> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ğ”½q</span> : <a href="../../../.././foundational_types.html">Type</a> u)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Algebra/Defs.html#Algebra">Algebra</a> <span class="fn">ğ”½q</span> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Î²</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">â„“ </span><span class="fn">R_rate</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_â„“_add_R_rate</span> : <span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span> <a href="../../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">r</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_Fq_card_gt_1</span> : <span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Card.html#Fintype.card">Fintype.card</a> <span class="fn">ğ”½q</span></span> <a href="../../../.././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn">1</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_Fq_char_prime</span> : <span class="fn"><a href="../../../.././Mathlib/Logic/Basic.html#Fact">Fact</a> <span class="fn">(<a href="../../../.././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">(<a href="../../../.././Mathlib/Algebra/CharP/Defs.html#ringChar">ringChar</a> <span class="fn">ğ”½q</span>)</span>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hÎ²_lin_indep</span> : <span class="fn"><a href="../../../.././Mathlib/LinearAlgebra/LinearIndependent/Defs.html#LinearIndependent">LinearIndependent</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">â„“</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">input_buffer</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">2</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> (<span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span>))</span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">original_coeffs</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">2</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">â„“</span>)</span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.additiveNTTInvariant">additiveNTTInvariant</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">â„“</span> <span class="fn">R_rate</span> <span class="fn">h_â„“_add_R_rate</span> <span class="fn">input_buffer</span> <span class="fn">original_coeffs</span> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">â†‘<span class="fn">i</span></span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a></span> â†’
  <span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.additiveNTTInvariant">additiveNTTInvariant</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">â„“</span> <span class="fn">R_rate</span> <span class="fn">h_â„“_add_R_rate</span> <span class="fn">(<a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.NTTStage">NTTStage</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">â„“</span> <span class="fn">R_rate</span> <span class="fn">h_â„“_add_R_rate</span> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">â†‘<span class="fn">i</span></span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a> <span class="fn">input_buffer</span>)</span>
    <span class="fn">original_coeffs</span> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">â†‘<span class="fn">i</span></span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a></span></span></div></div><p>The correctness theorem for the <code><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.NTTStage">NTTStage</a></code> function. This is the inductive step
in the main proof. It asserts that if the invariant holds for <code>i+1</code>, then after
applying <code><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.NTTStage">NTTStage</a> i</code>, the invariant holds for <code>i âˆˆ {0, ..., â„“-1}</code>.</p></div></div><div class="decl" id="AdditiveNTT.foldl_NTTStage_inductive_aux"><div class="theorem"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.lean#L2178-L2208">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.foldl_NTTStage_inductive_aux"><span class="name">AdditiveNTT</span>.<span class="name">foldl_NTTStage_inductive_aux</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">r</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Data/NeZero.html#NeZero">NeZero</a> <span class="fn">r</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">L</span> : <a href="../../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Prelude.html#DecidableEq">DecidableEq</a> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ğ”½q</span> : <a href="../../../.././foundational_types.html">Type</a> u)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Algebra/Defs.html#Algebra">Algebra</a> <span class="fn">ğ”½q</span> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Î²</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">â„“ </span><span class="fn">R_rate</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_â„“_add_R_rate</span> : <span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span> <a href="../../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">r</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_Wâ‚€_eq_X</span> : <span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/NovelPolynomialBasis.html#AdditiveNTT.W">W</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">0</span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a> <a href="../../../.././Mathlib/Algebra/Polynomial/Basic.html#Polynomial.X">Polynomial.X</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_Î²â‚€_eq_1</span> : <span class="fn"><span class="fn">Î²</span> <span class="fn">0</span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a> <span class="fn">1</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_Fq_card_gt_1</span> : <span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Card.html#Fintype.card">Fintype.card</a> <span class="fn">ğ”½q</span></span> <a href="../../../.././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn">1</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_Fq_char_prime</span> : <span class="fn"><a href="../../../.././Mathlib/Logic/Basic.html#Fact">Fact</a> <span class="fn">(<a href="../../../.././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">(<a href="../../../.././Mathlib/Algebra/CharP/Defs.html#ringChar">ringChar</a> <span class="fn">ğ”½q</span>)</span>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hÎ²_lin_indep</span> : <span class="fn"><a href="../../../.././Mathlib/LinearAlgebra/LinearIndependent/Defs.html#LinearIndependent">LinearIndependent</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_â„“</span> : <span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#LE.le">â‰¤</a> <span class="fn">r</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">k</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">original_coeffs</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">2</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">â„“</span>)</span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.additiveNTTInvariant">additiveNTTInvariant</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">â„“</span> <span class="fn">R_rate</span> <span class="fn">h_â„“_add_R_rate</span>
  <span class="fn">(<a href="../../../.././Init/Data/Fin/Fold.html#Fin.foldl">Fin.foldl</a> <span class="fn">(â†‘<span class="fn">k</span>)</span>
    <span class="fn">(fun (<span class="fn">current_b</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">2</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> (<span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span>))</span> â†’ <span class="fn">L</span></span>) (<span class="fn">i</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">â†‘<span class="fn">k</span></span></span>) =&gt;
      <span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.NTTStage">NTTStage</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">â„“</span> <span class="fn">R_rate</span> <span class="fn">h_â„“_add_R_rate</span> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">â†‘<span class="fn">i</span></span> <a href="../../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">1</span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a> <span class="fn">current_b</span></span>)</span>
    <span class="fn">(<a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.tileCoeffs">tileCoeffs</a> <span class="fn">â„“</span> <span class="fn">R_rate</span> <span class="fn">original_coeffs</span>)</span>)</span>
  <span class="fn">original_coeffs</span> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">â†‘<span class="fn">k</span></span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a></span></div></div></div></div><div class="decl" id="AdditiveNTT.additiveNTT_correctness"><div class="theorem"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.lean#L2210-L2257">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.additiveNTT_correctness"><span class="name">AdditiveNTT</span>.<span class="name">additiveNTT_correctness</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">r</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Data/NeZero.html#NeZero">NeZero</a> <span class="fn">r</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">L</span> : <a href="../../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">L</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Prelude.html#DecidableEq">DecidableEq</a> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ğ”½q</span> : <a href="../../../.././foundational_types.html">Type</a> u)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Defs.html#Fintype">Fintype</a> <span class="fn">ğ”½q</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Algebra/Defs.html#Algebra">Algebra</a> <span class="fn">ğ”½q</span> <span class="fn">L</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Î²</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">r</span></span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">â„“ </span><span class="fn">R_rate</span> : <a href="../../../.././Init/Prelude.html#Nat">â„•</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_â„“_add_R_rate</span> : <span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span> <a href="../../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">r</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_Wâ‚€_eq_X</span> : <span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/NovelPolynomialBasis.html#AdditiveNTT.W">W</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">0</span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a> <a href="../../../.././Mathlib/Algebra/Polynomial/Basic.html#Polynomial.X">Polynomial.X</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_Î²â‚€_eq_1</span> : <span class="fn"><span class="fn">Î²</span> <span class="fn">0</span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a> <span class="fn">1</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_Fq_card_gt_1</span> : <span class="fn"><a href="../../../.././Mathlib/Data/Fintype/Card.html#Fintype.card">Fintype.card</a> <span class="fn">ğ”½q</span></span> <a href="../../../.././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn">1</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_Fq_char_prime</span> : <span class="fn"><a href="../../../.././Mathlib/Logic/Basic.html#Fact">Fact</a> <span class="fn">(<a href="../../../.././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">(<a href="../../../.././Mathlib/Algebra/CharP/Defs.html#ringChar">ringChar</a> <span class="fn">ğ”½q</span>)</span>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hÎ²_lin_indep</span> : <span class="fn"><a href="../../../.././Mathlib/LinearAlgebra/LinearIndependent/Defs.html#LinearIndependent">LinearIndependent</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_â„“</span> : <span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#LE.le">â‰¤</a> <span class="fn">r</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">original_coeffs</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">2</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">â„“</span>)</span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">output_buffer</span> : <span class="fn"><span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">2</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> (<span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span>))</span> â†’ <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_alg</span> : <span class="fn">output_buffer</span> <a href="../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.additiveNTT">additiveNTT</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">â„“</span> <span class="fn">R_rate</span> <span class="fn">h_â„“_add_R_rate</span> <span class="fn">original_coeffs</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">have <span class="fn">P</span> := <span class="fn"><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/NovelPolynomialBasis.html#AdditiveNTT.polynomialFromNovelCoeffs">polynomialFromNovelCoeffs</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">â„“</span> <span class="fn">h_â„“</span> <span class="fn">original_coeffs</span></span>;
<span class="fn">âˆ€ (<span class="fn">j</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">2</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> (<span class="fn">â„“</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">R_rate</span>))</span>),
  <span class="fn"><span class="fn">output_buffer</span> <span class="fn">j</span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../../.././Mathlib/Algebra/Polynomial/Eval/Defs.html#Polynomial.eval">Polynomial.eval</a> <span class="fn">(<a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.evaluationPointÏ‰">evaluationPointÏ‰</a> <span class="fn">ğ”½q</span> <span class="fn">Î²</span> <span class="fn">â„“</span> <span class="fn">R_rate</span> <span class="fn">h_â„“_add_R_rate</span> <a href="../../../.././Init/Prelude.html#Fin.mk">âŸ¨</a><span class="fn">0</span>, <span class="fn">â‹¯</span><a href="../../../.././Init/Prelude.html#Fin.mk">âŸ©</a> <span class="fn">j</span>)</span> <span class="fn">P</span></span></span></span></div></div><p><strong>Main Correctness Theorem for Additive NTT</strong></p><p>If <code>b</code> is the output of <code><a href="../../../.././ArkLib/Data/FieldTheory/AdditiveNTT/AdditiveNTT.html#AdditiveNTT.additiveNTT">additiveNTT</a></code> on input <code>a</code>, then for all <code>j</code>, <code>b j</code>
is the evaluation of the polynomial <code>P</code> (from the novel basis coefficients <code>a</code>)
at the evaluation point <code>Ï‰_{0, j}</code> in the domain <code>Sâ°</code>.</p></div></div></main>
<nav class="nav"><iframe src="../../../.././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>