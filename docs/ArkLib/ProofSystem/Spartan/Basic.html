<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../../.././style.css"></link><link rel="icon" href="../../.././favicon.svg"></link><link rel="mask-icon" href="../../.././favicon.svg" color="#000000"></link><link rel="prefetch" href="../../.././/declarations/declaration-data.bmp" as="image"></link><title>ArkLib.ProofSystem.Spartan.Basic</title><script defer="true" src="../../.././mathjax-config.js"></script><script defer="true" src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../../.././";</script><script>const MODULE_NAME="ArkLib.ProofSystem.Spartan.Basic";</script><script type="module" src="../../.././jump-src.js"></script><script type="module" src="../../.././search.js"></script><script type="module" src="../../.././expand-nav.js"></script><script type="module" src="../../.././how-about.js"></script><script type="module" src="../../.././instances.js"></script><script type="module" src="../../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">ArkLib</span>.<span class="name">ProofSystem</span>.<span class="name">Spartan</span>.<span class="name">Basic</span></h2><form id="search_form"><input type="text" name="q" autocomplete="off"></input>&#32;<button id="search_button" onclick="javascript: form.action='../../.././search.html';">Search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Spartan/Basic.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../../.././Init.html">Init</a></li><li><a href="../../.././ArkLib/Data/MvPolynomial/Multilinear.html">ArkLib.Data.MvPolynomial.Multilinear</a></li><li><a href="../../.././ArkLib/ProofSystem/Component/CheckClaim.html">ArkLib.ProofSystem.Component.CheckClaim</a></li><li><a href="../../.././ArkLib/ProofSystem/Component/RandomQuery.html">ArkLib.ProofSystem.Component.RandomQuery</a></li><li><a href="../../.././ArkLib/ProofSystem/Component/SendClaim.html">ArkLib.ProofSystem.Component.SendClaim</a></li><li><a href="../../.././ArkLib/ProofSystem/Component/SendWitness.html">ArkLib.ProofSystem.Component.SendWitness</a></li><li><a href="../../.././ArkLib/ProofSystem/ConstraintSystem/R1CS.html">ArkLib.ProofSystem.ConstraintSystem.R1CS</a></li><li><a href="../../.././ArkLib/ProofSystem/Sumcheck/Spec/General.html">ArkLib.ProofSystem.Sumcheck.Spec.General</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-ArkLib.ProofSystem.Spartan.Basic" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#Spartan.PublicParams"><span class="name">Spartan</span>.<span class="name">PublicParams</span></a></div><div class="nav_link"><a class="break_within" href="#Spartan.PublicParams.toSizeR1CS"><span class="name">Spartan</span>.<span class="name">PublicParams</span>.<span class="name">toSizeR1CS</span></a></div><div class="nav_link"><a class="break_within" href="#Spartan.Spec.Statement"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">Statement</span></a></div><div class="nav_link"><a class="break_within" href="#Spartan.Spec.OracleStatement"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">OracleStatement</span></a></div><div class="nav_link"><a class="break_within" href="#Spartan.Spec.Witness"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">Witness</span></a></div><div class="nav_link"><a class="break_within" href="#Spartan.Spec.relation"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">relation</span></a></div><div class="nav_link"><a class="break_within" href="#Spartan.Spec.instOracleInterfaceOracleStatement"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">instOracleInterfaceOracleStatement</span></a></div><div class="nav_link"><a class="break_within" href="#Spartan.Spec.instOracleInterfaceWitness"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">instOracleInterfaceWitness</span></a></div><div class="nav_link"><a class="break_within" href="#Spartan.Spec.Statement.AfterFirstMessage"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">Statement</span>.<span class="name">AfterFirstMessage</span></a></div><div class="nav_link"><a class="break_within" href="#Spartan.Spec.OracleStatement.AfterFirstMessage"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">OracleStatement</span>.<span class="name">AfterFirstMessage</span></a></div><div class="nav_link"><a class="break_within" href="#Spartan.Spec.Witness.AfterFirstMessage"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">Witness</span>.<span class="name">AfterFirstMessage</span></a></div><div class="nav_link"><a class="break_within" href="#Spartan.Spec.oracleReduction.firstMessage"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">oracleReduction</span>.<span class="name">firstMessage</span></a></div><div class="nav_link"><a class="break_within" href="#Spartan.Spec.zeroCheckVirtualPolynomial"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">zeroCheckVirtualPolynomial</span></a></div><div class="nav_link"><a class="break_within" href="#Spartan.Spec.FirstChallenge"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">FirstChallenge</span></a></div><div class="nav_link"><a class="break_within" href="#Spartan.Spec.Statement.AfterFirstChallenge"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">Statement</span>.<span class="name">AfterFirstChallenge</span></a></div><div class="nav_link"><a class="break_within" href="#Spartan.Spec.OracleStatement.AfterFirstChallenge"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">OracleStatement</span>.<span class="name">AfterFirstChallenge</span></a></div><div class="nav_link"><a class="break_within" href="#Spartan.Spec.Witness.AfterFirstChallenge"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">Witness</span>.<span class="name">AfterFirstChallenge</span></a></div><div class="nav_link"><a class="break_within" href="#Spartan.Spec.oracleReduction.firstChallenge"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">oracleReduction</span>.<span class="name">firstChallenge</span></a></div><div class="nav_link"><a class="break_within" href="#Spartan.Spec.FirstSumcheckChallenge"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">FirstSumcheckChallenge</span></a></div><div class="nav_link"><a class="break_within" href="#Spartan.Spec.Statement.AfterFirstSumcheck"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">Statement</span>.<span class="name">AfterFirstSumcheck</span></a></div><div class="nav_link"><a class="break_within" href="#Spartan.Spec.OracleStatement.AfterFirstSumcheck"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">OracleStatement</span>.<span class="name">AfterFirstSumcheck</span></a></div><div class="nav_link"><a class="break_within" href="#Spartan.Spec.Witness.AfterFirstSumcheck"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">Witness</span>.<span class="name">AfterFirstSumcheck</span></a></div><div class="nav_link"><a class="break_within" href="#Spartan.Spec.EvalClaim"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">EvalClaim</span></a></div><div class="nav_link"><a class="break_within" href="#Spartan.Spec.instOracleInterfaceEvalClaim"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">instOracleInterfaceEvalClaim</span></a></div><div class="nav_link"><a class="break_within" href="#Spartan.Spec.Statement.AfterSendEvalClaim"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">Statement</span>.<span class="name">AfterSendEvalClaim</span></a></div><div class="nav_link"><a class="break_within" href="#Spartan.Spec.OracleStatement.AfterSendEvalClaim"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">OracleStatement</span>.<span class="name">AfterSendEvalClaim</span></a></div><div class="nav_link"><a class="break_within" href="#Spartan.Spec.Witness.AfterSendEvalClaim"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">Witness</span>.<span class="name">AfterSendEvalClaim</span></a></div><div class="nav_link"><a class="break_within" href="#Spartan.Spec.oracleReduction.sendEvalClaim"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">oracleReduction</span>.<span class="name">sendEvalClaim</span></a></div><div class="nav_link"><a class="break_within" href="#Spartan.Spec.LinearCombinationChallenge"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">LinearCombinationChallenge</span></a></div><div class="nav_link"><a class="break_within" href="#Spartan.Spec.Statement.AfterLinearCombination"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">Statement</span>.<span class="name">AfterLinearCombination</span></a></div><div class="nav_link"><a class="break_within" href="#Spartan.Spec.OracleStatement.AfterLinearCombination"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">OracleStatement</span>.<span class="name">AfterLinearCombination</span></a></div><div class="nav_link"><a class="break_within" href="#Spartan.Spec.Witness.AfterLinearCombination"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">Witness</span>.<span class="name">AfterLinearCombination</span></a></div><div class="nav_link"><a class="break_within" href="#Spartan.Spec.oracleReduction.linearCombination"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">oracleReduction</span>.<span class="name">linearCombination</span></a></div><div class="nav_link"><a class="break_within" href="#Spartan.Spec.secondSumCheckVirtualPolynomial"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">secondSumCheckVirtualPolynomial</span></a></div><div class="nav_link"><a class="break_within" href="#Spartan.Spec.SecondSumcheckChallenge"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">SecondSumcheckChallenge</span></a></div><div class="nav_link"><a class="break_within" href="#Spartan.Spec.Statement.AfterSecondSumcheck"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">Statement</span>.<span class="name">AfterSecondSumcheck</span></a></div><div class="nav_link"><a class="break_within" href="#Spartan.Spec.OracleStatement.AfterSecondSumcheck"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">OracleStatement</span>.<span class="name">AfterSecondSumcheck</span></a></div><div class="nav_link"><a class="break_within" href="#Spartan.Spec.Witness.AfterSecondSumcheck"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">Witness</span>.<span class="name">AfterSecondSumcheck</span></a></div></nav><main>
<div class="mod_doc"><h1 class="markdown-heading" id="The-Spartan-PIOP-Polynomial-Interactive-Oracle-Proof">The Spartan PIOP (Polynomial Interactive Oracle Proof) <a class="hover-link" href="#The-Spartan-PIOP-Polynomial-Interactive-Oracle-Proof">#</a></h1><p>The protocol is parametrized by the following parameters:</p><ul>
<li><code>R</code> is the underlying ring, required to be a finite integral domain.</li>
<li><code>n := 2 ^ <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams.â„“_n">â„“_n</a></code> is the number of variables in the R1CS relation.</li>
<li><code>m := 2 ^ <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams.â„“_m">â„“_m</a></code> is the number of constraints in the R1CS relation.</li>
<li><code>n_w := 2 ^ <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams.â„“_w">â„“_w</a></code> is the number of witness variables, where <code><a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams.â„“_w">â„“_w</a> &lt; <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams.â„“_n">â„“_n</a></code>.</li>
</ul><p>Note that all dimensions are required to be powers of two.</p><p>(Maybe we shouldn't do this? And do the padding explicitly, so we can handle arbitrary
dimensions?)</p><p>It is used to prove the correctness of R1CS relations: <code>(A *áµ¥ ğ•«) * (B *áµ¥ ğ•«) = (C *áµ¥ ğ•«)</code>, where:</p><ul>
<li><code>A, B, C : <a href="../../.././Mathlib/Data/Matrix/Defs.html#Matrix">Matrix</a> (Fin m) (Fin n) R</code> are the R1CS constraint matrices.</li>
<li><code>ğ•© : <a href="../../.././Init/Prelude.html#Fin">Fin</a> (n - n_w) â†’ R</code> is the public input.</li>
<li><code>ğ•¨ : <a href="../../.././Init/Prelude.html#Fin">Fin</a> n_w â†’ R</code> is the private witness.</li>
<li><code>ğ•« = ğ•© â€– ğ•¨</code> is the concatenation of the public input <code>ğ•©</code> and the private witness <code>ğ•¨</code>.</li>
<li><code>*áµ¥</code> denotes the standard matrix-vector product, and <code>*</code> denotes the component-wise product.</li>
</ul><p>The protocol may prove R1CS relations whose dimensions are not powers of two by zero-padding.
(details in the <code>R1CS.lean</code> file)</p><p>The protocol (described as a PIOP, before composing with poly commitments) proceeds as follows:</p><p><strong>I. Interaction Phase:</strong></p><ul>
<li><p><strong>Stage 0:</strong> The oracle verifier may optionally receive oracle access to the multilinear
extensions <code>MLE A, MLE B, MLE C : R[X <a href="../../.././Init/Prelude.html#Fin">Fin</a> â„“_n][X <a href="../../.././Init/Prelude.html#Fin">Fin</a> â„“_m]</code> of the R1CS matrices <code>A</code>, <code>B</code>, and
<code>C</code>. Otherwise, the oracle verifier may see the matrices <code>A</code>, <code>B</code>, and <code>C</code> directly (as part of
the input statement).</p>
</li>
<li><p><strong>Stage 1:</strong> The prover sends the multilinear extension <code>MLE ğ•¨ : R[X <a href="../../.././Init/Prelude.html#Fin">Fin</a> n_w]</code> of the witness
<code>w</code> to the verifier. The verifier sends back a challenge <code>Ï„ : <a href="../../.././Init/Prelude.html#Fin">Fin</a> <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams.â„“_m">â„“_m</a> â†’ R</code>.</p>
</li>
<li><p><strong>Stage 2:</strong> The prover and verifier engage in a sum-check protocol to verify the computation:
<code>âˆ‘ x âˆˆ {0, 1}^â„“_m, eqPoly â¸¨Ï„, xâ¸© * (Ağ•« â¸¨xâ¸© * Bğ•« â¸¨xâ¸© - Cğ•« â¸¨xâ¸©) = 0</code>,</p>
<p>where <code>Ağ•« â¸¨Xâ¸© = âˆ‘ y âˆˆ {0, 1}^â„“_m, (MLE A) â¸¨Xâ¸© â¸¨yâ¸© * (MLE ğ•«) â¸¨yâ¸©</code>, and similarly for <code>Bğ•«</code> and
<code>Cğ•«</code>.</p>
<p>The sum-check protocol terminates with random challenges <code>r_x : <a href="../../.././Init/Prelude.html#Fin">Fin</a> <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams.â„“_m">â„“_m</a> â†’ R</code>, and the purported
evaluation <code>e_x</code> of <code>eqPoly â¸¨Ï„, r_xâ¸© * (Ağ•« â¸¨r_xâ¸© * Bğ•« â¸¨r_xâ¸© - Cğ•« â¸¨r_xâ¸©)</code>.</p>
</li>
<li><p><strong>Stage 3:</strong> The prover sends further evaluation claims to the verifier:</p>
<p><code>v_A = Ağ•« â¸¨r_xâ¸©</code>, <code>v_B = Bğ•« â¸¨r_xâ¸©</code>, <code>v_C = Cğ•« â¸¨r_xâ¸©</code></p>
<p>The verifier sends back challenges <code>r_A, r_B, r_C : R</code>.</p>
</li>
<li><p><strong>Stage 4:</strong> The prover and verifier engage in another sum-check protocol to verify the
computation:</p>
<p><code>âˆ‘ y âˆˆ {0, 1}^â„“_n, r_A * (MLE A) â¸¨r_x, yâ¸© * (MLE ğ•«) â¸¨yâ¸© + r_B * (MLE B) â¸¨r_x, yâ¸© *</code>
<code>(MLE ğ•«) â¸¨yâ¸© + r_C * (MLE C) â¸¨r_x, yâ¸© * (MLE ğ•«) â¸¨yâ¸© = r_A * v_A + r_B * v_B + r_C * v_C</code></p>
<p>The sum-check protocol terminates with random challenges <code>r_y : <a href="../../.././Init/Prelude.html#Fin">Fin</a> <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams.â„“_n">â„“_n</a> â†’ R</code>, and the purported
evaluation <code>e_y</code> of</p>
<p><code>(r_A * (MLE A) â¸¨r_x, r_yâ¸© + r_B * (MLE B) â¸¨r_x, r_yâ¸© + r_C * (MLE C) â¸¨r_x, r_yâ¸©) *</code>
<code>(MLE ğ•«) â¸¨r_yâ¸©</code>.</p>
</li>
</ul><p><strong>II. Verification Phase:</strong></p><ol>
<li><p>The verifier makes a query to the polynomial oracle <code>MLE ğ•¨</code> at <code>r_y [â„“_n - â„“_k :] : <a href="../../.././Init/Prelude.html#Fin">Fin</a> â„“_k â†’ R</code>, and obtain an evaluation value <code>v_ğ•¨ : R</code>.</p>
</li>
<li><p>The verifier makes three queries to the polynomial oracles <code>MLE A, MLE B, MLE C</code> at <code>r_y â€– r_x : <a href="../../.././Init/Prelude.html#Fin">Fin</a> (â„“_n + â„“_m) â†’ R</code>, and obtain evaluation values <code>v_1, v_2, v_3 : R</code>.</p>
</li>
</ol><p>Alternatively, if the verifier does not receive oracle access, then it computes the evaluation
values directly.</p><ol start="3">
<li><p>The verifier computes <code>v_ğ•« := ğ•© *áµ¢â‚š (âŠ— i, (1, r_y i))[: n - k] + (âˆ i &lt; â„“_k, r_y i) * v_ğ•¨</code>,
where <code>*áµ¢â‚š</code> denotes the inner product, and <code>âŠ—</code> denotes the tensor product.</p>
</li>
<li><p>The verifier accepts if and only if both of the following holds:
- <code>e_x = eqPoly â¸¨Ï„, r_xâ¸© * (v_A * v_B - v_C)</code>
- <code>e_y = (r_A * v_1 + r_B * v_2 + r_C * v_3) * v_ğ•«</code>.</p>
</li>
</ol></div><div class="decl" id="Spartan.PublicParams"><div class="structure"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Spartan/Basic.lean#L108-L114">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams"><span class="name">Spartan</span>.<span class="name">PublicParams</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p>The public parameters of the (padded) Spartan protocol. Consists of the number of bits of the
R1CS dimensions, and the number of bits of the witness variables.</p><ul class="structure_fields" id="Spartan.PublicParams.mk"><li id="Spartan.PublicParams.â„“_m" class="structure_field"><div class="structure_field_info">â„“_m : <a href="../../.././Init/Prelude.html#Nat">â„•</a></div></li><li id="Spartan.PublicParams.â„“_n" class="structure_field"><div class="structure_field_info">â„“_n : <a href="../../.././Init/Prelude.html#Nat">â„•</a></div></li><li id="Spartan.PublicParams.â„“_w" class="structure_field"><div class="structure_field_info">â„“_w : <a href="../../.././Init/Prelude.html#Nat">â„•</a></div></li><li id="Spartan.PublicParams.â„“_w_le_â„“_n" class="structure_field"><div class="structure_field_info">â„“_w_le_â„“_n : <span class="fn"><span class="fn">self</span>.<a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams.â„“_w">â„“_w</a></span> <a href="../../.././Init/Prelude.html#LE.le">â‰¤</a> <span class="fn"><span class="fn">self</span>.<a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams.â„“_n">â„“_n</a></span></div></li></ul><details id="instances-for-list-Spartan.PublicParams" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Spartan.PublicParams.toSizeR1CS"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Spartan/Basic.lean#L118-L124">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams.toSizeR1CS"><span class="name">Spartan</span>.<span class="name">PublicParams</span>.<span class="name">toSizeR1CS</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">pp</span> : <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams">PublicParams</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././ArkLib/ProofSystem/ConstraintSystem/R1CS.html#R1CS.Size">R1CS.Size</a></div></div><p>The R1CS dimensions / sizes are the powers of two of the public parameters.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Spartan.PublicParams.toSizeR1CS" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Spartan.Spec.Statement"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Spartan/Basic.lean#L138-L140">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.Statement"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">Statement</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">pp</span> : <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams">PublicParams</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p>This unfolds to <code>ğ•© : <a href="../../.././Init/Prelude.html#Fin">Fin</a> (2 ^ <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams.â„“_n">â„“_n</a> - 2 ^ â„“_w) â†’ R</code></p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Spartan.Spec.Statement" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Spartan.Spec.OracleStatement"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Spartan/Basic.lean#L142-L144">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.OracleStatement"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">OracleStatement</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">pp</span> : <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams">PublicParams</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/ProofSystem/ConstraintSystem/R1CS.html#R1CS.MatrixIdx">R1CS.MatrixIdx</a> â†’ <a href="../../.././foundational_types.html">Type</a></span></div></div><p>This unfolds to <code>A, B, C : <a href="../../.././Mathlib/Data/Matrix/Defs.html#Matrix">Matrix</a> (Fin 2 ^ â„“_m) (Fin 2 ^ â„“_n) R</code></p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Spartan.Spec.OracleStatement" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Spartan.Spec.Witness"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Spartan/Basic.lean#L146-L148">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.Witness"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">Witness</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">pp</span> : <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams">PublicParams</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p>This unfolds to <code>ğ•¨ : <a href="../../.././Init/Prelude.html#Fin">Fin</a> 2 ^ <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams.â„“_w">â„“_w</a> â†’ R</code></p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Spartan.Spec.Witness" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Spartan.Spec.relation"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Spartan/Basic.lean#L150-L152">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.relation"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">relation</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Algebra/Ring/Defs.html#CommRing">CommRing</a> <span class="fn">R</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">pp</span> : <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams">PublicParams</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn"><span class="fn"><span class="fn">pp</span>.<a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams.toSizeR1CS">toSizeR1CS</a></span>.<a href="../../.././ArkLib/ProofSystem/ConstraintSystem/R1CS.html#R1CS.Size.n_x">n_x</a></span></span> â†’ <span class="fn">R</span>)</span> â†’
  <span class="fn"><span class="fn">(<a href="../../.././ArkLib/ProofSystem/ConstraintSystem/R1CS.html#R1CS.MatrixIdx">R1CS.MatrixIdx</a> â†’ <span class="fn"><a href="../../.././Mathlib/Data/Matrix/Defs.html#Matrix">Matrix</a> <span class="fn">(<a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn"><span class="fn"><span class="fn">pp</span>.<a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams.toSizeR1CS">toSizeR1CS</a></span>.<a href="../../.././ArkLib/ProofSystem/ConstraintSystem/R1CS.html#R1CS.Size.m">m</a></span>)</span> <span class="fn">(<a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn"><span class="fn"><span class="fn">pp</span>.<a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams.toSizeR1CS">toSizeR1CS</a></span>.<a href="../../.././ArkLib/ProofSystem/ConstraintSystem/R1CS.html#R1CS.Size.n">n</a></span>)</span> <span class="fn">R</span></span>)</span> â†’ <span class="fn"><span class="fn">(<span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn"><span class="fn"><span class="fn">pp</span>.<a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams.toSizeR1CS">toSizeR1CS</a></span>.<a href="../../.././ArkLib/ProofSystem/ConstraintSystem/R1CS.html#R1CS.Size.n_w">n_w</a></span></span> â†’ <span class="fn">R</span>)</span> â†’ <a href="../../.././foundational_types.html">Prop</a></span></span></span></div></div><p>This unfolds to <code>(A *áµ¥ ğ•«) * (B *áµ¥ ğ•«) = (C *áµ¥ ğ•«)</code>, where <code>ğ•« = ğ•© â€– ğ•¨</code></p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Spartan.Spec.relation" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Spartan.Spec.instOracleInterfaceOracleStatement"><div class="instance"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Spartan/Basic.lean#L154-L164">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.instOracleInterfaceOracleStatement"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">instOracleInterfaceOracleStatement</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Algebra/Ring/Defs.html#CommRing">CommRing</a> <span class="fn">R</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">pp</span> : <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams">PublicParams</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <a href="../../.././ArkLib/ProofSystem/ConstraintSystem/R1CS.html#R1CS.MatrixIdx">R1CS.MatrixIdx</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/OracleReduction/OracleInterface.html#OracleInterface">OracleInterface</a> <span class="fn">(<a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.OracleStatement">OracleStatement</a> <span class="fn">R</span> <span class="fn">pp</span> <span class="fn">i</span>)</span></span></div></div><p>The oracle interface for the input statement is the polynomial evaluation oracle of its
multilinear extension.</p><details><summary>Equations</summary><ul class="equations"></ul></details></div></div><div class="decl" id="Spartan.Spec.instOracleInterfaceWitness"><div class="instance"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Spartan/Basic.lean#L171-L174">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.instOracleInterfaceWitness"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">instOracleInterfaceWitness</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Algebra/Ring/Defs.html#CommRing">CommRing</a> <span class="fn">R</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">pp</span> : <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams">PublicParams</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/OracleReduction/OracleInterface.html#OracleInterface">OracleInterface</a> <span class="fn">(<a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.Witness">Witness</a> <span class="fn">R</span> <span class="fn">pp</span>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"></ul></details></div></div><div class="mod_doc"><h2 class="markdown-heading" id="First-message">First message <a class="hover-link" href="#First-message">#</a></h2><p>We invoke the protocol <code>SendSingleWitness</code> to send the witness <code>ğ•¨</code> to the verifier.</p></div><div class="decl" id="Spartan.Spec.Statement.AfterFirstMessage"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Spartan/Basic.lean#L181-L183">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.Statement.AfterFirstMessage"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">Statement</span>.<span class="name">AfterFirstMessage</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">pp</span> : <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams">PublicParams</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p>Unfolds to <code>ğ•© : <a href="../../.././Init/Prelude.html#Fin">Fin</a> (2 ^ <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams.â„“_n">â„“_n</a> - 2 ^ â„“_w) â†’ R</code></p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Spartan.Spec.Statement.AfterFirstMessage" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Spartan.Spec.OracleStatement.AfterFirstMessage"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Spartan/Basic.lean#L185-L188">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.OracleStatement.AfterFirstMessage"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">OracleStatement</span>.<span class="name">AfterFirstMessage</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">pp</span> : <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams">PublicParams</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/ProofSystem/ConstraintSystem/R1CS.html#R1CS.MatrixIdx">R1CS.MatrixIdx</a> <a href="../../.././Init/Core.html#Sum">âŠ•</a> <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">1</span></span> â†’ <a href="../../.././foundational_types.html">Type</a></span></div></div><p>Unfolds to <code>A, B, C : <a href="../../.././Mathlib/Data/Matrix/Defs.html#Matrix">Matrix</a> (Fin 2 ^ â„“_m) (Fin 2 ^ â„“_n) R</code> and <code>ğ•¨ : <a href="../../.././Init/Prelude.html#Fin">Fin</a> 2 ^ <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams.â„“_w">â„“_w</a> â†’ R</code></p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Spartan.Spec.OracleStatement.AfterFirstMessage" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Spartan.Spec.Witness.AfterFirstMessage"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Spartan/Basic.lean#L190-L192">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.Witness.AfterFirstMessage"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">Witness</span>.<span class="name">AfterFirstMessage</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p>Unfolds to <code>() : <a href="../../.././Init/Prelude.html#Unit">Unit</a></code></p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Spartan.Spec.Witness.AfterFirstMessage" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Spartan.Spec.oracleReduction.firstMessage"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Spartan/Basic.lean#L194-L200">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.oracleReduction.firstMessage"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">oracleReduction</span>.<span class="name">firstMessage</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Algebra/Ring/Defs.html#CommRing">CommRing</a> <span class="fn">R</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">pp</span> : <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams">PublicParams</a>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Î¹</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">Î¹</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#OracleReduction">OracleReduction</a> <span class="fn">oSpec</span> <span class="fn">(<a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.Statement">Statement</a> <span class="fn">R</span> <span class="fn">pp</span>)</span> <span class="fn">(<a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.OracleStatement">OracleStatement</a> <span class="fn">R</span> <span class="fn">pp</span>)</span> <span class="fn">(<a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.Witness">Witness</a> <span class="fn">R</span> <span class="fn">pp</span>)</span> <span class="fn">(<a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.Statement.AfterFirstMessage">Statement.AfterFirstMessage</a> <span class="fn">R</span> <span class="fn">pp</span>)</span>
  <span class="fn">(<a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.OracleStatement.AfterFirstMessage">OracleStatement.AfterFirstMessage</a> <span class="fn">R</span> <span class="fn">pp</span>)</span> <a href="../../.././Init/Prelude.html#Unit">Unit</a> <a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.mk">{</a> <span class="fn">dir</span> := <a href="../../.././ArkLib/Data/Fin/Tuple/Defs.html#Fin.vcons">!v[</a><a href="../../.././ArkLib/OracleReduction/Prelude.html#Direction.P_to_V">Direction.P_to_V</a><a href="../../.././ArkLib/Data/Fin/Tuple/Defs.html#Fin.vcons">]</a>, <span class="fn">Â«TypeÂ»</span> := <a href="../../.././ArkLib/Data/Fin/Tuple/Defs.html#Fin.vcons">!v[</a><span class="fn"><a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.Witness">Witness</a> <span class="fn">R</span> <span class="fn">pp</span></span><a href="../../.././ArkLib/Data/Fin/Tuple/Defs.html#Fin.vcons">]</a> <a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.mk">}</a></span></div></div><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Spartan.Spec.oracleReduction.firstMessage" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="mod_doc"><h2 class="markdown-heading" id="First-challenge">First challenge <a class="hover-link" href="#First-challenge">#</a></h2><p>We invoke the protocol <code>RandomQuery</code> on the &quot;virtual&quot; polynomial:
<code>ğ’¢(Z) = âˆ‘_{x} eq â¸¨Z, xâ¸© * (Ağ•« â¸¨xâ¸© * Bğ•« â¸¨xâ¸© - Cğ•« â¸¨xâ¸©)</code>, which is supposed to be <code>0</code>.</p></div><div class="decl" id="Spartan.Spec.zeroCheckVirtualPolynomial"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Spartan/Basic.lean#L208-L215">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.zeroCheckVirtualPolynomial"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">zeroCheckVirtualPolynomial</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Algebra/Ring/Defs.html#CommRing">CommRing</a> <span class="fn">R</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">pp</span> : <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams">PublicParams</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">ğ•©</span> : <span class="fn"><a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.Statement.AfterFirstMessage">Statement.AfterFirstMessage</a> <span class="fn">R</span> <span class="fn">pp</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">oStmt</span> : <span class="fn">(<span class="fn">i</span> : <a href="../../.././ArkLib/ProofSystem/ConstraintSystem/R1CS.html#R1CS.MatrixIdx">R1CS.MatrixIdx</a> <a href="../../.././Init/Core.html#Sum">âŠ•</a> <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">1</span></span>) â†’ <span class="fn"><a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.OracleStatement.AfterFirstMessage">OracleStatement.AfterFirstMessage</a> <span class="fn">R</span> <span class="fn">pp</span> <span class="fn">i</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Mathlib/Algebra/MvPolynomial/Basic.html#MvPolynomial">MvPolynomial</a> <span class="fn">(<a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn"><span class="fn">pp</span>.<a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams.â„“_m">â„“_m</a></span>)</span> <span class="fn">R</span></span></div></div><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Spartan.Spec.zeroCheckVirtualPolynomial" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Spartan.Spec.FirstChallenge"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Spartan/Basic.lean#L217-L219">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.FirstChallenge"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">FirstChallenge</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">pp</span> : <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams">PublicParams</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p>Unfolds to <code>Ï„ : <a href="../../.././Init/Prelude.html#Fin">Fin</a> <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams.â„“_m">â„“_m</a> â†’ R</code></p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Spartan.Spec.FirstChallenge" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Spartan.Spec.Statement.AfterFirstChallenge"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Spartan/Basic.lean#L221-L224">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.Statement.AfterFirstChallenge"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">Statement</span>.<span class="name">AfterFirstChallenge</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">pp</span> : <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams">PublicParams</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p>Unfolds to <code>(Ï„, x) : (Fin (2 ^ <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams.â„“_n">â„“_n</a> - 2 ^ â„“_w) â†’ R) Ã— (Fin (2 ^ â„“_m) â†’ R)</code></p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Spartan.Spec.Statement.AfterFirstChallenge" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Spartan.Spec.OracleStatement.AfterFirstChallenge"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Spartan/Basic.lean#L226-L230">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.OracleStatement.AfterFirstChallenge"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">OracleStatement</span>.<span class="name">AfterFirstChallenge</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">pp</span> : <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams">PublicParams</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/ProofSystem/ConstraintSystem/R1CS.html#R1CS.MatrixIdx">R1CS.MatrixIdx</a> <a href="../../.././Init/Core.html#Sum">âŠ•</a> <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">1</span></span> â†’ <a href="../../.././foundational_types.html">Type</a></span></div></div><p>Is equivalent to <code>((A, B, C), ğ•¨) :</code>
<code>(fun _ =&gt; (Matrix (Fin 2 ^ â„“_m) (Fin 2 ^ â„“_n) R)) Ã— (Fin 2 ^ <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams.â„“_w">â„“_w</a> â†’ R)</code></p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Spartan.Spec.OracleStatement.AfterFirstChallenge" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Spartan.Spec.Witness.AfterFirstChallenge"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Spartan/Basic.lean#L232-L233">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.Witness.AfterFirstChallenge"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">Witness</span>.<span class="name">AfterFirstChallenge</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Spartan.Spec.Witness.AfterFirstChallenge" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Spartan.Spec.oracleReduction.firstChallenge"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Spartan/Basic.lean#L237-L242">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.oracleReduction.firstChallenge"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">oracleReduction</span>.<span class="name">firstChallenge</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Algebra/Ring/Defs.html#CommRing">CommRing</a> <span class="fn">R</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">pp</span> : <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams">PublicParams</a>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Î¹</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">Î¹</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#OracleReduction">OracleReduction</a> <span class="fn">oSpec</span> <span class="fn">(<a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.Statement.AfterFirstMessage">Statement.AfterFirstMessage</a> <span class="fn">R</span> <span class="fn">pp</span>)</span> <span class="fn">(<a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.OracleStatement.AfterFirstMessage">OracleStatement.AfterFirstMessage</a> <span class="fn">R</span> <span class="fn">pp</span>)</span> <span class="fn">(<a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.Witness">Witness</a> <span class="fn">R</span> <span class="fn">pp</span>)</span>
  <span class="fn">(<a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.Statement.AfterFirstChallenge">Statement.AfterFirstChallenge</a> <span class="fn">R</span> <span class="fn">pp</span>)</span> <span class="fn">(<a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.OracleStatement.AfterFirstChallenge">OracleStatement.AfterFirstChallenge</a> <span class="fn">R</span> <span class="fn">pp</span>)</span> <a href="../../.././Init/Prelude.html#Unit">Unit</a>
  <a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.mk">{</a> <span class="fn">dir</span> := <a href="../../.././ArkLib/Data/Fin/Tuple/Defs.html#Fin.vcons">!v[</a><a href="../../.././ArkLib/OracleReduction/Prelude.html#Direction.V_to_P">Direction.V_to_P</a><a href="../../.././ArkLib/Data/Fin/Tuple/Defs.html#Fin.vcons">]</a>, <span class="fn">Â«TypeÂ»</span> := <a href="../../.././ArkLib/Data/Fin/Tuple/Defs.html#Fin.vcons">!v[</a><span class="fn"><a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.FirstChallenge">FirstChallenge</a> <span class="fn">R</span> <span class="fn">pp</span></span><a href="../../.././ArkLib/Data/Fin/Tuple/Defs.html#Fin.vcons">]</a> <a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.mk">}</a></span></div></div><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Spartan.Spec.oracleReduction.firstChallenge" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="mod_doc"><h2 class="markdown-heading" id="First-sum-check">First sum-check <a class="hover-link" href="#First-sum-check">#</a></h2><p>We invoke the sum-check protocol the &quot;virtual&quot; polynomial:
<code>â„±(X) = eq â¸¨Ï„, Xâ¸© * (A â¸¨Xâ¸© * B â¸¨Xâ¸© - C â¸¨Xâ¸©)</code></p></div><div class="decl" id="Spartan.Spec.FirstSumcheckChallenge"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Spartan/Basic.lean#L258-L260">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.FirstSumcheckChallenge"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">FirstSumcheckChallenge</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">pp</span> : <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams">PublicParams</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p>Unfolds to <code>r_x : <a href="../../.././Init/Prelude.html#Fin">Fin</a> <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams.â„“_m">â„“_m</a> â†’ R</code></p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Spartan.Spec.FirstSumcheckChallenge" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Spartan.Spec.Statement.AfterFirstSumcheck"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Spartan/Basic.lean#L262-L265">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.Statement.AfterFirstSumcheck"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">Statement</span>.<span class="name">AfterFirstSumcheck</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">pp</span> : <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams">PublicParams</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p>Unfolds to <code>(r_x, Ï„, ğ•©) : (Fin <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams.â„“_m">â„“_m</a> â†’ R) Ã— (Fin (2 ^ <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams.â„“_n">â„“_n</a> - 2 ^ â„“_w) â†’ R) Ã— (Fin <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams.â„“_m">â„“_m</a> â†’ R)</code></p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Spartan.Spec.Statement.AfterFirstSumcheck" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Spartan.Spec.OracleStatement.AfterFirstSumcheck"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Spartan/Basic.lean#L267-L271">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.OracleStatement.AfterFirstSumcheck"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">OracleStatement</span>.<span class="name">AfterFirstSumcheck</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">pp</span> : <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams">PublicParams</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/ProofSystem/ConstraintSystem/R1CS.html#R1CS.MatrixIdx">R1CS.MatrixIdx</a> <a href="../../.././Init/Core.html#Sum">âŠ•</a> <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">1</span></span> â†’ <a href="../../.././foundational_types.html">Type</a></span></div></div><p>Is equivalent to <code>((A, B, C), ğ•¨) :</code>
<code>(fun _ =&gt; (Matrix (Fin 2 ^ â„“_m) (Fin 2 ^ â„“_n) R)) Ã— (Fin 2 ^ <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams.â„“_w">â„“_w</a> â†’ R)</code></p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Spartan.Spec.OracleStatement.AfterFirstSumcheck" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Spartan.Spec.Witness.AfterFirstSumcheck"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Spartan/Basic.lean#L273-L274">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.Witness.AfterFirstSumcheck"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">Witness</span>.<span class="name">AfterFirstSumcheck</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Spartan.Spec.Witness.AfterFirstSumcheck" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="mod_doc"><h2 class="markdown-heading" id="Send-evaluation-claims">Send evaluation claims <a class="hover-link" href="#Send-evaluation-claims">#</a></h2><p>We send the evaluation claims <code>v_A, v_B, v_C</code> to the verifier.</p><p>(i.e. invoking <code>SendClaim</code> on these &quot;virtual&quot; values)</p></div><div class="decl" id="Spartan.Spec.EvalClaim"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Spartan/Basic.lean#L294-L295">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.EvalClaim"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">EvalClaim</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/ProofSystem/ConstraintSystem/R1CS.html#R1CS.MatrixIdx">R1CS.MatrixIdx</a> â†’ <a href="../../.././foundational_types.html">Type</a></span></div></div><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Spartan.Spec.EvalClaim" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Spartan.Spec.instOracleInterfaceEvalClaim"><div class="instance"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Spartan/Basic.lean#L297-L300">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.instOracleInterfaceEvalClaim"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">instOracleInterfaceEvalClaim</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <a href="../../.././ArkLib/ProofSystem/ConstraintSystem/R1CS.html#R1CS.MatrixIdx">R1CS.MatrixIdx</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/OracleReduction/OracleInterface.html#OracleInterface">OracleInterface</a> <span class="fn">(<a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.EvalClaim">EvalClaim</a> <span class="fn">R</span> <span class="fn">i</span>)</span></span></div></div><p>We equip each evaluation claim with the default oracle interface, which returns the claim upon a
trivial query <code>() : <a href="../../.././Init/Prelude.html#Unit">Unit</a></code>.</p><details><summary>Equations</summary><ul class="equations"></ul></details></div></div><div class="decl" id="Spartan.Spec.Statement.AfterSendEvalClaim"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Spartan/Basic.lean#L302-L303">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.Statement.AfterSendEvalClaim"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">Statement</span>.<span class="name">AfterSendEvalClaim</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">pp</span> : <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams">PublicParams</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Spartan.Spec.Statement.AfterSendEvalClaim" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Spartan.Spec.OracleStatement.AfterSendEvalClaim"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Spartan/Basic.lean#L305-L307">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.OracleStatement.AfterSendEvalClaim"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">OracleStatement</span>.<span class="name">AfterSendEvalClaim</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">pp</span> : <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams">PublicParams</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/ProofSystem/ConstraintSystem/R1CS.html#R1CS.MatrixIdx">R1CS.MatrixIdx</a> <a href="../../.././Init/Core.html#Sum">âŠ•</a> <a href="../../.././ArkLib/ProofSystem/ConstraintSystem/R1CS.html#R1CS.MatrixIdx">R1CS.MatrixIdx</a> <a href="../../.././Init/Core.html#Sum">âŠ•</a> <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">1</span></span> â†’ <a href="../../.././foundational_types.html">Type</a></span></div></div><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Spartan.Spec.OracleStatement.AfterSendEvalClaim" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Spartan.Spec.Witness.AfterSendEvalClaim"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Spartan/Basic.lean#L309-L310">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.Witness.AfterSendEvalClaim"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">Witness</span>.<span class="name">AfterSendEvalClaim</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Spartan.Spec.Witness.AfterSendEvalClaim" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Spartan.Spec.oracleReduction.sendEvalClaim"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Spartan/Basic.lean#L312-L317">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.oracleReduction.sendEvalClaim"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">oracleReduction</span>.<span class="name">sendEvalClaim</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Algebra/Ring/Defs.html#CommRing">CommRing</a> <span class="fn">R</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">pp</span> : <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams">PublicParams</a>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Î¹</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">Î¹</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#OracleReduction">OracleReduction</a> <span class="fn">oSpec</span> <span class="fn">(<a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.Statement.AfterFirstSumcheck">Statement.AfterFirstSumcheck</a> <span class="fn">R</span> <span class="fn">pp</span>)</span> <span class="fn">(<a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.OracleStatement.AfterFirstSumcheck">OracleStatement.AfterFirstSumcheck</a> <span class="fn">R</span> <span class="fn">pp</span>)</span> <span class="fn">(<a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.Witness">Witness</a> <span class="fn">R</span> <span class="fn">pp</span>)</span>
  <span class="fn">(<a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.Statement.AfterSendEvalClaim">Statement.AfterSendEvalClaim</a> <span class="fn">R</span> <span class="fn">pp</span>)</span> <span class="fn">(<a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.OracleStatement.AfterSendEvalClaim">OracleStatement.AfterSendEvalClaim</a> <span class="fn">R</span> <span class="fn">pp</span>)</span> <a href="../../.././Init/Prelude.html#Unit">Unit</a>
  <a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.mk">{</a> <span class="fn">dir</span> := <a href="../../.././ArkLib/Data/Fin/Tuple/Defs.html#Fin.vcons">!v[</a><a href="../../.././ArkLib/OracleReduction/Prelude.html#Direction.P_to_V">Direction.P_to_V</a><a href="../../.././ArkLib/Data/Fin/Tuple/Defs.html#Fin.vcons">]</a>, <span class="fn">Â«TypeÂ»</span> := <a href="../../.././ArkLib/Data/Fin/Tuple/Defs.html#Fin.vcons">!v[</a><span class="fn">(<span class="fn">i</span> : <a href="../../.././ArkLib/ProofSystem/ConstraintSystem/R1CS.html#R1CS.MatrixIdx">R1CS.MatrixIdx</a>) â†’ <span class="fn"><a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.EvalClaim">EvalClaim</a> <span class="fn">R</span> <span class="fn">i</span></span></span><a href="../../.././ArkLib/Data/Fin/Tuple/Defs.html#Fin.vcons">]</a> <a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.mk">}</a></span></div></div><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Spartan.Spec.oracleReduction.sendEvalClaim" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="mod_doc"><h2 class="markdown-heading" id="Random-linear-combination-challenges">Random linear combination challenges <a class="hover-link" href="#Random-linear-combination-challenges">#</a></h2><p>The verifier sends back random linear combination challenges <code>r_A, r_B, r_C : R</code>.</p></div><div class="decl" id="Spartan.Spec.LinearCombinationChallenge"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Spartan/Basic.lean#L327-L328">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.LinearCombinationChallenge"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">LinearCombinationChallenge</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Spartan.Spec.LinearCombinationChallenge" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Spartan.Spec.Statement.AfterLinearCombination"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Spartan/Basic.lean#L330-L334">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.Statement.AfterLinearCombination"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">Statement</span>.<span class="name">AfterLinearCombination</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">pp</span> : <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams">PublicParams</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p>Unfolds to <code>((r_A, r_B, r_C), r_x, Ï„, ğ•©) :</code>
<code>(R1CS.MatrixIdx â†’ R) Ã— (Fin (2 ^ â„“_m) â†’ R) Ã— (Fin <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams.â„“_m">â„“_m</a> â†’ R) Ã— (Fin (2 ^ <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams.â„“_n">â„“_n</a> - 2 ^ â„“_w) â†’ R)</code></p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Spartan.Spec.Statement.AfterLinearCombination" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Spartan.Spec.OracleStatement.AfterLinearCombination"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Spartan/Basic.lean#L336-L338">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.OracleStatement.AfterLinearCombination"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">OracleStatement</span>.<span class="name">AfterLinearCombination</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">pp</span> : <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams">PublicParams</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/ProofSystem/ConstraintSystem/R1CS.html#R1CS.MatrixIdx">R1CS.MatrixIdx</a> <a href="../../.././Init/Core.html#Sum">âŠ•</a> <a href="../../.././ArkLib/ProofSystem/ConstraintSystem/R1CS.html#R1CS.MatrixIdx">R1CS.MatrixIdx</a> <a href="../../.././Init/Core.html#Sum">âŠ•</a> <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">1</span></span> â†’ <a href="../../.././foundational_types.html">Type</a></span></div></div><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Spartan.Spec.OracleStatement.AfterLinearCombination" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Spartan.Spec.Witness.AfterLinearCombination"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Spartan/Basic.lean#L340-L341">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.Witness.AfterLinearCombination"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">Witness</span>.<span class="name">AfterLinearCombination</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Spartan.Spec.Witness.AfterLinearCombination" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Spartan.Spec.oracleReduction.linearCombination"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Spartan/Basic.lean#L343-L348">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.oracleReduction.linearCombination"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">oracleReduction</span>.<span class="name">linearCombination</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Algebra/Ring/Defs.html#CommRing">CommRing</a> <span class="fn">R</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">pp</span> : <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams">PublicParams</a>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Î¹</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">Î¹</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#OracleReduction">OracleReduction</a> <span class="fn">oSpec</span> <span class="fn">(<a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.Statement.AfterFirstSumcheck">Statement.AfterFirstSumcheck</a> <span class="fn">R</span> <span class="fn">pp</span>)</span> <span class="fn">(<a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.OracleStatement.AfterFirstSumcheck">OracleStatement.AfterFirstSumcheck</a> <span class="fn">R</span> <span class="fn">pp</span>)</span> <span class="fn">(<a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.Witness">Witness</a> <span class="fn">R</span> <span class="fn">pp</span>)</span>
  <span class="fn">(<a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.Statement.AfterLinearCombination">Statement.AfterLinearCombination</a> <span class="fn">R</span> <span class="fn">pp</span>)</span> <span class="fn">(<a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.OracleStatement.AfterLinearCombination">OracleStatement.AfterLinearCombination</a> <span class="fn">R</span> <span class="fn">pp</span>)</span> <a href="../../.././Init/Prelude.html#Unit">Unit</a>
  <a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.mk">{</a> <span class="fn">dir</span> := <a href="../../.././ArkLib/Data/Fin/Tuple/Defs.html#Fin.vcons">!v[</a><a href="../../.././ArkLib/OracleReduction/Prelude.html#Direction.V_to_P">Direction.V_to_P</a><a href="../../.././ArkLib/Data/Fin/Tuple/Defs.html#Fin.vcons">]</a>, <span class="fn">Â«TypeÂ»</span> := <a href="../../.././ArkLib/Data/Fin/Tuple/Defs.html#Fin.vcons">!v[</a><span class="fn"><a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.LinearCombinationChallenge">LinearCombinationChallenge</a> <span class="fn">R</span></span><a href="../../.././ArkLib/Data/Fin/Tuple/Defs.html#Fin.vcons">]</a> <a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.mk">}</a></span></div></div><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Spartan.Spec.oracleReduction.linearCombination" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="mod_doc"><h2 class="markdown-heading" id="Second-sum-check">Second sum-check <a class="hover-link" href="#Second-sum-check">#</a></h2><p>We invoke the sum-check protocol the &quot;virtual&quot; polynomial:
<code>â„³(Y) = r_A * (MLE A) â¸¨r_x, Yâ¸© * (MLE ğ•«) â¸¨Yâ¸© + r_B * (MLE B) â¸¨r_x, Yâ¸© * (MLE ğ•«) â¸¨Yâ¸©</code>
<code>+ r_C * (MLE C) â¸¨r_x, Yâ¸© * (MLE ğ•«) â¸¨Yâ¸©</code></p></div><div class="decl" id="Spartan.Spec.secondSumCheckVirtualPolynomial"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Spartan/Basic.lean#L357-L360">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.secondSumCheckVirtualPolynomial"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">secondSumCheckVirtualPolynomial</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Algebra/Ring/Defs.html#CommRing">CommRing</a> <span class="fn">R</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">pp</span> : <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams">PublicParams</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">stmt</span> : <span class="fn"><a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.Statement.AfterLinearCombination">Statement.AfterLinearCombination</a> <span class="fn">R</span> <span class="fn">pp</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">oStmt</span> : <span class="fn">(<span class="fn">i</span> : <a href="../../.././ArkLib/ProofSystem/ConstraintSystem/R1CS.html#R1CS.MatrixIdx">R1CS.MatrixIdx</a> <a href="../../.././Init/Core.html#Sum">âŠ•</a> <a href="../../.././ArkLib/ProofSystem/ConstraintSystem/R1CS.html#R1CS.MatrixIdx">R1CS.MatrixIdx</a> <a href="../../.././Init/Core.html#Sum">âŠ•</a> <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">1</span></span>) â†’ <span class="fn"><a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.OracleStatement.AfterLinearCombination">OracleStatement.AfterLinearCombination</a> <span class="fn">R</span> <span class="fn">pp</span> <span class="fn">i</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Mathlib/Algebra/MvPolynomial/Basic.html#MvPolynomial">MvPolynomial</a> <span class="fn">(<a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn"><span class="fn">pp</span>.<a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams.â„“_n">â„“_n</a></span>)</span> <span class="fn">R</span></span></div></div><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Spartan.Spec.secondSumCheckVirtualPolynomial" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Spartan.Spec.SecondSumcheckChallenge"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Spartan/Basic.lean#L362-L363">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.SecondSumcheckChallenge"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">SecondSumcheckChallenge</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">pp</span> : <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams">PublicParams</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Spartan.Spec.SecondSumcheckChallenge" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Spartan.Spec.Statement.AfterSecondSumcheck"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Spartan/Basic.lean#L365-L370">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.Statement.AfterSecondSumcheck"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">Statement</span>.<span class="name">AfterSecondSumcheck</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">pp</span> : <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams">PublicParams</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p>Unfolds to <code>(r_y, (r_A, r_B, r_C), r_x, Ï„, ğ•©) :</code>
<code>(Fin <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams.â„“_n">â„“_n</a> â†’ R) Ã— (R1CS.MatrixIdx â†’ R) Ã— (Fin (2 ^ â„“_m) â†’ R) Ã— (Fin <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams.â„“_m">â„“_m</a> â†’ R) Ã—</code>
<code>(Fin (2 ^ <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams.â„“_n">â„“_n</a> - 2 ^ â„“_w) â†’ R)</code></p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Spartan.Spec.Statement.AfterSecondSumcheck" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Spartan.Spec.OracleStatement.AfterSecondSumcheck"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Spartan/Basic.lean#L372-L374">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.OracleStatement.AfterSecondSumcheck"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">OracleStatement</span>.<span class="name">AfterSecondSumcheck</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">R</span> : <a href="../../.././foundational_types.html">Type</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">pp</span> : <a href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.PublicParams">PublicParams</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/ProofSystem/ConstraintSystem/R1CS.html#R1CS.MatrixIdx">R1CS.MatrixIdx</a> <a href="../../.././Init/Core.html#Sum">âŠ•</a> <a href="../../.././ArkLib/ProofSystem/ConstraintSystem/R1CS.html#R1CS.MatrixIdx">R1CS.MatrixIdx</a> <a href="../../.././Init/Core.html#Sum">âŠ•</a> <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">1</span></span> â†’ <a href="../../.././foundational_types.html">Type</a></span></div></div><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Spartan.Spec.OracleStatement.AfterSecondSumcheck" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Spartan.Spec.Witness.AfterSecondSumcheck"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Spartan/Basic.lean#L376-L377">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/ProofSystem/Spartan/Basic.html#Spartan.Spec.Witness.AfterSecondSumcheck"><span class="name">Spartan</span>.<span class="name">Spec</span>.<span class="name">Witness</span>.<span class="name">AfterSecondSumcheck</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Spartan.Spec.Witness.AfterSecondSumcheck" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="mod_doc"><h2 class="markdown-heading" id="Final-check">Final check <a class="hover-link" href="#Final-check">#</a></h2><p>We invoke the <code>CheckClaim</code> protocol to check the two evaluation claims.</p></div></main>
<nav class="nav"><iframe src="../../.././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>