<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../../.././style.css"></link><link rel="icon" href="../../.././favicon.svg"></link><link rel="mask-icon" href="../../.././favicon.svg" color="#000000"></link><link rel="prefetch" href="../../.././/declarations/declaration-data.bmp" as="image"></link><title>ArkLib.ProofSystem.Fri.RoundConsistency</title><script defer="true" src="../../.././mathjax-config.js"></script><script defer="true" src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../../.././";</script><script>const MODULE_NAME="ArkLib.ProofSystem.Fri.RoundConsistency";</script><script type="module" src="../../.././jump-src.js"></script><script type="module" src="../../.././search.js"></script><script type="module" src="../../.././expand-nav.js"></script><script type="module" src="../../.././how-about.js"></script><script type="module" src="../../.././instances.js"></script><script type="module" src="../../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">ArkLib</span>.<span class="name">ProofSystem</span>.<span class="name">Fri</span>.<span class="name">RoundConsistency</span></h2><form id="search_form"><input type="text" name="q" autocomplete="off"></input>&#32;<button id="search_button" onclick="javascript: form.action='../../.././search.html';">Search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Fri/RoundConsistency.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../../.././Init.html">Init</a></li><li><a href="../../.././Mathlib/LinearAlgebra/Lagrange.html">Mathlib.LinearAlgebra.Lagrange</a></li><li><a href="../../.././ArkLib/Data/Polynomial/SplitFold.html">ArkLib.Data.Polynomial.SplitFold</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-ArkLib.ProofSystem.Fri.RoundConsistency" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#RoundConsistency.roundConsistencyCheck"><span class="name">RoundConsistency</span>.<span class="name">roundConsistencyCheck</span></a></div><div class="nav_link"><a class="break_within" href="#RoundConsistency.generalised_round_consistency_completeness"><span class="name">RoundConsistency</span>.<span class="name">generalised_round_consistency_completeness</span></a></div></nav><main>
<div class="mod_doc"><h1 class="markdown-heading" id="FRI-Round-Consistency">FRI Round Consistency <a class="hover-link" href="#FRI-Round-Consistency">#</a></h1><p>Defines the round consistency check for FRI and proves its completeness. The check verifies that
the Lagrange interpolant through evaluation points at scaled roots of unity equals the polynomial
fold at the challenge point.</p></div><div class="decl" id="RoundConsistency.roundConsistencyCheck"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Fri/RoundConsistency.lean#L18-L26">source</a></div><div class="decl_header"><span class="decl_kind">noncomputable def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/ProofSystem/Fri/RoundConsistency.html#RoundConsistency.roundConsistencyCheck"><span class="name">RoundConsistency</span>.<span class="name">roundConsistencyCheck</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ğ”½</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">ğ”½</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#DecidableEq">DecidableEq</a> <span class="fn">ğ”½</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Î³</span> : <span class="fn">ğ”½</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">pts</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> (<span class="fn">ğ”½</span> <a href="../../.././Init/Prelude.html#Prod">Ã—</a> <span class="fn">ğ”½</span>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">Î²</span> : <span class="fn">ğ”½</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Bool">Bool</a></div></div><p>The generalized round consistency check: checks that the Lagrange-interpolating polynomial through
<code>pts</code> evaluates to <code>Î²</code> at the challenge <code>Î³</code>. Used in FRI to verify that the next-round value equals
the fold evaluated at the challenge.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-RoundConsistency.roundConsistencyCheck" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="RoundConsistency.generalised_round_consistency_completeness"><div class="theorem"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Fri/RoundConsistency.lean#L64-L247">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/ProofSystem/Fri/RoundConsistency.html#RoundConsistency.generalised_round_consistency_completeness"><span class="name">RoundConsistency</span>.<span class="name">generalised_round_consistency_completeness</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ğ”½</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">inst1</span> : <span class="fn"><a href="../../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a> <span class="fn">ğ”½</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#DecidableEq">DecidableEq</a> <span class="fn">ğ”½</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">f</span> : <span class="fn"><a href="../../.././Mathlib/Algebra/Polynomial/Basic.html#Polynomial">Polynomial</a> <span class="fn">ğ”½</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">â„•</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">inst</span> : <span class="fn"><a href="../../.././Init/Data/NeZero.html#NeZero">NeZero</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Î³ </span><span class="fn">sâ‚€</span> : <span class="fn">ğ”½</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Ï‰</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">n</span></span> <a href="../../.././Mathlib/Logic/Embedding/Basic.html#Function.Embedding">â†ª</a> <span class="fn">ğ”½</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">âˆ€ (<span class="fn">i</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">n</span></span>), <span class="fn"><span class="fn">Ï‰</span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">n</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">1</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hâ‚</span> : <span class="fn">sâ‚€</span> <a href="../../.././Init/Core.html#Ne">â‰ </a> <span class="fn">0</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/ProofSystem/Fri/RoundConsistency.html#RoundConsistency.roundConsistencyCheck">roundConsistencyCheck</a> <span class="fn">Î³</span> <span class="fn">(<a href="../../.././Init/Data/List/Basic.html#List.map">List.map</a> <span class="fn">(fun (<span class="fn">i</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">n</span></span>) =&gt; <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn"><span class="fn">Ï‰</span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">sâ‚€</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn"><a href="../../.././Mathlib/Algebra/Polynomial/Eval/Defs.html#Polynomial.eval">Polynomial.eval</a> (<span class="fn"><span class="fn">Ï‰</span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">sâ‚€</span>) <span class="fn">f</span></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a>)</span> <span class="fn">(<a href="../../.././Init/Data/List/FinRange.html#List.finRange">List.finRange</a> <span class="fn">n</span>)</span>)</span>
    <span class="fn">(<a href="../../.././Mathlib/Algebra/Polynomial/Eval/Defs.html#Polynomial.eval">Polynomial.eval</a> (<span class="fn">sâ‚€</span> <a href="../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">n</span>) <span class="fn">(<a href="../../.././ArkLib/Data/Polynomial/SplitFold.html#Polynomial.foldNth">Polynomial.foldNth</a> <span class="fn">n</span> <span class="fn">f</span> <span class="fn">Î³</span>)</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <a href="../../.././Init/Prelude.html#Bool.true">true</a></div></div><p>Completeness of the round consistency check.</p><p>Given a polynomial <code>f</code>, challenge <code>Î³</code>, and <code>n</code>-th roots of unity <code>Ï‰</code>, when <code>f</code> is honestly
evaluated at the scaled points <code>{Ï‰ i * sâ‚€}</code>, the round consistency check succeeds with the
value <code>(foldNth n f Î³).eval (sâ‚€^n)</code>. This establishes that the Lagrange interpolant through
the evaluation points matches the n-way folding operation at the challenge point.</p></div></div></main>
<nav class="nav"><iframe src="../../.././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>