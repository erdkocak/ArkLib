<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../../.././style.css"></link><link rel="icon" href="../../.././favicon.svg"></link><link rel="mask-icon" href="../../.././favicon.svg" color="#000000"></link><link rel="prefetch" href="../../.././/declarations/declaration-data.bmp" as="image"></link><title>ArkLib.ProofSystem.Component.NoInteraction</title><script defer="true" src="../../.././mathjax-config.js"></script><script defer="true" src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../../.././";</script><script>const MODULE_NAME="ArkLib.ProofSystem.Component.NoInteraction";</script><script type="module" src="../../.././jump-src.js"></script><script type="module" src="../../.././search.js"></script><script type="module" src="../../.././expand-nav.js"></script><script type="module" src="../../.././how-about.js"></script><script type="module" src="../../.././instances.js"></script><script type="module" src="../../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">ArkLib</span>.<span class="name">ProofSystem</span>.<span class="name">Component</span>.<span class="name">NoInteraction</span></h2><form id="search_form"><input type="text" name="q" autocomplete="off"></input>&#32;<button id="search_button" onclick="javascript: form.action='../../.././search.html';">Search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Component/NoInteraction.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../../.././Init.html">Init</a></li><li><a href="../../.././ArkLib/OracleReduction/Security/RoundByRound.html">ArkLib.OracleReduction.Security.RoundByRound</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-ArkLib.ProofSystem.Component.NoInteraction" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#NoInteraction.combineMap"><span class="name">NoInteraction</span>.<span class="name">combineMap</span></a></div><div class="nav_link"><a class="break_within" href="#NoInteraction.prover"><span class="name">NoInteraction</span>.<span class="name">prover</span></a></div><div class="nav_link"><a class="break_within" href="#NoInteraction.verifier"><span class="name">NoInteraction</span>.<span class="name">verifier</span></a></div><div class="nav_link"><a class="break_within" href="#NoInteraction.reduction"><span class="name">NoInteraction</span>.<span class="name">reduction</span></a></div><div class="nav_link"><a class="break_within" href="#NoInteraction.reduction_completeness"><span class="name">NoInteraction</span>.<span class="name">reduction_completeness</span></a></div></nav><main>
<div class="mod_doc"><h1 class="markdown-heading" id="A-classification-of-all-oracle-reductions-with-no-interaction-between-the-prover-and-verifier">A classification of all (oracle) reductions with no interaction between the prover and verifier <a class="hover-link" href="#A-classification-of-all-oracle-reductions-with-no-interaction-between-the-prover-and-verifier">#</a></h1><p>This file contains the general form of all (oracle) reductions with no interaction between the
prover and verifier. In this setting, there are many specializations, and we can use these to
derive simpler conditions for completeness &amp; soundness.</p></div><div class="decl" id="NoInteraction.combineMap"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Component/NoInteraction.lean#L32-L35">source</a></div><div class="attributes">@[reducible]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/ProofSystem/Component/NoInteraction.html#NoInteraction.combineMap"><span class="name">NoInteraction</span>.<span class="name">combineMap</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">StmtIn </span><span class="fn">WitIn </span><span class="fn">StmtOut </span><span class="fn">WitOut</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">mapStmt</span> : <span class="fn"><span class="fn">StmtIn</span> → <span class="fn"><a href="../../.././VCVio/OracleComp/OracleComp.html#OracleComp">OracleComp</a> <span class="fn">oSpec</span> <span class="fn">StmtOut</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">mapWit</span> : <span class="fn"><span class="fn">StmtIn</span> → <span class="fn"><span class="fn">WitIn</span> → <span class="fn"><a href="../../.././VCVio/OracleComp/OracleComp.html#OracleComp">OracleComp</a> <span class="fn">oSpec</span> <span class="fn">WitOut</span></span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">StmtIn</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">WitIn</span> → <span class="fn"><a href="../../.././VCVio/OracleComp/OracleComp.html#OracleComp">OracleComp</a> <span class="fn">oSpec</span> (<span class="fn">StmtOut</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">WitOut</span>)</span></span></div></div><p>Collect the functions <code>mapStmt</code> and <code>mapWit</code> into a single function <code>mapCtx</code></p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-NoInteraction.combineMap" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="NoInteraction.prover"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Component/NoInteraction.lean#L37-L48">source</a></div><div class="attributes">@[reducible]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/ProofSystem/Component/NoInteraction.html#NoInteraction.prover"><span class="name">NoInteraction</span>.<span class="name">prover</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">StmtIn </span><span class="fn">WitIn </span><span class="fn">StmtOut </span><span class="fn">WitOut</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">mapStmt</span> : <span class="fn"><span class="fn">StmtIn</span> → <span class="fn"><a href="../../.././VCVio/OracleComp/OracleComp.html#OracleComp">OracleComp</a> <span class="fn">oSpec</span> <span class="fn">StmtOut</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">mapWit</span> : <span class="fn"><span class="fn">StmtIn</span> → <span class="fn"><span class="fn">WitIn</span> → <span class="fn"><a href="../../.././VCVio/OracleComp/OracleComp.html#OracleComp">OracleComp</a> <span class="fn">oSpec</span> <span class="fn">WitOut</span></span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#Prover">Prover</a> <span class="fn">oSpec</span> <span class="fn">StmtIn</span> <span class="fn">WitIn</span> <span class="fn">StmtOut</span> <span class="fn">WitOut</span> <a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.empty">!p[]</a></span></div></div><p>The prover in a no-interaction reduction can be specified by a tuple of functions:</p><ul>
<li><code>mapStmt : StmtIn → <a href="../../.././VCVio/OracleComp/OracleComp.html#OracleComp">OracleComp</a> oSpec StmtOut</code> maps the input statement to an output statement</li>
<li><code>mapWit : StmtIn → WitIn → <a href="../../.././VCVio/OracleComp/OracleComp.html#OracleComp">OracleComp</a> oSpec WitOut</code> maps the input witness to an output witness,
depending on the input statement</li>
</ul><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-NoInteraction.prover" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="NoInteraction.verifier"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Component/NoInteraction.lean#L50-L54">source</a></div><div class="attributes">@[reducible]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/ProofSystem/Component/NoInteraction.html#NoInteraction.verifier"><span class="name">NoInteraction</span>.<span class="name">verifier</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">StmtIn </span><span class="fn">StmtOut</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">mapStmt</span> : <span class="fn"><span class="fn">StmtIn</span> → <span class="fn"><a href="../../.././VCVio/OracleComp/OracleComp.html#OracleComp">OracleComp</a> <span class="fn">oSpec</span> <span class="fn">StmtOut</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#Verifier">Verifier</a> <span class="fn">oSpec</span> <span class="fn">StmtIn</span> <span class="fn">StmtOut</span> <a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.empty">!p[]</a></span></div></div><p>The verifier in a no-interaction reduction takes an empty transcript, and hence reduce to a
function <code>mapStmt : StmtIn → <a href="../../.././VCVio/OracleComp/OracleComp.html#OracleComp">OracleComp</a> oSpec StmtOut</code></p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-NoInteraction.verifier" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="NoInteraction.reduction"><div class="def"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Component/NoInteraction.lean#L56-L64">source</a></div><div class="attributes">@[reducible]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/ProofSystem/Component/NoInteraction.html#NoInteraction.reduction"><span class="name">NoInteraction</span>.<span class="name">reduction</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">StmtIn </span><span class="fn">WitIn </span><span class="fn">StmtOut </span><span class="fn">WitOut</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">mapStmt</span> : <span class="fn"><span class="fn">StmtIn</span> → <span class="fn"><a href="../../.././VCVio/OracleComp/OracleComp.html#OracleComp">OracleComp</a> <span class="fn">oSpec</span> <span class="fn">StmtOut</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">mapWit</span> : <span class="fn"><span class="fn">StmtIn</span> → <span class="fn"><span class="fn">WitIn</span> → <span class="fn"><a href="../../.././VCVio/OracleComp/OracleComp.html#OracleComp">OracleComp</a> <span class="fn">oSpec</span> <span class="fn">WitOut</span></span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/OracleReduction/Basic.html#Reduction">Reduction</a> <span class="fn">oSpec</span> <span class="fn">StmtIn</span> <span class="fn">WitIn</span> <span class="fn">StmtOut</span> <span class="fn">WitOut</span> <a href="../../.././ArkLib/OracleReduction/ProtocolSpec/Basic.html#ProtocolSpec.empty">!p[]</a></span></div></div><p>The no-interaction reduction can be specified by a tuple of functions:</p><ul>
<li><code>mapStmt : StmtIn → <a href="../../.././VCVio/OracleComp/OracleComp.html#OracleComp">OracleComp</a> oSpec StmtOut</code> maps the input statement to an output statement</li>
<li><code>mapWit : StmtIn → WitIn → <a href="../../.././VCVio/OracleComp/OracleComp.html#OracleComp">OracleComp</a> oSpec WitOut</code> maps the input witness to an output witness,
depending on the input statement</li>
</ul><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-NoInteraction.reduction" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="NoInteraction.reduction_completeness"><div class="theorem"><div class="gh_link"><a href="https://github.com/Verified-zkEVM/ArkLib/blob/06102f457d5f1583099557f4cc414e62d6f68e6a/ArkLib/ProofSystem/Component/NoInteraction.lean#L69-L78">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././ArkLib/ProofSystem/Component/NoInteraction.html#NoInteraction.reduction_completeness"><span class="name">NoInteraction</span>.<span class="name">reduction_completeness</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ι</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">oSpec</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleSpec.html#OracleSpec">OracleSpec</a> <span class="fn">ι</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">StmtIn </span><span class="fn">WitIn </span><span class="fn">StmtOut </span><span class="fn">WitOut</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">mapStmt</span> : <span class="fn"><span class="fn">StmtIn</span> → <span class="fn"><a href="../../.././VCVio/OracleComp/OracleComp.html#OracleComp">OracleComp</a> <span class="fn">oSpec</span> <span class="fn">StmtOut</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">mapWit</span> : <span class="fn"><span class="fn">StmtIn</span> → <span class="fn"><span class="fn">WitIn</span> → <span class="fn"><a href="../../.././VCVio/OracleComp/OracleComp.html#OracleComp">OracleComp</a> <span class="fn">oSpec</span> <span class="fn">WitOut</span></span></span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">σ</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">init</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a> <span class="fn">σ</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">impl</span> : <span class="fn"><a href="../../.././VCVio/OracleComp/SimSemantics/SimulateQ.html#QueryImpl">QueryImpl</a> <span class="fn">oSpec</span> <span class="fn">(<a href="../../.././Init/Control/State.html#StateT">StateT</a> <span class="fn">σ</span> <a href="../../.././VCVio/OracleComp/OracleComp.html#ProbComp">ProbComp</a>)</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">relIn</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<span class="fn">StmtIn</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">WitIn</span>)</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">relOut</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<span class="fn">StmtOut</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">WitOut</span>)</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ε</span> : <a href="../../.././Mathlib/Data/NNReal/Defs.html#NNReal">NNReal</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hRel</span> :
  <span class="fn">∀ (<span class="fn">stmtIn</span> : <span class="fn">StmtIn</span>) (<span class="fn">witIn</span> : <span class="fn">WitIn</span>),
    <span class="fn"><a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">stmtIn</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">witIn</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a> <a href="../../.././Init/Prelude.html#Membership.mem">∈</a> <span class="fn">relIn</span> →
      <a href="../../.././VCVio/OracleComp/DistSemantics/EvalDist.html#OracleComp.probEvent">[</a><span class="fn">fun (<span class="fn">x</span> : <span class="fn">StmtOut</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">WitOut</span>) =&gt;
          <span class="fn">match <span class="fn">x</span> with
          | <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">stmtOut</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">witOut</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a> =&gt; <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">stmtOut</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">witOut</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a> <a href="../../.././Init/Prelude.html#Membership.mem">∈</a> <span class="fn">relOut</span></span></span><a href="../../.././VCVio/OracleComp/DistSemantics/EvalDist.html#OracleComp.probEvent">|</a><span class="fn">do
          let <span class="fn">__do_lift</span> ← <span class="fn">init</span>
          <span class="fn"><span class="fn"><span class="fn">(<a href="../../.././VCVio/OracleComp/SimSemantics/SimulateQ.html#OracleComp.simulateQ">OracleComp.simulateQ</a> <span class="fn">impl</span> <span class="fn">(<a href="../../.././ArkLib/ProofSystem/Component/NoInteraction.html#NoInteraction.combineMap">combineMap</a> <span class="fn">mapStmt</span> <span class="fn">mapWit</span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">stmtIn</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">witIn</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a>)</span>)</span>.<a href="../../.././Init/Control/State.html#StateT.run'">run'</a></span> <span class="fn">__do_lift</span></span></span><a href="../../.././VCVio/OracleComp/DistSemantics/EvalDist.html#OracleComp.probEvent">]</a> <a href="../../.././Init/Prelude.html#GE.ge">≥</a>         <span class="fn">1</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">↑<span class="fn">ε</span></span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././ArkLib/OracleReduction/Security/Basic.html#Reduction.completeness">Reduction.completeness</a> <span class="fn">init</span> <span class="fn">impl</span> <span class="fn">relIn</span> <span class="fn">relOut</span> <span class="fn">(<a href="../../.././ArkLib/ProofSystem/Component/NoInteraction.html#NoInteraction.reduction">reduction</a> <span class="fn">mapStmt</span> <span class="fn">mapWit</span>)</span> <span class="fn">ε</span></span></div></div></div></div></main>
<nav class="nav"><iframe src="../../.././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>